<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>常见网络攻击详解与预防：构建数字安全防线 | T维度</title><meta name="author" content="TeaTang"><meta name="copyright" content="TeaTang"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="在数字时代，网络攻击已成为无处不在的威胁。从个人数据泄露到企业系统瘫痪，网络攻击的危害日益增长，形式也越来越多样化。理解这些S攻击类型、攻击原理以及如何有效预防它们，是构建强大数字安全防线的基石。本文将详细介绍一些最常见的网络攻击及其相应的防范措施。  “网络安全不是一蹴而就的，而是一个持续不断的过程，需要技术、策略和人的共同努力。”   一、概述：网络攻击的种类与威胁网络攻击通常利用系统、应用">
<meta property="og:type" content="article">
<meta property="og:title" content="常见网络攻击详解与预防：构建数字安全防线">
<meta property="og:url" content="https://teatang.github.io/t-blog/2023/10/12/2023/2023-10-12_%E5%B8%B8%E8%A7%81%E7%BD%91%E7%BB%9C%E6%94%BB%E5%87%BB%E8%AF%A6%E8%A7%A3%E4%B8%8E%E9%A2%84%E9%98%B2%EF%BC%9A%E6%9E%84%E5%BB%BA%E6%95%B0%E5%AD%97%E5%AE%89%E5%85%A8%E9%98%B2%E7%BA%BF/index.html">
<meta property="og:site_name" content="T维度">
<meta property="og:description" content="在数字时代，网络攻击已成为无处不在的威胁。从个人数据泄露到企业系统瘫痪，网络攻击的危害日益增长，形式也越来越多样化。理解这些S攻击类型、攻击原理以及如何有效预防它们，是构建强大数字安全防线的基石。本文将详细介绍一些最常见的网络攻击及其相应的防范措施。  “网络安全不是一蹴而就的，而是一个持续不断的过程，需要技术、策略和人的共同努力。”   一、概述：网络攻击的种类与威胁网络攻击通常利用系统、应用">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://teatang.github.io/t-blog/img/cover/default_cover-02.jpg">
<meta property="article:published_time" content="2023-10-12T02:00:00.000Z">
<meta property="article:modified_time" content="2025-09-22T08:17:45.401Z">
<meta property="article:author" content="TeaTang">
<meta property="article:tag" content="2023">
<meta property="article:tag" content="网络安全">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://teatang.github.io/t-blog/img/cover/default_cover-02.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "常见网络攻击详解与预防：构建数字安全防线",
  "url": "https://teatang.github.io/t-blog/2023/10/12/2023/2023-10-12_%E5%B8%B8%E8%A7%81%E7%BD%91%E7%BB%9C%E6%94%BB%E5%87%BB%E8%AF%A6%E8%A7%A3%E4%B8%8E%E9%A2%84%E9%98%B2%EF%BC%9A%E6%9E%84%E5%BB%BA%E6%95%B0%E5%AD%97%E5%AE%89%E5%85%A8%E9%98%B2%E7%BA%BF/",
  "image": "https://teatang.github.io/t-blog/img/cover/default_cover-02.jpg",
  "datePublished": "2023-10-12T02:00:00.000Z",
  "dateModified": "2025-09-22T08:17:45.401Z",
  "author": [
    {
      "@type": "Person",
      "name": "TeaTang",
      "url": "https://teatang.github.io/t-blog"
    }
  ]
}</script><link rel="shortcut icon" href="/t-blog/img/favicon.ico"><link rel="canonical" href="https://teatang.github.io/t-blog/2023/10/12/2023/2023-10-12_%E5%B8%B8%E8%A7%81%E7%BD%91%E7%BB%9C%E6%94%BB%E5%87%BB%E8%AF%A6%E8%A7%A3%E4%B8%8E%E9%A2%84%E9%98%B2%EF%BC%9A%E6%9E%84%E5%BB%BA%E6%95%B0%E5%AD%97%E5%AE%89%E5%85%A8%E9%98%B2%E7%BA%BF/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><meta name="google-site-verification" content="NdIUXAOVyGnnBhcrip0ksCawbdAzT0hlBZDE9u4jx6k"/><meta name="msvalidate.01" content="567E47D75E8DCF1282B9623AD914701E"/><meta name="baidu-site-verification" content="code-pE5rnuxcfD"/><link rel="stylesheet" href="/t-blog/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          const mediaQueryDark = window.matchMedia('(prefers-color-scheme: dark)')
          const mediaQueryLight = window.matchMedia('(prefers-color-scheme: light)')

          if (theme === undefined) {
            if (mediaQueryLight.matches) activateLightMode()
            else if (mediaQueryDark.matches) activateDarkMode()
            else {
              const hour = new Date().getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            mediaQueryDark.addEventListener('change', () => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else {
            theme === 'light' ? activateLightMode() : activateDarkMode()
          }
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/t-blog/',
  algolia: undefined,
  localSearch: {"path":"/t-blog/search.json","preload":false,"top_n_per_article":1,"unescape":false,"pagination":{"enable":true,"hitsPerPage":8},"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":400,"highlightFullpage":true,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":150,"languages":{"author":"作者: TeaTang","link":"链接: ","source":"来源: T维度","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '常见网络攻击详解与预防：构建数字安全防线',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="preconnect" href="https://jsd.012700.xyz"><link href="/self/btf.css" rel="stylesheet"><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/t-blog/atom.xml" title="T维度" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/t-blog/img/loading.gif" data-lazy-src="/t-blog/img/avatar.jpg" onerror="this.onerror=null;this.src='/t-blog/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/t-blog/archives/"><div class="headline">文章</div><div class="length-num">45</div></a><a href="/t-blog/tags/"><div class="headline">标签</div><div class="length-num">52</div></a><a href="/t-blog/categories/"><div class="headline">分类</div><div class="length-num">29</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/t-blog/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 我的轨迹</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/t-blog/tags/2023/"><i class="fa-fw fa-solid fa-bug"></i><span> 2023</span></a></li><li><a class="site-page child" href="/t-blog/tags/2024/"><i class="fa-fw fa-solid fa-code"></i><span> 2024</span></a></li><li><a class="site-page child" href="/t-blog/tags/2025/"><i class="fa-fw fa-solid fa-network-wired"></i><span> 2025</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/t-blog/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/t-blog/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/t-blog/archives/"><i class="fa-fw fa-solid fa-calendar-days"></i><span> 时间线</span></a></div><div class="menus_item"><a class="site-page" href="/t-blog/shuoshuo"><i class="fa-fw fas fa-comment"></i><span> 说说</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image: url(/t-blog/img/cover/default_cover-02.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/t-blog/"><span class="site-name">T维度</span></a><a class="nav-page-title" href="/t-blog/"><span class="site-name">常见网络攻击详解与预防：构建数字安全防线</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/t-blog/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 我的轨迹</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/t-blog/tags/2023/"><i class="fa-fw fa-solid fa-bug"></i><span> 2023</span></a></li><li><a class="site-page child" href="/t-blog/tags/2024/"><i class="fa-fw fa-solid fa-code"></i><span> 2024</span></a></li><li><a class="site-page child" href="/t-blog/tags/2025/"><i class="fa-fw fa-solid fa-network-wired"></i><span> 2025</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/t-blog/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/t-blog/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/t-blog/archives/"><i class="fa-fw fa-solid fa-calendar-days"></i><span> 时间线</span></a></div><div class="menus_item"><a class="site-page" href="/t-blog/shuoshuo"><i class="fa-fw fas fa-comment"></i><span> 说说</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">常见网络攻击详解与预防：构建数字安全防线</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon far fa-calendar-alt"></i><span class="post-meta-label">发表于</span><time datetime="2023-10-12T02:00:00.000Z" title="发表于 2023-10-12 10:00:00">2023-10-12</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/t-blog/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/">网络安全</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">3.4k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>10分钟</span></span><span class="post-meta-separator">|</span><span id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="umamiPV" data-path="/t-blog/2023/10/12/2023/2023-10-12_%E5%B8%B8%E8%A7%81%E7%BD%91%E7%BB%9C%E6%94%BB%E5%87%BB%E8%AF%A6%E8%A7%A3%E4%B8%8E%E9%A2%84%E9%98%B2%EF%BC%9A%E6%9E%84%E5%BB%BA%E6%95%B0%E5%AD%97%E5%AE%89%E5%85%A8%E9%98%B2%E7%BA%BF/"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><blockquote>
<p>在数字时代，网络攻击已成为无处不在的威胁。从个人数据泄露到企业系统瘫痪，网络攻击的危害日益增长，形式也越来越多样化。理解这些S攻击类型、攻击原理以及如何有效预防它们，是构建强大数字安全防线的基石。本文将详细介绍一些最常见的网络攻击及其相应的防范措施。</p>
</blockquote>
<div class="note info flat"><p>“网络安全不是一蹴而就的，而是一个持续不断的过程，需要技术、策略和人的共同努力。”</p>
</div>

<h2 id="一、概述：网络攻击的种类与威胁"><a href="#一、概述：网络攻击的种类与威胁" class="headerlink" title="一、概述：网络攻击的种类与威胁"></a>一、概述：网络攻击的种类与威胁</h2><p>网络攻击通常利用系统、应用或协议的漏洞，试图破坏数据的机密性（Confidentiality）、完整性（Integrity）和可用性（Availability），即所谓的 <strong>CIA 三要素</strong>。</p>
<p>根据攻击目标和手段，网络攻击可以分为多种类型：</p>
<ol>
<li><strong>拒绝服务攻击 (DoS&#x2F;DDoS)</strong>：破坏系统的可用性。</li>
<li><strong>数据窃取&#x2F;泄露</strong>：破坏数据的机密性。</li>
<li><strong>数据篡改</strong>：破坏数据的完整性。</li>
<li><strong>恶意程序感染</strong>：破坏系统的可控性，窃取数据或进行其他恶意活动。</li>
<li><strong>社会工程学攻击</strong>：利用人性的弱点进行欺骗。</li>
</ol>
<p>接下来，我们将详细解析几种最常见的攻击类型。</p>
<h2 id="二、常见网络攻击详解与预防"><a href="#二、常见网络攻击详解与预防" class="headerlink" title="二、常见网络攻击详解与预防"></a>二、常见网络攻击详解与预防</h2><h3 id="2-1-拒绝服务攻击-DoS-DDoS"><a href="#2-1-拒绝服务攻击-DoS-DDoS" class="headerlink" title="2.1 拒绝服务攻击 (DoS &#x2F; DDoS)"></a>2.1 拒绝服务攻击 (DoS &#x2F; DDoS)</h3><h4 id="2-1-1-攻击详解"><a href="#2-1-1-攻击详解" class="headerlink" title="2.1.1 攻击详解"></a>2.1.1 攻击详解</h4><ul>
<li><strong>DoS (Denial of Service)</strong>：单点拒绝服务攻击。攻击者使用一台计算机向目标服务器发送大量无效或超负荷的请求，导致服务器资源耗尽，无法响应正常用户的请求。</li>
<li><strong>DDoS (Distributed Denial of Service)</strong>：分布式拒绝服务攻击。攻击者利用大量受感染的“僵尸”计算机（Botnet）同时向目标服务器发起攻击。这种攻击规模更大，更难防御，因为它来自不同的源IP地址，难以简单地通过封锁IP来解决。</li>
<li><strong>攻击目的</strong>：使目标服务器、网站或网络服务不可用，造成业务中断和经济损失。</li>
<li><strong>攻击类型</strong>：<ul>
<li><strong>流量型攻击</strong>：通过发送海量流量淹没目标网络或服务器带宽。例如 SYN Flood、UDP Flood。</li>
<li><strong>资源耗尽型攻击</strong>：通过发送特定类型的请求耗尽服务器的CPU、内存、连接池等资源。例如 HTTP Flood、Slowloris。</li>
<li><strong>应用层攻击</strong>：针对应用程序的漏洞，通过少量请求就能耗尽资源，如大量查询数据库、触发复杂计算等。</li>
</ul>
</li>
</ul>
<h4 id="2-1-2-预防措施"><a href="#2-1-2-预防措施" class="headerlink" title="2.1.2 预防措施"></a>2.1.2 预防措施</h4><ol>
<li><strong>部署防火墙和入侵检测&#x2F;防御系统 (IDS&#x2F;IPS)</strong>：过滤恶意流量，检测异常模式。</li>
<li><strong>CDN (内容分发网络)</strong>：将流量分散到多个节点，并具备初步的DDoS清洗能力。</li>
<li><strong>DDoS 清洗服务</strong>：专业的DDoS防御服务提供商，可以在流量到达你的服务器之前进行过滤。</li>
<li><strong>负载均衡和冗余架构</strong>：分散流量，提高系统应对流量高峰的能力。</li>
<li><strong>流量异常监控</strong>：实时监控网络流量，及时发现异常峰值。</li>
<li><strong>限制请求频率和并发连接数</strong>：在反向代理（如 Nginx）和应用程序层面进行配置。</li>
<li><strong>及时修补系统和应用漏洞</strong>：防止攻击者利用已知漏洞进行攻击。</li>
</ol>
<h3 id="2-2-SQL-注入-SQL-Injection"><a href="#2-2-SQL-注入-SQL-Injection" class="headerlink" title="2.2 SQL 注入 (SQL Injection)"></a>2.2 SQL 注入 (SQL Injection)</h3><h4 id="2-2-1-攻击详解"><a href="#2-2-1-攻击详解" class="headerlink" title="2.2.1 攻击详解"></a>2.2.1 攻击详解</h4><ul>
<li><strong>攻击原理</strong>：应用程序在处理用户输入时，未对 <code>&#39;</code>、<code>&quot;</code>、<code>\</code> 等特殊字符进行充分过滤或转义，直接拼接到 SQL 查询语句中。攻击者可以通过插入恶意的 SQL 代码片段，改变原始查询逻辑。</li>
<li><strong>攻击目的</strong>：<ul>
<li>未经授权地访问、修改、删除数据库中的数据。</li>
<li>绕过身份验证。</li>
<li>甚至执行操作系统命令（取决于数据库和配置）。</li>
</ul>
</li>
<li><strong>例子</strong>：<ul>
<li>原始查询：<code>SELECT * FROM users WHERE username = &#39;&#123;$username&#125;&#39; AND password = &#39;&#123;$password&#125;&#39;</code></li>
<li>攻击输入：<code>username = &#39;admin&#39; --</code> (SQL 注释符)</li>
<li>实际执行：<code>SELECT * FROM users WHERE username = &#39;admin&#39; -- AND password = &#39;&#39;</code></li>
<li>导致结果：成功绕过密码验证，以 admin 身份登录。</li>
</ul>
</li>
</ul>
<h4 id="2-1-2-预防措施-1"><a href="#2-1-2-预防措施-1" class="headerlink" title="2.1.2 预防措施"></a>2.1.2 预防措施</h4><ol>
<li><strong>使用参数化查询 (Prepared Statements)</strong>：这是最有效、最推荐的方法。将 SQL 语句与用户输入的数据分开处理，数据库引擎会明确区分代码和数据。<ul>
<li>例如在 Python 中使用 <code>cursor.execute(&quot;SELECT * FROM users WHERE username = %s AND password = %s&quot;, (username, password))</code>。</li>
</ul>
</li>
<li><strong>输入验证和过滤</strong>：对所有用户输入进行严格的验证，只允许合法字符，禁止特殊字符。</li>
<li><strong>最小权限原则</strong>：数据库用户只分配其执行必要操作的最小权限，避免使用具有 DDL 或系统命令执行权限的用户。</li>
<li><strong>错误信息处理</strong>：不要向用户暴露详细的数据库错误信息，这可能暴露数据库结构。</li>
<li><strong>WAF (Web Application Firewall)</strong>：可以检测并拦截常见的 SQL 注入模式。</li>
</ol>
<h3 id="2-3-跨站脚本攻击-XSS-Cross-Site-Scripting"><a href="#2-3-跨站脚本攻击-XSS-Cross-Site-Scripting" class="headerlink" title="2.3 跨站脚本攻击 (XSS - Cross-Site Scripting)"></a>2.3 跨站脚本攻击 (XSS - Cross-Site Scripting)</h3><h4 id="2-3-1-攻击详解"><a href="#2-3-1-攻击详解" class="headerlink" title="2.3.1 攻击详解"></a>2.3.1 攻击详解</h4><ul>
<li><strong>攻击原理</strong>：网站未能对用户提交的 HTML 或 JavaScript 代码进行过滤，导致这些恶意脚本在其他用户的浏览器中执行。</li>
<li><strong>攻击目的</strong>：<ul>
<li>窃取用户的 Session Cookie，劫持用户会话。</li>
<li>在用户浏览器中执行恶意操作，例如修改页面内容、重定向到钓鱼网站。</li>
<li>发送虚假请求。</li>
</ul>
</li>
<li><strong>攻击类型</strong>：<ul>
<li><strong>反射型 XSS (Reflected XSS)</strong>：恶意脚本通过 URL 参数注入，服务器将其反射回用户浏览器执行。</li>
<li><strong>存储型 XSS (Stored XSS)</strong>：恶意脚本被存储在服务器（如数据库），当其他用户访问包含恶意脚本的页面时，脚本被执行。危害最大。</li>
<li><strong>DOM XSS (DOM-based XSS)</strong>：漏洞存在于客户端代码中，恶意脚本不经过服务器，直接修改 DOM 结构。</li>
</ul>
</li>
<li><strong>例子</strong>：用户发布留言时，输入 <code>&lt;script&gt;alert(document.cookie)&lt;/script&gt;</code>。如果网站没有过滤，其他用户访问此留言时，就会弹出包含他们 Cookie 的警告框。</li>
</ul>
<h4 id="2-3-2-预防措施"><a href="#2-3-2-预防措施" class="headerlink" title="2.3.2 预防措施"></a>2.3.2 预防措施</h4><ol>
<li><strong>对用户输入进行严格的输出编码 (Output Encoding)</strong>：在将用户输入显示到网页之前，将所有可能被解释为 HTML 或 JavaScript 的特殊字符进行转义。<ul>
<li>例如将 <code>&lt;</code> 转义为 <code>&amp;lt;</code>，<code>&gt;</code> 转义为 <code>&amp;gt;</code>。</li>
</ul>
</li>
<li><strong>内容安全策略 (CSP - Content Security Policy)</strong>：通过 HTTP 响应头配置浏览器，限制页面可以加载哪些资源（脚本、样式、图片等），并限制脚本的执行来源。</li>
<li><strong>输入验证和过滤</strong>：白名单机制，只允许已知安全的 HTML 标签和属性。</li>
<li><strong>HTTP-only Cookie</strong>：将敏感 Cookie 设置为 HttpOnly，防止 JavaScript 通过 <code>document.cookie</code> 访问。</li>
<li><strong>避免在 HTML 属性中直接使用用户输入</strong>。</li>
</ol>
<h3 id="2-4-钓鱼攻击-Phishing"><a href="#2-4-钓鱼攻击-Phishing" class="headerlink" title="2.4 钓鱼攻击 (Phishing)"></a>2.4 钓鱼攻击 (Phishing)</h3><h4 id="2-4-1-攻击详解"><a href="#2-4-1-攻击详解" class="headerlink" title="2.4.1 攻击详解"></a>2.4.1 攻击详解</h4><ul>
<li><strong>攻击原理</strong>：攻击者冒充合法机构（银行、社交媒体、电子邮件服务商、政府）或个人，通过电子邮件、短信、社交媒体等渠道发送虚假信息，诱骗受害者点击恶意链接、下载恶意附件或泄露个人敏感信息（用户名、密码、信用卡号）。</li>
<li><strong>攻击目的</strong>：窃取凭据、个人信息、财务数据，进行诈骗或进一步的攻击。</li>
<li><strong>常见手法</strong>：<ul>
<li><strong>假冒网站</strong>：制作与真实网站 visually 相似的假网站。</li>
<li><strong>紧急&#x2F;诱惑信息</strong>：利用用户恐慌（账户异常）或贪婪（中奖信息）的心理。</li>
<li><strong>附件</strong>：包含恶意软件（木马、勒索软件）的附件。</li>
</ul>
</li>
</ul>
<h4 id="2-4-2-预防措施"><a href="#2-4-2-预防措施" class="headerlink" title="2.4.2 预防措施"></a>2.4.2 预防措施</h4><ol>
<li><strong>提高安全意识</strong>：<ul>
<li><strong>警惕可疑邮件&#x2F;消息</strong>：检查发件人地址、邮件标题、邮件内容中的语法和拼写错误。</li>
<li><strong>不轻易点击链接</strong>：点击前将鼠标悬停在链接上，查看实际跳转地址是否与描述一致。</li>
<li><strong>不轻易下载附件</strong>：对于未知来源或可疑的附件，一律不打开。</li>
<li><strong>不随意透露个人信息</strong>：对于要求提供密码、银行卡号等敏感信息的请求，需高度警惕。</li>
</ul>
</li>
<li><strong>使用多因素认证 (MFA)</strong>：即使密码被窃取，攻击者也难以登录。</li>
<li><strong>使用可靠的电子邮件服务和浏览器</strong>：它们通常内置了反钓鱼和恶意链接检测功能。</li>
<li><strong>定期更换密码，并使用强密码</strong>。</li>
</ol>
<h3 id="2-5-恶意软件-Malware-木马、勒索软件、病毒等"><a href="#2-5-恶意软件-Malware-木马、勒索软件、病毒等" class="headerlink" title="2.5 恶意软件 (Malware - 木马、勒索软件、病毒等)"></a>2.5 恶意软件 (Malware - 木马、勒索软件、病毒等)</h3><h4 id="2-5-1-攻击详解"><a href="#2-5-1-攻击详解" class="headerlink" title="2.5.1 攻击详解"></a>2.5.1 攻击详解</h4><ul>
<li><strong>攻击原理</strong>：恶意软件是旨在损害、破坏或访问计算机系统而未经授权的任何软件。它们通常通过钓鱼邮件附件、感染的网站下载、捆绑在合法软件中或利用系统漏洞进行传播。</li>
<li><strong>常见类型</strong>：<ul>
<li><strong>木马 (Trojan Horse)</strong>：伪装成合法程序，一旦运行，就会在受害者不知情的情况下执行恶意操作（如远程控制、窃取数据）。</li>
<li><strong>勒索软件 (Ransomware)</strong>：加密受害者文件或锁定系统，要求支付赎金才能恢复。</li>
<li><strong>病毒 (Virus)</strong>：通过感染其他程序或文件进行传播，具有自我复制能力。</li>
<li><strong>蠕虫 (Worm)</strong>：独立运行，通过网络自我复制传播，无需感染宿主程序。</li>
<li><strong>间谍软件 (Spyware)</strong>：秘密收集用户信息并发送给攻击者。</li>
<li><strong>后门 (Backdoor)</strong>：绕过正常安全验证，获得对系统的未授权访问。</li>
</ul>
</li>
<li><strong>攻击目的</strong>：窃取数据、破坏系统、勒索钱财、利用资源进行其他攻击。</li>
</ul>
<h4 id="2-5-2-预防措施"><a href="#2-5-2-预防措施" class="headerlink" title="2.5.2 预防措施"></a>2.5.2 预防措施</h4><ol>
<li><strong>安装并及时更新杀毒软件 (Antivirus)</strong>：定期扫描系统。</li>
<li><strong>保持操作系统和所有软件的最新状态</strong>：及时安装安全补丁，修复已知漏洞。</li>
<li><strong>使用防火墙</strong>：限制不必要的网络连接。</li>
<li><strong>谨慎下载和安装软件</strong>：只从官方或可信来源下载。</li>
<li><strong>禁用自动运行功能</strong>：如 USB 设备插入自动播放。</li>
<li><strong>定期备份重要数据</strong>：尤其是异地备份和离线备份，以防勒索软件攻击。</li>
<li><strong>提高安全意识</strong>：识别恶意链接、附件和可疑下载。</li>
</ol>
<h3 id="2-6-缓冲区溢出-Buffer-Overflow"><a href="#2-6-缓冲区溢出-Buffer-Overflow" class="headerlink" title="2.6 缓冲区溢出 (Buffer Overflow)"></a>2.6 缓冲区溢出 (Buffer Overflow)</h3><h4 id="2-6-1-攻击详解"><a href="#2-6-1-攻击详解" class="headerlink" title="2.6.1 攻击详解"></a>2.6.1 攻击详解</h4><ul>
<li><strong>攻击原理</strong>：当程序尝试写入超出其分配的固定大小缓冲区的数据时，多余的数据会覆盖相邻内存区域。攻击者可以精心构造输入，覆盖内存中的关键数据（如返回地址），从而控制程序的执行流程。</li>
<li><strong>攻击目的</strong>：执行任意恶意代码，提升权限，导致系统崩溃或程序异常。</li>
<li><strong>危害</strong>：这是一种底层攻击，但一旦成功，危害极大，可以完全控制目标系统。</li>
<li><strong>常见受害者</strong>：C&#x2F;C++ 等低级语言编写的程序，因为它们不提供内置的边界检查。</li>
</ul>
<h4 id="2-6-2-预防措施"><a href="#2-6-2-预防措施" class="headerlink" title="2.6.2 预防措施"></a>2.6.2 预防措施</h4><ol>
<li><strong>安全的编程习惯</strong>：<ul>
<li><strong>使用安全的库函数</strong>：避免使用不进行边界检查的 <code>strcpy()</code>、<code>sprintf()</code> 等函数，改用 <code>strncpy()</code>、<code>snprintf()</code> 等带有长度限制的函数。</li>
<li><strong>进行严格的输入验证和边界检查</strong>：在处理所有外部输入时，确保输入长度不会超出缓冲区大小。</li>
</ul>
</li>
<li><strong>编译器和操作系统安全特性</strong>：<ul>
<li><strong>数据执行保护 (DEP - Data Execution Prevention)</strong>：防止数据段中的代码被执行。</li>
<li><strong>地址空间布局随机化 (ASLR - Address Space Layout Randomization)</strong>：使攻击者难以预测内存地址。</li>
<li><strong>栈保护 (Stack Canaries)</strong>：在栈帧中插入特殊值，如果被覆盖则程序终止。</li>
</ul>
</li>
<li><strong>使用内存安全的编程语言</strong>：如 Java, C#, Python, Go, Rust 等，它们提供了内存管理和边界检查，大大降低了缓冲区溢出的风险。</li>
</ol>
<h2 id="三、通用网络安全预防原则"><a href="#三、通用网络安全预防原则" class="headerlink" title="三、通用网络安全预防原则"></a>三、通用网络安全预防原则</h2><p>除了针对特定攻击的措施外，以下普遍适用的安全原则至关重要：</p>
<ol>
<li><strong>最小权限原则 (Principle of Least Privilege)</strong>：用户和进程只被授予完成任务所需的最小权限。</li>
<li><strong>纵深防御 (Defense in Depth)</strong>：部署多层安全措施，即使一层被攻破，还有其他层提供保护。</li>
<li><strong>定期安全审计和渗透测试</strong>：主动发现系统和应用的漏洞。</li>
<li><strong>数据加密</strong>：敏感数据在传输和存储时都进行加密。</li>
<li><strong>强大的身份验证和访问控制</strong>：使用强密码，结合 MFA，实施基于角色的访问控制 (RBAC)。</li>
<li><strong>及时更新与打补丁</strong>：对操作系统、应用程序、固件进行定期更新，修复已知的安全漏洞。</li>
<li><strong>安全意识培训</strong>：对所有员工进行定期安全培训，使其了解最新的威胁和安全最佳实践。</li>
<li><strong>备份和恢复计划</strong>：制定并测试完善的数据备份和灾难恢复计划。</li>
<li><strong>物理安全</strong>：保护服务器和网络设备的物理访问安全。</li>
<li><strong>日志记录和监控</strong>：收集、分析系统和应用程序的日志，及时发现异常行为。</li>
</ol>
<h2 id="四、总结"><a href="#四、总结" class="headerlink" title="四、总结"></a>四、总结</h2><p>网络攻击是无休止的猫鼠游戏，攻击技术在不断演进，防御手段也必须随之升级。理解常见的攻击类型是有效防御的第一步。通过结合技术安全措施、严格的安全策略、员工安全意识培训，并坚持“防御即生存”的心态，我们可以共同努力，构建一个更安全、更可靠的数字环境。记住，没有绝对的安全，只有相对的安全，持续改进是网络安全永恒的主题。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://teatang.github.io/t-blog">TeaTang</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://teatang.github.io/t-blog/2023/10/12/2023/2023-10-12_%E5%B8%B8%E8%A7%81%E7%BD%91%E7%BB%9C%E6%94%BB%E5%87%BB%E8%AF%A6%E8%A7%A3%E4%B8%8E%E9%A2%84%E9%98%B2%EF%BC%9A%E6%9E%84%E5%BB%BA%E6%95%B0%E5%AD%97%E5%AE%89%E5%85%A8%E9%98%B2%E7%BA%BF/">https://teatang.github.io/t-blog/2023/10/12/2023/2023-10-12_%E5%B8%B8%E8%A7%81%E7%BD%91%E7%BB%9C%E6%94%BB%E5%87%BB%E8%AF%A6%E8%A7%A3%E4%B8%8E%E9%A2%84%E9%98%B2%EF%BC%9A%E6%9E%84%E5%BB%BA%E6%95%B0%E5%AD%97%E5%AE%89%E5%85%A8%E9%98%B2%E7%BA%BF/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://teatang.github.io/t-blog" target="_blank">T维度</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/t-blog/tags/2023/">2023</a><a class="post-meta__tags" href="/t-blog/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/">网络安全</a></div><div class="post-share"><div class="social-share" data-image="/t-blog/img/cover/default_cover-02.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/t-blog/2024/01/25/2024/2024-01-26_Vite%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3%EF%BC%9A%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/" title="Vite配置详解：从入门到精通"><img class="cover" src="/t-blog/img/loading.gif" data-lazy-src="/t-blog/img/cover/default_cover-04.jpg" onerror="onerror=null;src='/t-blog/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">Vite配置详解：从入门到精通</div></div><div class="info-2"><div class="info-item-1"> Vite 是一款由 Vue.js 创始人尤雨溪开发的现代前端构建工具。它旨在通过原生 ES 模块提供极速的开发体验，并在生产环境中利用 Rollup 进行高效打包。Vite 的配置非常灵活，可以通过 vite.config.js（或 .ts）文件进行全面定制。  “Vite 的配置就是对 vite.config.js 文件中导出的配置对象进行操作。这个配置文件提供了对开发服务器、构建过程、插件、别名等一切的控制。”   一、Vite 配置文件的位置与类型 文件名：通常是 vite.config.js、vite.config.ts、vite.config.mjs 或 vite.config.cjs。建议使用 .ts 文件以获得更好的类型提示。 位置：通常位于项目根目录。  1.1 基本结构Vite 配置文件默认导出一个配置对象。这个对象可以使用 defineConfig 辅助函数包裹，以获得更好的类型提示。 123456789101112131415// vite.config.tsimport &#123; defineConfig &#125; from &#x27;vite...</div></div></div></a><a class="pagination-related" href="/t-blog/2023/09/02/2023/2023-09-03_%E8%A7%A3%E6%9E%90%E8%8B%B1%E8%AF%AD%E4%B8%AD%E7%9A%84%E5%A4%AE%E5%85%83%E9%9F%B3%EF%BC%9A%C9%99%EF%BC%88schwa%EF%BC%89%E5%92%8C%20%CA%8C/" title="解析英语中的央元音：ə（schwa）和 ʌ"><img class="cover" src="/t-blog/img/loading.gif" data-lazy-src="/t-blog/img/cover/default_cover-17.jpg" onerror="onerror=null;src='/t-blog/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">解析英语中的央元音：ə（schwa）和 ʌ</div></div><div class="info-2"><div class="info-item-1">英语中的元音系统复杂多样，其中央元音是一个非常特殊且重要的类别。它包括最常见的 schwa &#x2F;ə&#x2F;（非重读音节的元音）和 wedge &#x2F;ʌ&#x2F;（重读音节的元音）。掌握这两个音对于提高英语发音的自然度和理解口语至关重要。    一、什么是央元音？央元音是指发音时舌头处于口腔中央位置（既不靠前也不靠后，既不高也不低）的元音。它们是口语中非常常见的音，尤其是在非重读音节中。 1. 概念理解 自然状态： 尝试放松口腔，自然地发出一个模糊的音，你的舌头和嘴唇都处于中立、放松的状态，这就是央元音的感觉。 省力原则： 在非重读音节中，为了发音省力，许多元音都会弱化成央元音 &#x2F;ə&#x2F;。   二、Schwa &#x2F;ə&#x2F;：最常见的元音&#x2F;ə&#x2F; 是英语中最常见的元音，我们称之为 “schwa”（弱读元音）。它总是出现在非重读音节中，发音短促、模糊、不清晰。它的存在使得英语的语流听起来自然、有节奏感。 1. 发音要点 舌位： 舌头处于口腔中央，放松，既不前也不后，不高也不低。 唇形： 嘴唇放松，几乎呈中立状态，不圆...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/t-blog/2023/01/25/2023/2023-01-26_%E4%BB%8E%E5%8D%95%E6%9C%BA%E5%88%B0%E5%93%A8%E5%85%B5%E4%B8%80%E5%BC%A0%E5%9B%BE%E7%90%86%E6%B8%85redis%E6%9E%B6%E6%9E%84%E6%BC%94%E8%BF%9B/" title="从单机到哨兵，一张图理清redis架构演进！"><img class="cover" src="/t-blog/img/loading.gif" data-lazy-src="/t-blog/img/cover/default_cover-08.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-01-26</div><div class="info-item-2">从单机到哨兵，一张图理清redis架构演进！</div></div><div class="info-2"><div class="info-item-1">Redis 的架构是逐步演进而来的，正所谓“罗马不是一天建成的”。   2010 年：单机版 Redis  当 Redis1.0在 2010 年首次发布时，整体架构非常简单，通常作为业务系统的缓存使用。不过，Redis 的数据是存储在内存中的，一旦重启，数据就会全部丢失，导致请求会直接打到数据库上，带来较大的压力。  2013 年：持久化机制上线  2013 年，Redis2.8版本发布，解决了之前“重启就丢数据”的问题。Redis 引入了 RDB（内存快照）机制，用于定时将内存中的数据持久化到磁盘。同时还支持 AOF（只追加文件）方式，将每一次写操作都记录到日志文件中，实现更高级别的持久化保障。  2013 年：主从复制机制  同样在 Redis2.8中，官方引入了主从复制功能，提升了系统的高可用性。主节点负责处理实时的读写请求，从节点则负责同步主节点的数据，起到备份和读扩展的作用。  2013 年：Sentinel 哨兵机制上线  在 Redis2.8版本中，引入了 Sentinel（哨兵）机制，用于实时监控 Redis 实例的运行状态。它主要负责以下几个方面的工作：   监...</div></div></div></a><a class="pagination-related" href="/t-blog/2023/01/26/2023/2023-01-27_MySQL%20%E7%B4%A2%E5%BC%95%E8%AF%A6%E8%A7%A3/" title="MySQL 索引详解"><img class="cover" src="/t-blog/img/loading.gif" data-lazy-src="/t-blog/img/cover/default_cover-13.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-01-27</div><div class="info-item-2">MySQL 索引详解</div></div><div class="info-2"><div class="info-item-1"> 索引是数据库中用于提高查询速度的一种数据结构。在 MySQL 中，合理有效地使用索引能够显著提升数据库的查询性能，减少 I&#x2F;O 操作。然而，不恰当的索引也可能带来额外的开销。理解 MySQL 索引的原理和优化策略，是数据库性能调优的关键。  “好的索引，事半功倍；坏的索引，越帮越忙。” - 数据库优化格言   一、什么是索引？索引（Index）是一种特殊的查找表，数据库搜索引擎可以利用它来快速定位数据。可以将其类比为一本书的目录，通过目录我们可以快速找到感兴趣的章节，而不需要通读整本书。 在数据库中，没有索引的查询需要全表扫描，即逐行检查每条记录，直到找到符合条件的记录。当数据量非常大时，这种操作的效率会非常低下。索引通过创建指向数据物理位置的指针，使得数据库在查询时能够直接跳转到相关记录，从而大大加快查询速度。 二、索引的优缺点优点 显著提高数据检索速度：这是索引最核心、最主要的优点。 加快表与表之间的连接速度：对于 JOIN 操作，索引可以加速连接条件的匹配。 加快分组和排序操作：GROUP BY 和 ORDER BY 操作通常通过消除临时表和对文件进行排序来提高...</div></div></div></a><a class="pagination-related" href="/t-blog/2023/02/04/2023/2023-02-05_Docker%E9%95%9C%E5%83%8F%E6%9E%84%E5%BB%BA%E8%AF%A6%E8%A7%A3%EF%BC%9A%E4%BB%8EDockerfile%E5%88%B0%E9%AB%98%E6%95%88%E5%AE%9E%E8%B7%B5/" title="Docker镜像构建详解：从Dockerfile到高效实践"><img class="cover" src="/t-blog/img/loading.gif" data-lazy-src="/t-blog/img/cover/default_cover-11.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-02-05</div><div class="info-item-2">Docker镜像构建详解：从Dockerfile到高效实践</div></div><div class="info-2"><div class="info-item-1"> Docker 镜像是 Docker 的核心组成部分之一。它是一个轻量级、独立、可执行的软件包，包含运行应用程序所需的一切：代码、运行时、系统工具、系统库和设置。构建 Docker 镜像是实现应用程序容器化的关键步骤，通过 Dockerfile 文件，我们可以定义镜像的构建过程。  “Docker 镜像本质上是文件系统和配置的组合，它通过层（Layer）的概念实现了高效的存储和复用。理解 Dockerfile 的每一条指令以及如何优化构建过程，是成为 Docker 高手的必经之路。”   一、Docker 镜像构建概述 Dockerfile：一个文本文件，包含一系列指令，用于自动化地在 Docker 环境中构建镜像。 构建上下文 (Build Context)：在执行 docker build 命令时，你指定了一个路径（通常是当前目录）。这个路径下的所有文件和目录都会被发送到 Docker daemon，作为构建上下文。只有在构建上下文中包含的文件才能被 Dockerfile 中的指令（如 ADD, COPY）访问。 镜像层 (Image Layer)：Docker 镜像由一系列...</div></div></div></a><a class="pagination-related" href="/t-blog/2023/01/31/2023/2023-02-01_Docker%E9%95%9C%E5%83%8F%E6%9E%84%E5%BB%BA%E4%B8%8E%E7%AE%A1%E7%90%86%EF%BC%9A%E6%89%93%E9%80%A0%E6%A0%87%E5%87%86%E5%8C%96%E3%80%81%E5%8F%AF%E5%A4%8D%E7%94%A8%E7%9A%84%E5%AE%B9%E5%99%A8%E9%95%9C%E5%83%8F/" title="Docker镜像构建与管理：打造标准化、可复用的容器镜像"><img class="cover" src="/t-blog/img/loading.gif" data-lazy-src="/t-blog/img/cover/default_cover-12.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-02-01</div><div class="info-item-2">Docker镜像构建与管理：打造标准化、可复用的容器镜像</div></div><div class="info-2"><div class="info-item-1"> 本文由 简悦 SimpRead 转码， 原文地址 mp.weixin.qq.com  Docker 镜像构建与管理：打造标准化、可复用的容器镜像开篇：你是否也在镜像管理上栽过跟头？凌晨 2 点，生产环境突然告警，新部署的容器启动失败。排查后发现：开发环境用的镜像 800MB，生产环境的却有 3.2GB，里面塞满了编译工具、测试数据，甚至还有开发同学的 SSH 私钥… 这种 “镜像肥胖症” 你遇到过吗？或者更糟糕的：  同一个服务，测试环境能跑，生产环境启动就报错 镜像仓库里堆满了 latest、v1、v1-final、v1-final-final 这种让人崩溃的标签 构建一次镜像要等 20 分钟，因为每次都要重新下载依赖包  今天这篇文章，我会基于 5 年运维实战经验，教你构建一套标准化的镜像管理体系：从多阶段构建优化到镜像安全扫描，从版本管理策略到自动化构建流程，让你的镜像体积缩小 70%、构建速度提升 5 倍，并且永远不会再出现 “这个镜像到底能不能用” 的灵魂拷问。 一、镜像构建的三大核心原则（90% 的人都忽略了）1. 最小化原则：镜像里只放 “必需品”很多人写 Doc...</div></div></div></a><a class="pagination-related" href="/t-blog/2023/02/08/2023/2023-02-09_Python%E5%85%83%E7%B1%BB(Metaclass)%E6%B7%B1%E5%BA%A6%E8%A7%A3%E6%9E%90/" title="Python元类(Metaclass)深度解析"><img class="cover" src="/t-blog/img/loading.gif" data-lazy-src="/t-blog/img/cover/default_cover-16.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-02-09</div><div class="info-item-2">Python元类(Metaclass)深度解析</div></div><div class="info-2"><div class="info-item-1">Python 元类深度解析：从概念到实战  “Everything is an object.” - Python之禅“Classes are objects too.” - 元类的核心思想  在 Python 中，万物皆对象。你用 class 关键字定义的类，例如 str、int、list，它们本身也是对象。那么，是谁创建了这些类对象呢？答案就是“元类”(Metaclass)。元类是创建类的类，它允许我们在类被创建时对其行为进行定制，是 Python 中进行高级面向对象编程的强大工具。 1. 什么是元类？在 Python 中，当你定义一个类 class MyClass: pass 的时候，Python 解释器会自动执行以下步骤：  定义一个类对象：解释器读取 MyClass 的定义，并创建一个名为 MyClass 的类对象。 将类对象绑定到命名空间：这个 MyClass 类对象被绑定到当前的命名空间中。  然后，当你通过 my_instance = MyClass() 来创建实例时，MyClass 这个类对象就会被调用，从而创建并返回一个实例对象。 元类就是用来创建这些类对象的...</div></div></div></a><a class="pagination-related" href="/t-blog/2023/02/09/2023/2023-02-10_Python%E7%A5%9E%E5%BA%93Pydantic%E6%B7%B1%E5%BA%A6%E8%A7%A3%E6%9E%90%EF%BC%9A%E6%95%B0%E6%8D%AE%E9%AA%8C%E8%AF%81%E4%B8%8E%E8%AE%BE%E7%BD%AE%E7%AE%A1%E7%90%86%E7%9A%84%E5%88%A9%E5%99%A8/" title="Python神库Pydantic深度解析：数据验证与设置管理的利器"><img class="cover" src="/t-blog/img/loading.gif" data-lazy-src="/t-blog/img/cover/default_cover-14.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-02-10</div><div class="info-item-2">Python神库Pydantic深度解析：数据验证与设置管理的利器</div></div><div class="info-2"><div class="info-item-1">Python Pydantic 库深度解析：数据验证与设置管理的利器 Pydantic 是一个功能强大且广受欢迎的 Python 库，它使用 Python 类型提示来进行数据验证、序列化和反序列化。Pydantic 强制执行类型提示，并在数据无效时提供友好的错误报告，极大地简化了数据处理、API 请求体验证和配置管理等任务。   1. 为什么选择 Pydantic？在现代 Python 应用开发中，数据从多种来源流入（API 请求、数据库查询、配置文件、第三方服务等），其结构和类型可能不完全符合预期。这导致了对数据验证的强烈需求。Pydantic 的出现，优雅地解决了这个问题：  强制类型提示：利用 Python 3.6+ 的类型提示，在运行时进行数据验证。 自动数据转换：在可能的情况下，Pydantic 会自动将数据转换为正确的类型（例如，将 &quot;123&quot; 转换为 123）。 清晰的错误报告：当数据验证失败时，Pydantic 会生成详细、易于理解的错误信息。 与 FastAPI 无缝集成：FastAPI 框架将 Pydantic 作为其核心组件，用于请求体、...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/t-blog/img/loading.gif" data-lazy-src="/t-blog/img/avatar.jpg" onerror="this.onerror=null;this.src='/t-blog/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">TeaTang</div><div class="author-info-description"></div><div class="site-data"><a href="/t-blog/archives/"><div class="headline">文章</div><div class="length-num">45</div></a><a href="/t-blog/tags/"><div class="headline">标签</div><div class="length-num">52</div></a><a href="/t-blog/categories/"><div class="headline">分类</div><div class="length-num">29</div></a></div><a id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/teatang"><i class="fab fa-github"></i><span>主題 GitHub</span></a><div class="card-info-social-icons"><a class="social-icon" href="mailto:tea.tang1211@gmail.com" rel="external nofollow noreferrer" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="/t-blog/atom.xml" target="_blank" title="RSS"><i class="fas fa-rss"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">网站更多功能即将上线，敬请期待！</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E6%A6%82%E8%BF%B0%EF%BC%9A%E7%BD%91%E7%BB%9C%E6%94%BB%E5%87%BB%E7%9A%84%E7%A7%8D%E7%B1%BB%E4%B8%8E%E5%A8%81%E8%83%81"><span class="toc-text">一、概述：网络攻击的种类与威胁</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%B8%B8%E8%A7%81%E7%BD%91%E7%BB%9C%E6%94%BB%E5%87%BB%E8%AF%A6%E8%A7%A3%E4%B8%8E%E9%A2%84%E9%98%B2"><span class="toc-text">二、常见网络攻击详解与预防</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E6%8B%92%E7%BB%9D%E6%9C%8D%E5%8A%A1%E6%94%BB%E5%87%BB-DoS-DDoS"><span class="toc-text">2.1 拒绝服务攻击 (DoS &#x2F; DDoS)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-1-%E6%94%BB%E5%87%BB%E8%AF%A6%E8%A7%A3"><span class="toc-text">2.1.1 攻击详解</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-2-%E9%A2%84%E9%98%B2%E6%8E%AA%E6%96%BD"><span class="toc-text">2.1.2 预防措施</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-SQL-%E6%B3%A8%E5%85%A5-SQL-Injection"><span class="toc-text">2.2 SQL 注入 (SQL Injection)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E6%94%BB%E5%87%BB%E8%AF%A6%E8%A7%A3"><span class="toc-text">2.2.1 攻击详解</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-2-%E9%A2%84%E9%98%B2%E6%8E%AA%E6%96%BD-1"><span class="toc-text">2.1.2 预防措施</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-%E8%B7%A8%E7%AB%99%E8%84%9A%E6%9C%AC%E6%94%BB%E5%87%BB-XSS-Cross-Site-Scripting"><span class="toc-text">2.3 跨站脚本攻击 (XSS - Cross-Site Scripting)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-%E6%94%BB%E5%87%BB%E8%AF%A6%E8%A7%A3"><span class="toc-text">2.3.1 攻击详解</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-%E9%A2%84%E9%98%B2%E6%8E%AA%E6%96%BD"><span class="toc-text">2.3.2 预防措施</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-%E9%92%93%E9%B1%BC%E6%94%BB%E5%87%BB-Phishing"><span class="toc-text">2.4 钓鱼攻击 (Phishing)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-1-%E6%94%BB%E5%87%BB%E8%AF%A6%E8%A7%A3"><span class="toc-text">2.4.1 攻击详解</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-2-%E9%A2%84%E9%98%B2%E6%8E%AA%E6%96%BD"><span class="toc-text">2.4.2 预防措施</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-%E6%81%B6%E6%84%8F%E8%BD%AF%E4%BB%B6-Malware-%E6%9C%A8%E9%A9%AC%E3%80%81%E5%8B%92%E7%B4%A2%E8%BD%AF%E4%BB%B6%E3%80%81%E7%97%85%E6%AF%92%E7%AD%89"><span class="toc-text">2.5 恶意软件 (Malware - 木马、勒索软件、病毒等)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-5-1-%E6%94%BB%E5%87%BB%E8%AF%A6%E8%A7%A3"><span class="toc-text">2.5.1 攻击详解</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-5-2-%E9%A2%84%E9%98%B2%E6%8E%AA%E6%96%BD"><span class="toc-text">2.5.2 预防措施</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E7%BC%93%E5%86%B2%E5%8C%BA%E6%BA%A2%E5%87%BA-Buffer-Overflow"><span class="toc-text">2.6 缓冲区溢出 (Buffer Overflow)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-6-1-%E6%94%BB%E5%87%BB%E8%AF%A6%E8%A7%A3"><span class="toc-text">2.6.1 攻击详解</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-6-2-%E9%A2%84%E9%98%B2%E6%8E%AA%E6%96%BD"><span class="toc-text">2.6.2 预防措施</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E9%80%9A%E7%94%A8%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E9%A2%84%E9%98%B2%E5%8E%9F%E5%88%99"><span class="toc-text">三、通用网络安全预防原则</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E6%80%BB%E7%BB%93"><span class="toc-text">四、总结</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/t-blog/2025/09/21/2025/2025-09-22_WSL2%E8%AF%A6%E8%A7%A3%EF%BC%9A%E5%9C%A8Windows%E8%BF%90%E8%A1%8CLinux%E7%9A%84%E6%96%B0%E6%A0%87%E5%87%86/" title="WSL2详解：在Windows运行Linux的新标准"><img src="/t-blog/img/loading.gif" data-lazy-src="/t-blog/img/cover/default_cover-08.jpg" onerror="this.onerror=null;this.src='/t-blog/img/404.jpg'" alt="WSL2详解：在Windows运行Linux的新标准"/></a><div class="content"><a class="title" href="/t-blog/2025/09/21/2025/2025-09-22_WSL2%E8%AF%A6%E8%A7%A3%EF%BC%9A%E5%9C%A8Windows%E8%BF%90%E8%A1%8CLinux%E7%9A%84%E6%96%B0%E6%A0%87%E5%87%86/" title="WSL2详解：在Windows运行Linux的新标准">WSL2详解：在Windows运行Linux的新标准</a><time datetime="2025-09-21T22:24:00.000Z" title="发表于 2025-09-22 06:24:00">2025-09-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/t-blog/2025/09/17/2025/2025-09-18_GoLang%20Wails%20%E6%A1%86%E6%9E%B6%E8%AF%A6%E8%A7%A3%EF%BC%9A%E7%94%A8%20Web%20%E6%8A%80%E6%9C%AF%E6%9E%84%E5%BB%BA%E6%A1%8C%E9%9D%A2%E5%BA%94%E7%94%A8/" title="GoLang Wails 框架详解：用 Web 技术构建桌面应用"><img src="/t-blog/img/loading.gif" data-lazy-src="/t-blog/img/cover/default_cover-02.jpg" onerror="this.onerror=null;this.src='/t-blog/img/404.jpg'" alt="GoLang Wails 框架详解：用 Web 技术构建桌面应用"/></a><div class="content"><a class="title" href="/t-blog/2025/09/17/2025/2025-09-18_GoLang%20Wails%20%E6%A1%86%E6%9E%B6%E8%AF%A6%E8%A7%A3%EF%BC%9A%E7%94%A8%20Web%20%E6%8A%80%E6%9C%AF%E6%9E%84%E5%BB%BA%E6%A1%8C%E9%9D%A2%E5%BA%94%E7%94%A8/" title="GoLang Wails 框架详解：用 Web 技术构建桌面应用">GoLang Wails 框架详解：用 Web 技术构建桌面应用</a><time datetime="2025-09-17T22:24:00.000Z" title="发表于 2025-09-18 06:24:00">2025-09-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/t-blog/2025/09/13/2025/2025-09-14_Redis%E6%8C%81%E4%B9%85%E5%8C%96%E6%B7%B1%E5%BA%A6%E8%A7%A3%E6%9E%90%EF%BC%9ARDB%E4%B8%8EAOF%E7%9A%84%E7%BB%88%E6%9E%81%E5%AF%B9%E5%86%B3%E4%B8%8E%E5%AE%9E%E6%88%98%E4%BC%98%E5%8C%96/" title="Redis持久化深度解析：RDB与AOF的终极对决与实战优化"><img src="/t-blog/img/loading.gif" data-lazy-src="/t-blog/img/cover/default_cover-07.jpg" onerror="this.onerror=null;this.src='/t-blog/img/404.jpg'" alt="Redis持久化深度解析：RDB与AOF的终极对决与实战优化"/></a><div class="content"><a class="title" href="/t-blog/2025/09/13/2025/2025-09-14_Redis%E6%8C%81%E4%B9%85%E5%8C%96%E6%B7%B1%E5%BA%A6%E8%A7%A3%E6%9E%90%EF%BC%9ARDB%E4%B8%8EAOF%E7%9A%84%E7%BB%88%E6%9E%81%E5%AF%B9%E5%86%B3%E4%B8%8E%E5%AE%9E%E6%88%98%E4%BC%98%E5%8C%96/" title="Redis持久化深度解析：RDB与AOF的终极对决与实战优化">Redis持久化深度解析：RDB与AOF的终极对决与实战优化</a><time datetime="2025-09-13T22:24:00.000Z" title="发表于 2025-09-14 06:24:00">2025-09-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/t-blog/2025/09/04/2025/2025-09-05_Go%E8%AF%AD%E8%A8%80%E5%8D%8F%E7%A8%8B%E8%AE%BE%E8%AE%A1%E4%B8%8E%E8%B0%83%E5%BA%A6%E5%8E%9F%E7%90%86/" title="Go 语言协程设计与调度原理"><img src="/t-blog/img/loading.gif" data-lazy-src="/t-blog/img/cover/default_cover-11.jpg" onerror="this.onerror=null;this.src='/t-blog/img/404.jpg'" alt="Go 语言协程设计与调度原理"/></a><div class="content"><a class="title" href="/t-blog/2025/09/04/2025/2025-09-05_Go%E8%AF%AD%E8%A8%80%E5%8D%8F%E7%A8%8B%E8%AE%BE%E8%AE%A1%E4%B8%8E%E8%B0%83%E5%BA%A6%E5%8E%9F%E7%90%86/" title="Go 语言协程设计与调度原理">Go 语言协程设计与调度原理</a><time datetime="2025-09-04T22:24:00.000Z" title="发表于 2025-09-05 06:24:00">2025-09-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/t-blog/2025/09/03/2025/2025-09-04_Go%20%E8%AF%AD%E8%A8%80%20Array%20%E5%92%8C%20Slice%20%E6%B7%B1%E5%BA%A6%E8%A7%A3%E6%9E%90/" title="Go 语言 Array 与 Slice 深度解析：核心区别、实战指南与高效运用"><img src="/t-blog/img/loading.gif" data-lazy-src="/t-blog/img/cover/default_cover-15.jpg" onerror="this.onerror=null;this.src='/t-blog/img/404.jpg'" alt="Go 语言 Array 与 Slice 深度解析：核心区别、实战指南与高效运用"/></a><div class="content"><a class="title" href="/t-blog/2025/09/03/2025/2025-09-04_Go%20%E8%AF%AD%E8%A8%80%20Array%20%E5%92%8C%20Slice%20%E6%B7%B1%E5%BA%A6%E8%A7%A3%E6%9E%90/" title="Go 语言 Array 与 Slice 深度解析：核心区别、实战指南与高效运用">Go 语言 Array 与 Slice 深度解析：核心区别、实战指南与高效运用</a><time datetime="2025-09-03T22:24:00.000Z" title="发表于 2025-09-04 06:24:00">2025-09-04</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/t-blog/img/cover/default_cover-02.jpg);"><div class="footer-flex"><div class="footer-flex-items"><div class="footer-flex-item"><div class="footer-flex-title">我的轨迹</div><div class="footer-flex-content"><a href="/t-blog/tags/2023/" target="_blank" title="📌 2023">📌 2023</a><a href="/t-blog/tags/2024/" target="_blank" title="❓ 2024">❓ 2024</a><a href="/t-blog/tags/2025/" target="_blank" title="🚀 2025">🚀 2025</a></div></div></div><div class="footer-flex-items"><div class="footer-flex-item"><div class="footer-flex-title">维度</div><div class="footer-flex-content"><a href="/t-blog/categories/" target="_blank" title="分类">分类</a><a href="/t-blog/tags/" target="_blank" title="标签">标签</a><a href="/t-blog/categories/" target="_blank" title="时间线">时间线</a></div></div></div><div class="footer-flex-items"><div class="footer-flex-item"><div class="footer-flex-title">其他</div><div class="footer-flex-content"><a href="/t-blog/shuoshuo" target="_blank" title="说说">说说</a></div></div></div></div><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2022 - 2025 By TeaTang</span><span class="framework-info"><span class="footer-separator">|</span><span>框架 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.0</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/t-blog/js/utils.js"></script><script src="/t-blog/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = `%%{init:{ 'theme':'${theme}'}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>(() => {
  const applyThemeDefaultsConfig = theme => {
    if (theme === 'dark-mode') {
      Chart.defaults.color = "rgba(255, 255, 255, 0.8)"
      Chart.defaults.borderColor = "rgba(255, 255, 255, 0.2)"
      Chart.defaults.scale.ticks.backdropColor = "transparent"
    } else {
      Chart.defaults.color = "rgba(0, 0, 0, 0.8)"
      Chart.defaults.borderColor = "rgba(0, 0, 0, 0.1)"
      Chart.defaults.scale.ticks.backdropColor = "transparent"
    }
  }

  // Recursively traverse the config object and automatically apply theme-specific color schemes
  const applyThemeConfig = (obj, theme) => {
    if (typeof obj !== 'object' || obj === null) return

    Object.keys(obj).forEach(key => {
      const value = obj[key]
      // If the property is an object and has theme-specific options, apply them
      if (typeof value === 'object' && value !== null) {
        if (value[theme]) {
          obj[key] = value[theme] // Apply the value for the current theme
        } else {
          // Recursively process child objects
          applyThemeConfig(value, theme)
        }
      }
    })
  }

  const runChartJS = ele => {
    window.loadChartJS = true

    Array.from(ele).forEach((item, index) => {
      const chartSrc = item.firstElementChild
      const chartID = item.getAttribute('data-chartjs-id') || ('chartjs-' + index) // Use custom ID or default ID
      const width = item.getAttribute('data-width')
      const existingCanvas = document.getElementById(chartID)

      // If a canvas already exists, remove it to avoid rendering duplicates
      if (existingCanvas) {
          existingCanvas.parentNode.remove()
      }

      const chartDefinition = chartSrc.textContent
      const canvas = document.createElement('canvas')
      canvas.id = chartID

      const div = document.createElement('div')
      div.className = 'chartjs-wrap'

      if (width) {
        div.style.width = width
      }

      div.appendChild(canvas)
      chartSrc.insertAdjacentElement('afterend', div)

      const ctx = document.getElementById(chartID).getContext('2d')

      const config = JSON.parse(chartDefinition)

      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark-mode' : 'light-mode'

      // Set default styles (initial setup)
      applyThemeDefaultsConfig(theme)

      // Automatically traverse the config and apply dual-mode color schemes
      applyThemeConfig(config, theme)

      new Chart(ctx, config)
    })
  }

  const loadChartJS = () => {
    const chartJSEle = document.querySelectorAll('#article-container .chartjs-container')
    if (chartJSEle.length === 0) return

    window.loadChartJS ? runChartJS(chartJSEle) : btf.getScript('https://cdn.jsdelivr.net/npm/chart.js/dist/chart.umd.min.js').then(() => runChartJS(chartJSEle))
  }

  // Listen for theme change events
  btf.addGlobalFn('themeChange', loadChartJS, 'chartjs')
  btf.addGlobalFn('encrypt', loadChartJS, 'chartjs')

  window.pjax ? loadChartJS() : document.addEventListener('DOMContentLoaded', loadChartJS)
})()</script></div><script data-pjax src="/self/btf.js"></script><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>(() => {
  const pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => {
      try {
        fn()
      } catch (err) {
        console.debug('Pjax callback failed:', err)
      }
    })
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      const usePjax = true
      true
        ? (usePjax ? pjax.loadUrl('/t-blog/404.html') : window.location.href = '/t-blog/404.html')
        : window.location.href = e.request.responseURL
    }
  })
})()</script><script>(() => {
  const option = null
  const config = {"site_uv":true,"site_pv":true,"page_pv":true,"token":"qTvz1SkmPDt785fgh6BpiA5qiFFIVUwxj8Ft+rPW+cdN59v1hXjwRgSmy0+ji9m+oLlcxvo2NfDSMa6epVl3NTlsN3ejCIwWeP8Y51aEJ0Sbem4UexGmJLspB7AkOBId2SdtT6QWEBlGmFIIQgchQ2zAKYxTmc/kpBED5aLSr+3uvmQ9/G7FJQeVFpveDkK0xM1hu36xq4a6/FSeROxtoEp5zabzTWiYTlLsQzIl/NlELnCq3nxK+oo/vl3UQo/oM/rae/gJX/MaVKsgIUCd2ABJogNkx2KTenBIBpbPki5FzOgPh6/z4GPa4HvhNO51DDVG1SEQZooqEYmt/gnybLBWFbN+7liZWw=="}

  const runTrack = () => {
    if (typeof umami !== 'undefined' && typeof umami.track === 'function') {
      umami.track(props => ({ ...props, url: window.location.pathname, title: GLOBAL_CONFIG_SITE.title }))
    } else {
      console.warn('Umami Analytics: umami.track is not available')
    }
  }

  const loadUmamiJS = () => {
    btf.getScript('https://umami.012700.xyz/script.js', {
      'data-website-id': '2a796d6c-6499-42d8-8eb4-d9a2930b0ff3',
      'data-auto-track': 'false',
      ...option
    }).then(() => {
      runTrack()
    }).catch(error => {
      console.error('Umami Analytics: Error loading script', error)
    })
  }

  const getData = async (isPost) => {
    try {
      const now = Date.now()
      const keyUrl = isPost ? `&url=${window.location.pathname}` : ''
      const headerList = { 'Accept': 'application/json' }

      if (true) {
        headerList['Authorization'] = `Bearer ${config.token}`
      } else {
        headerList['x-umami-api-key'] = config.token
      }

      const res = await fetch(`https://umami.012700.xyz/api/websites/2a796d6c-6499-42d8-8eb4-d9a2930b0ff3/stats?startAt=0000000000&endAt=${now}${keyUrl}`, {
        method: "GET",
        headers: headerList
      })

      if (!res.ok) {
        throw new Error(`HTTP error! status: ${res.status}`)
      }

      return await res.json()
    } catch (error) {
      console.error('Umami Analytics: Failed to fetch data', error)
      throw error
    }
  }

  const insertData = async () => {
    try {
      if (GLOBAL_CONFIG_SITE.pageType === 'post' && config.page_pv) {
        const pagePV = document.getElementById('umamiPV')
        if (pagePV) {
          const data = await getData(true)
          if (data && data.pageviews && typeof data.pageviews.value !== 'undefined') {
            pagePV.textContent = data.pageviews.value
          } else {
            console.warn('Umami Analytics: Invalid page view data received')
          }
        }
      }

      if (config.site_uv || config.site_pv) {
        const data = await getData(false)

        if (config.site_uv) {
          const siteUV = document.getElementById('umami-site-uv')
          if (siteUV && data && data.visitors && typeof data.visitors.value !== 'undefined') {
            siteUV.textContent = data.visitors.value
          } else if (siteUV) {
            console.warn('Umami Analytics: Invalid site UV data received')
          }
        }

        if (config.site_pv) {
          const sitePV = document.getElementById('umami-site-pv')
          if (sitePV && data && data.pageviews && typeof data.pageviews.value !== 'undefined') {
            sitePV.textContent = data.pageviews.value
          } else if (sitePV) {
            console.warn('Umami Analytics: Invalid site PV data received')
          }
        }
      }
    } catch (error) {
      console.error('Umami Analytics: Failed to insert data', error)
    }
  }

  btf.addGlobalFn('pjaxComplete', runTrack, 'umami_analytics_run_track')
  btf.addGlobalFn('pjaxComplete', insertData, 'umami_analytics_insert')


  loadUmamiJS()

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', insertData)
  } else {
    setTimeout(insertData, 100)
  }
})()</script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden="hidden"></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="local-search-input"><input placeholder="搜索文章" type="text"/></div><hr/><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none;"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/t-blog/js/search/local-search.js"></script></div></div></body></html>