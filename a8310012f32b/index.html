<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Git 从开发测试到上线的流程详解 | 1024 维度</title><meta name="author" content="TeaTang"><meta name="copyright" content="TeaTang"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Git 作为一个分布式版本控制系统，在现代软件开发中扮演着核心角色。它不仅能追踪代码变更、协调团队协作，还能支撑复杂的开发、测试到上线的全流程管理。本文将详细阐述基于 Git 的标准开发、测试到上线流程，旨在提供一个清晰、可操作的实践指南。  核心思想：利用 Git 的分支管理能力，清晰地划分开发阶段，确保代码质量，并实现高效、可追溯的部署。   一、Git 分支模型选择在开始流程之前，选择一个">
<meta property="og:type" content="article">
<meta property="og:title" content="Git 从开发测试到上线的流程详解">
<meta property="og:url" content="https://blog.tbf1211.xx.kg/a8310012f32b/index.html">
<meta property="og:site_name" content="1024 维度">
<meta property="og:description" content="Git 作为一个分布式版本控制系统，在现代软件开发中扮演着核心角色。它不仅能追踪代码变更、协调团队协作，还能支撑复杂的开发、测试到上线的全流程管理。本文将详细阐述基于 Git 的标准开发、测试到上线流程，旨在提供一个清晰、可操作的实践指南。  核心思想：利用 Git 的分支管理能力，清晰地划分开发阶段，确保代码质量，并实现高效、可追溯的部署。   一、Git 分支模型选择在开始流程之前，选择一个">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blog.tbf1211.xx.kg/img/cover/default_cover-20.jpg">
<meta property="article:published_time" content="2024-10-24T22:24:00.000Z">
<meta property="article:modified_time" content="2026-01-21T09:51:21.385Z">
<meta property="article:author" content="TeaTang">
<meta property="article:tag" content="CI&#x2F;CD">
<meta property="article:tag" content="开发工具">
<meta property="article:tag" content="Git">
<meta property="article:tag" content="2024">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog.tbf1211.xx.kg/img/cover/default_cover-20.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Git 从开发测试到上线的流程详解",
  "url": "https://blog.tbf1211.xx.kg/a8310012f32b/",
  "image": "https://blog.tbf1211.xx.kg/img/cover/default_cover-20.jpg",
  "datePublished": "2024-10-24T22:24:00.000Z",
  "dateModified": "2026-01-21T09:51:21.385Z",
  "author": [
    {
      "@type": "Person",
      "name": "TeaTang",
      "url": "https://blog.tbf1211.xx.kg"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon-1.ico"><link rel="canonical" href="https://blog.tbf1211.xx.kg/a8310012f32b/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><meta name="google-site-verification" content="NdIUXAOVyGnnBhcrip0ksCawbdAzT0hlBZDE9u4jx6k"/><meta name="msvalidate.01" content="567E47D75E8DCF1282B9623AD914701E"/><meta name="baidu-site-verification" content="code-pE5rnuxcfD"/><link rel="stylesheet" href="/css/index.css?v=5.5.3"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.1.7/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          const mediaQueryDark = window.matchMedia('(prefers-color-scheme: dark)')
          const mediaQueryLight = window.matchMedia('(prefers-color-scheme: light)')

          if (theme === undefined) {
            if (mediaQueryLight.matches) activateLightMode()
            else if (mediaQueryDark.matches) activateDarkMode()
            else {
              const hour = new Date().getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            mediaQueryDark.addEventListener('change', () => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else {
            theme === 'light' ? activateLightMode() : activateDarkMode()
          }
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":false,"top_n_per_article":1,"unescape":false,"pagination":{"enable":true,"hitsPerPage":8},"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":400,"highlightFullpage":true,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":150,"languages":{"author":"作者: TeaTang","link":"链接: ","source":"来源: 1024 维度","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Git 从开发测试到上线的流程详解',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="preconnect" href="https://jsd.012700.xyz"><link href="/self/btf.css" rel="stylesheet"><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="1024 维度" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/loading.gif" data-lazy-src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">512</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">228</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">84</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 我的轨迹</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/2023/"><i class="fa-fw fa-solid fa-bug"></i><span> 2023</span></a></li><li><a class="site-page child" href="/archives/2024/"><i class="fa-fw fa-solid fa-code"></i><span> 2024</span></a></li><li><a class="site-page child" href="/archives/2025/"><i class="fa-fw fa-solid fa-network-wired"></i><span> 2025</span></a></li><li><a class="site-page child" href="/archives/2026/"><i class="fa-fw fa-solid fa-code-branch"></i><span> 2026</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa-solid fa-calendar-days"></i><span> 时间线</span></a></div><div class="menus_item"><a class="site-page" href="/shuoshuo"><i class="fa-fw fas fa-comment"></i><span> 说说</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image: url(/img/cover/default_cover-20.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">1024 维度</span></a><a class="nav-page-title" href="/"><span class="site-name">Git 从开发测试到上线的流程详解</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 我的轨迹</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/2023/"><i class="fa-fw fa-solid fa-bug"></i><span> 2023</span></a></li><li><a class="site-page child" href="/archives/2024/"><i class="fa-fw fa-solid fa-code"></i><span> 2024</span></a></li><li><a class="site-page child" href="/archives/2025/"><i class="fa-fw fa-solid fa-network-wired"></i><span> 2025</span></a></li><li><a class="site-page child" href="/archives/2026/"><i class="fa-fw fa-solid fa-code-branch"></i><span> 2026</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa-solid fa-calendar-days"></i><span> 时间线</span></a></div><div class="menus_item"><a class="site-page" href="/shuoshuo"><i class="fa-fw fas fa-comment"></i><span> 说说</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">Git 从开发测试到上线的流程详解</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon far fa-calendar-alt"></i><span class="post-meta-label">发表于</span><time datetime="2024-10-24T22:24:00.000Z" title="发表于 2024-10-25 06:24:00">2024-10-25</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/">开发工具</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/Git/">Git</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">4.3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>16分钟</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><blockquote>
<p><strong>Git</strong> 作为一个分布式版本控制系统，在现代软件开发中扮演着核心角色。它不仅能追踪代码变更、协调团队协作，还能支撑复杂的开发、测试到上线的全流程管理。本文将详细阐述基于 Git 的标准开发、测试到上线流程，旨在提供一个清晰、可操作的实践指南。</p>
</blockquote>
<div class="note info flat"><p>核心思想：<strong>利用 Git 的分支管理能力，清晰地划分开发阶段，确保代码质量，并实现高效、可追溯的部署。</strong></p>
</div>
<hr>
<h2 id="一、Git-分支模型选择"><a href="#一、Git-分支模型选择" class="headerlink" title="一、Git 分支模型选择"></a>一、Git 分支模型选择</h2><p>在开始流程之前，选择一个合适的分支模型至关重要。常见的分支模型包括 <code>Git Flow</code> 和 <code>GitHub Flow</code> (或 <code>GitLab Flow</code>)。</p>
<h3 id="1-1-Git-Flow"><a href="#1-1-Git-Flow" class="headerlink" title="1.1 Git Flow"></a>1.1 Git Flow</h3><p><code>Git Flow</code> 是一种较为复杂的、结构化的分支模型，适用于发布周期较长、版本发布严格的项目。它定义了五种主要分支：</p>
<ul>
<li><strong><code>main</code> (或 <code>master</code>) 分支</strong>：用于存放<strong>生产环境</strong>稳定代码。只有当代码准备好发布时，才合并到此分支。每次合并到 <code>main</code> 都应该打上版本标签。</li>
<li><strong><code>develop</code> 分支</strong>：用于存放<strong>最新开发完成</strong>的代码，是所有功能开发分支的集成点。</li>
<li><strong><code>feature</code> 分支</strong>：用于开发新功能。通常从 <code>develop</code> 分支创建，完成功能开发后合并回 <code>develop</code>。</li>
<li><strong><code>release</code> 分支</strong>：用于准备发布新版本。从 <code>develop</code> 分支创建，在此分支上进行 Bug 修复、版本号升级、发布前的最后测试。完成后合并到 <code>main</code> 和 <code>develop</code>。</li>
<li><strong><code>hotfix</code> 分支</strong>：用于紧急修复生产环境的 Bug。从 <code>main</code> 分支创建，修复完成后合并到 <code>main</code> 和 <code>develop</code>。</li>
</ul>
<p><strong><code>Git Flow</code> 分支结构示意图：</strong></p>
<div class="mermaid-wrap"><pre class="mermaid-src" data-config="{}" hidden>
    gitGraph
    commit
    commit id: &quot;Initial Commit&quot;
    branch develop
    checkout develop
    commit id: &quot;Feature A start&quot;
    branch feature-a
    checkout feature-a
    commit id: &quot;Feature A work&quot;
    checkout develop
    merge feature-a
    commit id: &quot;Feature B start&quot;
    branch feature-b
    checkout feature-b
    commit id: &quot;Feature B work&quot;
    checkout develop
    merge feature-b
    branch release-1.0
    checkout release-1.0
    commit id: &quot;Bug fix on release&quot;
    checkout main
    merge release-1.0 tag: &quot;v1.0.0&quot;
    checkout develop
    merge release-1.0
    branch hotfix-1.0.1
    checkout hotfix-1.0.1
    commit id: &quot;Hotfix commit&quot;
    checkout main
    merge hotfix-1.0.1 tag: &quot;v1.0.1&quot;
    checkout develop
    merge hotfix-1.0.1
  </pre></div>

<h3 id="1-2-GitHub-Flow-GitLab-Flow"><a href="#1-2-GitHub-Flow-GitLab-Flow" class="headerlink" title="1.2 GitHub Flow &#x2F; GitLab Flow"></a>1.2 GitHub Flow &#x2F; GitLab Flow</h3><p><code>GitHub Flow</code>（或其演进的 <code>GitLab Flow</code>）是一种更简洁、更轻量级的模型，适用于持续集成&#x2F;持续部署 (CI&#x2F;CD) 环境，通常只有一个长期分支 (<code>main</code> 或 <code>master</code>)。</p>
<ul>
<li><strong><code>main</code> (或 <code>master</code>) 分支</strong>：始终保持可部署状态。所有新功能和 Bug 修复都从 <code>main</code> 创建新分支，完成后通过 Pull Request (PR) 或 Merge Request (MR) 合并回 <code>main</code>。</li>
<li><strong><code>feature</code> &#x2F; <code>bugfix</code> 分支</strong>：直接从 <code>main</code> 分支创建，开发完成后合并回 <code>main</code>。</li>
</ul>
<p><strong><code>GitHub Flow</code> 分支结构示意图：</strong></p>
<div class="mermaid-wrap"><pre class="mermaid-src" data-config="{}" hidden>
    gitGraph
    commit id: &quot;Initial Commit&quot;
    branch feature-a
    checkout feature-a
    commit id: &quot;Feature A work&quot;
    checkout main
    merge feature-a
    commit id: &quot;Feature B start&quot;
    branch feature-b
    checkout feature-b
    commit id: &quot;Feature B work&quot;
    checkout main
    merge feature-b
    commit id: &quot;Hotfix commit&quot;
    branch hotfix-c
    checkout hotfix-c
    commit id: &quot;Hotfix work&quot;
    checkout main
    merge hotfix-c
  </pre></div>

<p><strong>选择建议：</strong></p>
<ul>
<li><strong>Git Flow</strong>：适合有明确版本发布周期、需要严格管理稳定版本的项目。</li>
<li><strong>GitHub&#x2F;GitLab Flow</strong>：适合快速迭代、持续部署、DevOps 实践的项目。</li>
</ul>
<p>本文将以 <strong><code>Git Flow</code></strong> 为基础，结合实际项目，详细阐述从开发到上线的流程，同时也会提及 <code>GitHub Flow</code> 的简化思想。</p>
<h2 id="二、开发流程详解"><a href="#二、开发流程详解" class="headerlink" title="二、开发流程详解"></a>二、开发流程详解</h2><h3 id="2-1-初始化仓库与克隆"><a href="#2-1-初始化仓库与克隆" class="headerlink" title="2.1 初始化仓库与克隆"></a>2.1 初始化仓库与克隆</h3><p>项目启动时，首先需要初始化 Git 仓库。</p>
<p><strong>初始化 (仅一次)：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&quot;Initial commit&quot;</span></span><br><span class="line">git remote add origin &lt;your_repository_url&gt;</span><br><span class="line">git push -u origin main</span><br></pre></td></tr></table></figure>

<p><strong>克隆仓库：</strong></p>
<p>团队成员通过克隆现有仓库开始工作。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> &lt;your_repository_url&gt;</span><br><span class="line"><span class="built_in">cd</span> &lt;repository_name&gt;</span><br><span class="line">git checkout develop <span class="comment"># 如果使用Git Flow，切换到开发分支</span></span><br></pre></td></tr></table></figure>

<h3 id="2-2-功能开发-Feature-Branch-Workflow"><a href="#2-2-功能开发-Feature-Branch-Workflow" class="headerlink" title="2.2 功能开发 (Feature Branch Workflow)"></a>2.2 功能开发 (Feature Branch Workflow)</h3><ol>
<li><p><strong>从 <code>develop</code> 创建功能分支：</strong><br>在开始新功能开发前，确保本地 <code>develop</code> 分支是最新的。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git checkout develop</span><br><span class="line">git pull origin develop <span class="comment"># 同步最新 develop</span></span><br><span class="line">git checkout -b feature/your-feature-name <span class="comment"># 创建并切换到新功能分支</span></span><br></pre></td></tr></table></figure>

<p><em>命名规范：</em> 通常使用 <code>feature/</code> 或 <code>feat/</code> 前缀，后跟功能描述。</p>
</li>
<li><p><strong>进行功能开发与提交：</strong><br>在功能分支上进行编码、调试和测试。定期提交代码，保持提交粒度小而清晰。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 编辑文件...</span></span><br><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&quot;feat: implement user registration form&quot;</span> <span class="comment"># 提交信息遵循规范</span></span><br></pre></td></tr></table></figure>

<p><em>提交信息规范 (Conventional Commits 推荐)：</em></p>
<ul>
<li><code>feat</code>: 新功能</li>
<li><code>fix</code>: Bug 修复</li>
<li><code>docs</code>: 文档变更</li>
<li><code>style</code>: 代码格式 (不影响代码运行的变动)</li>
<li><code>refactor</code>: 重构 (不增加功能、不修复 Bug 的代码改动)</li>
<li><code>perf</code>: 性能优化</li>
<li><code>test</code>: 增加测试</li>
<li><code>build</code>: 构建系统或外部依赖的变更</li>
<li><code>ci</code>: CI 配置或脚本的变更</li>
<li><code>chore</code>: 其他不修改 src 或 test 文件的改动</li>
</ul>
</li>
<li><p><strong>推送功能分支到远程仓库：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push -u origin feature/your-feature-name</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="2-3-代码审查与合并-Pull-Request-Merge-Request"><a href="#2-3-代码审查与合并-Pull-Request-Merge-Request" class="headerlink" title="2.3 代码审查与合并 (Pull Request &#x2F; Merge Request)"></a>2.3 代码审查与合并 (Pull Request &#x2F; Merge Request)</h3><p>功能开发完成后，需要将代码合并到 <code>develop</code> 分支。这一步通常通过 Pull Request (GitHub) 或 Merge Request (GitLab&#x2F;Gitee) 进行。</p>
<ol>
<li><p><strong>发起 PR&#x2F;MR：</strong><br>在 Git 托管平台（如 GitHub、GitLab）上，从 <code>feature/your-feature-name</code> 分支向 <code>develop</code> 分支发起 PR&#x2F;MR。</p>
</li>
<li><p><strong>代码审查：</strong><br>团队成员对代码进行审查，提出修改意见。这是确保代码质量、发现潜在 Bug 的关键环节。</p>
</li>
<li><p><strong>解决冲突 (如有)：</strong><br>如果 <code>develop</code> 分支在你的功能开发期间有新的提交，可能会导致合并冲突。你需要将 <code>develop</code> 分支的最新代码拉取到你的功能分支，解决冲突后再次提交。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git checkout feature/your-feature-name</span><br><span class="line">git pull origin develop <span class="comment"># 将 develop 最新代码合并到当前功能分支</span></span><br><span class="line"><span class="comment"># 解决冲突...</span></span><br><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&quot;Merge develop and resolve conflicts&quot;</span></span><br><span class="line">git push origin feature/your-feature-name</span><br></pre></td></tr></table></figure>

<p>或者使用 <code>rebase</code> 保持提交历史整洁：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git checkout feature/your-feature-name</span><br><span class="line">git rebase develop <span class="comment"># 将 develop 最新代码 rebase 到当前功能分支</span></span><br><span class="line"><span class="comment"># 解决冲突...</span></span><br><span class="line">git add .</span><br><span class="line">git rebase --<span class="built_in">continue</span></span><br><span class="line">git push --force-with-lease origin feature/your-feature-name <span class="comment"># rebase 后强制推送</span></span><br></pre></td></tr></table></figure>

<p><em>注意：</em> <code>rebase</code> 会改写历史，不建议在多人协作的公共分支上使用 <code>rebase</code>。功能分支如果是个人私有分支，且未被推送到远程仓库，可以使用 <code>rebase</code>。一旦推送到远程仓库，并且有其他人在该分支上工作，则避免使用 <code>rebase</code>，而是使用 <code>merge</code>。</p>
</li>
<li><p><strong>批准与合并：</strong><br>代码审查通过后，PR&#x2F;MR 被批准，并将 <code>feature</code> 分支合并到 <code>develop</code> 分支。合并后，通常可以删除远程功能分支。</p>
</li>
</ol>
<h2 id="三、测试与预发布流程"><a href="#三、测试与预发布流程" class="headerlink" title="三、测试与预发布流程"></a>三、测试与预发布流程</h2><p>当 <code>develop</code> 分支的代码积累了一定的功能并准备进行发布时，进入测试和预发布阶段。</p>
<h3 id="3-1-创建-release-分支"><a href="#3-1-创建-release-分支" class="headerlink" title="3.1 创建 release 分支"></a>3.1 创建 <code>release</code> 分支</h3><p>从 <code>develop</code> 分支创建 <code>release</code> 分支，用于本次发布的所有准备工作。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git checkout develop</span><br><span class="line">git pull origin develop</span><br><span class="line">git checkout -b release/vX.Y.Z <span class="comment"># 创建并切换到发布分支</span></span><br></pre></td></tr></table></figure>

<p><em>命名规范：</em> 通常使用 <code>release/</code> 前缀，后跟版本号。</p>
<h3 id="3-2-版本号管理与预发布环境部署"><a href="#3-2-版本号管理与预发布环境部署" class="headerlink" title="3.2 版本号管理与预发布环境部署"></a>3.2 版本号管理与预发布环境部署</h3><ol>
<li><p><strong>更新版本号：</strong><br>在 <code>release</code> 分支上，更新项目的版本号（如 <code>package.json</code>, <code>pom.xml</code> 或其他配置文件）。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 修改版本文件</span></span><br><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&quot;chore: bump version to vX.Y.Z&quot;</span></span><br><span class="line">git push origin release/vX.Y.Z</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>部署到预发布环境 (Staging&#x2F;UAT)：</strong><br>配置 CI&#x2F;CD 管道，当代码推送到 <code>release</code> 分支时，自动触发构建并将应用程序部署到预发布环境。<br>预发布环境应该尽可能模拟生产环境，包括硬件、网络、数据库等。</p>
</li>
</ol>
<h3 id="3-3-全面测试与-Bug-修复"><a href="#3-3-全面测试与-Bug-修复" class="headerlink" title="3.3 全面测试与 Bug 修复"></a>3.3 全面测试与 Bug 修复</h3><p>在预发布环境上进行全面的测试，包括：</p>
<ul>
<li><strong>功能测试 (Functional Testing)</strong>：确保所有新功能和现有功能正常工作。</li>
<li><strong>回归测试 (Regression Testing)</strong>：检查新改动是否引入了新的 Bug 或破坏了原有功能。</li>
<li><strong>性能测试 (Performance Testing)</strong>：评估系统在压力下的表现。</li>
<li><strong>安全测试 (Security Testing)</strong>：发现潜在的安全漏洞。</li>
<li><strong>用户验收测试 (UAT - User Acceptance Testing)</strong>：邀请最终用户或产品经理进行测试，确认功能符合业务需求。</li>
</ul>
<p><strong>Bug 修复：</strong><br>如果在 <code>release</code> 分支上发现 Bug，直接在 <code>release</code> 分支上进行修复和提交。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git checkout release/vX.Y.Z</span><br><span class="line"><span class="comment"># 修复 Bug...</span></span><br><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&quot;fix: resolve critical bug in payment module&quot;</span></span><br><span class="line">git push origin release/vX.Y.Z</span><br></pre></td></tr></table></figure>

<p><em>注意：</em> <code>release</code> 分支一旦创建，就不再合并新的 <code>feature</code> 分支。所有 Bug 修复都应该在 <code>release</code> 分支上进行。</p>
<h2 id="四、上线部署流程"><a href="#四、上线部署流程" class="headerlink" title="四、上线部署流程"></a>四、上线部署流程</h2><p>当 <code>release</code> 分支经过全面测试，确定稳定后，就可以进行上线部署。</p>
<h3 id="4-1-合并到-main-和-develop"><a href="#4-1-合并到-main-和-develop" class="headerlink" title="4.1 合并到 main 和 develop"></a>4.1 合并到 <code>main</code> 和 <code>develop</code></h3><ol>
<li><p><strong>合并到 <code>main</code> 分支：</strong><br>将 <code>release</code> 分支合并到 <code>main</code> 分支，并打上版本标签。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git checkout main</span><br><span class="line">git pull origin main <span class="comment"># 确保 main 最新</span></span><br><span class="line">git merge --no-ff release/vX.Y.Z <span class="comment"># 使用 --no-ff 保持 release 分支的合并记录</span></span><br><span class="line">git tag -a vX.Y.Z -m <span class="string">&quot;Release vX.Y.Z&quot;</span> <span class="comment"># 打上版本标签</span></span><br><span class="line">git push origin main --tags <span class="comment"># 推送 main 和标签</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>--no-ff</code> (no fast-forward) 选项会强制创建一个新的合并提交，即使可以快进合并。这有助于保留 <code>release</code> 分支的完整历史，方便回溯。</li>
</ul>
</li>
<li><p><strong>合并到 <code>develop</code> 分支：</strong><br>将 <code>release</code> 分支的 Bug 修复同步回 <code>develop</code> 分支，确保 <code>develop</code> 包含所有最新的 Bug 修复。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git checkout develop</span><br><span class="line">git pull origin develop <span class="comment"># 确保 develop 最新</span></span><br><span class="line">git merge --no-ff release/vX.Y.Z</span><br><span class="line">git push origin develop</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>删除 <code>release</code> 分支 (可选)：</strong><br>发布完成后，可以删除本地和远程的 <code>release</code> 分支。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git branch -d release/vX.Y.Z <span class="comment"># 删除本地分支</span></span><br><span class="line">git push origin --delete release/vX.Y.Z <span class="comment"># 删除远程分支</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="4-2-生产环境部署-CI-CD"><a href="#4-2-生产环境部署-CI-CD" class="headerlink" title="4.2 生产环境部署 (CI&#x2F;CD)"></a>4.2 生产环境部署 (CI&#x2F;CD)</h3><ol>
<li><strong>触发部署：</strong><br>当 <code>main</code> 分支收到新的合并提交或新的版本标签时，CI&#x2F;CD 管道会自动触发生产环境的构建和部署。</li>
<li><strong>部署策略：</strong><br>根据项目需求选择合适的部署策略，例如：<ul>
<li><strong>蓝绿部署 (Blue&#x2F;Green Deployment)</strong>：同时运行新旧两个环境，通过切换流量来完成部署。</li>
<li><strong>金丝雀发布 (Canary Release)</strong>：逐步将流量切换到新版本，先让一小部分用户使用新版本，观察其表现。</li>
<li><strong>滚动更新 (Rolling Update)</strong>：逐个替换旧版本实例为新版本实例。</li>
</ul>
</li>
<li><strong>发布验证：</strong><br>部署完成后，进行生产环境的健康检查和冒烟测试，确保应用程序正常运行。</li>
<li><strong>监控与告警：</strong><br>持续监控生产环境的性能、错误日志和用户行为，及时发现并响应潜在问题。</li>
</ol>
<h2 id="五、紧急修复流程-Hotfix-Workflow"><a href="#五、紧急修复流程-Hotfix-Workflow" class="headerlink" title="五、紧急修复流程 (Hotfix Workflow)"></a>五、紧急修复流程 (Hotfix Workflow)</h2><p>当生产环境出现紧急 Bug 时，需要启动 <code>hotfix</code> 流程。</p>
<ol>
<li><p><strong>从 <code>main</code> 创建 <code>hotfix</code> 分支：</strong><br><code>hotfix</code> 分支直接从 <code>main</code> 分支创建，以确保修复是基于生产环境的代码。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git checkout main</span><br><span class="line">git pull origin main</span><br><span class="line">git checkout -b hotfix/vX.Y.Z.patch <span class="comment"># 创建并切换到热修复分支</span></span><br></pre></td></tr></table></figure>

<p><em>命名规范：</em> 通常使用 <code>hotfix/</code> 前缀，后跟版本号。</p>
</li>
<li><p><strong>修复 Bug 并提交：</strong><br>在 <code>hotfix</code> 分支上进行 Bug 修复。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 修复 Bug...</span></span><br><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&quot;fix: critical hotfix for production bug&quot;</span></span><br><span class="line">git push origin hotfix/vX.Y.Z.patch</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>部署到生产环境并合并：</strong><br><code>hotfix</code> 完成后，部署到生产环境进行验证。验证通过后，将 <code>hotfix</code> 分支合并回 <code>main</code> 和 <code>develop</code>，并打上版本标签。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 合并到 main</span></span><br><span class="line">git checkout main</span><br><span class="line">git pull origin main</span><br><span class="line">git merge --no-ff hotfix/vX.Y.Z.patch</span><br><span class="line">git tag -a vX.Y.Z.patch -m <span class="string">&quot;Hotfix Release vX.Y.Z.patch&quot;</span></span><br><span class="line">git push origin main --tags</span><br><span class="line"></span><br><span class="line"><span class="comment"># 合并到 develop</span></span><br><span class="line">git checkout develop</span><br><span class="line">git pull origin develop</span><br><span class="line">git merge --no-ff hotfix/vX.Y.Z.patch</span><br><span class="line">git push origin develop</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除 hotfix 分支 (可选)</span></span><br><span class="line">git branch -d hotfix/vX.Y.Z.patch</span><br><span class="line">git push origin --delete hotfix/vX.Y.Z.patch</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="六、CI-CD-持续集成-持续部署-集成"><a href="#六、CI-CD-持续集成-持续部署-集成" class="headerlink" title="六、CI&#x2F;CD (持续集成&#x2F;持续部署) 集成"></a>六、CI&#x2F;CD (持续集成&#x2F;持续部署) 集成</h2><p>CI&#x2F;CD 是现代开发流程不可或缺的一部分，它能自动化构建、测试和部署，极大地提高了效率和可靠性。</p>
<h3 id="6-1-持续集成-CI-Continuous-Integration"><a href="#6-1-持续集成-CI-Continuous-Integration" class="headerlink" title="6.1 持续集成 (CI - Continuous Integration)"></a>6.1 持续集成 (CI - Continuous Integration)</h3><ul>
<li><strong>目的</strong>：频繁地将代码集成到共享仓库，并通过自动化测试快速发现和修复集成问题。</li>
<li><strong>实践</strong>：<ul>
<li>每次 <code>feature</code> 分支向 <code>develop</code> 或 <code>main</code> 分支发起 PR&#x2F;MR 时，自动触发 CI 管道。</li>
<li>CI 管道执行以下操作：<ul>
<li><strong>代码风格检查 (Linting)</strong></li>
<li><strong>单元测试 (Unit Tests)</strong></li>
<li><strong>集成测试 (Integration Tests)</strong></li>
<li><strong>构建项目 (Build)</strong></li>
<li><strong>生成测试报告和代码覆盖率报告</strong></li>
</ul>
</li>
<li>只有通过所有 CI 检查的代码才能被合并。</li>
</ul>
</li>
</ul>
<p><strong>CI 流程示意图：</strong></p>
<div class="mermaid-wrap"><pre class="mermaid-src" data-config="{}" hidden>
    graph TD
    A[开发者提交代码到功能分支] --&gt; B{发起 Pull Request};
    B --&gt; C[CI&#x2F;CD 系统触发构建];
    C --&gt; D[运行 Linting&#x2F;格式化];
    D --&gt; E[运行单元测试];
    E --&gt; F[运行集成测试];
    F --&gt; G[构建项目];
    G -- 失败 --&gt; H[通知开发者和团队，中止合并];
    G -- 成功 --&gt; I{代码审查通过?};
    I -- 否 --&gt; H;
    I -- 是 --&gt; J[合并到 develop&#x2F;main 分支];
  </pre></div>

<h3 id="6-2-持续部署-CD-Continuous-Deployment-持续交付-Continuous-Delivery"><a href="#6-2-持续部署-CD-Continuous-Deployment-持续交付-Continuous-Delivery" class="headerlink" title="6.2 持续部署 (CD - Continuous Deployment) &#x2F; 持续交付 (Continuous Delivery)"></a>6.2 持续部署 (CD - Continuous Deployment) &#x2F; 持续交付 (Continuous Delivery)</h3><ul>
<li><p><strong>持续交付 (Continuous Delivery)</strong>：代码通过所有测试后，自动准备好随时可以部署到生产环境，但部署需要人工触发。</p>
</li>
<li><p><strong>持续部署 (Continuous Deployment)</strong>：代码通过所有测试后，<strong>自动部署</strong>到生产环境，无需人工干预。</p>
</li>
<li><p><strong>实践</strong>：</p>
<ul>
<li>当代码合并到 <code>develop</code> 分支时，自动部署到<strong>开发&#x2F;测试环境</strong>。</li>
<li>当 <code>release</code> 分支创建或更新时，自动部署到<strong>预发布环境</strong>。</li>
<li>当 <code>main</code> 分支收到新的版本标签或合并提交时，自动触发<strong>生产环境部署</strong>。</li>
</ul>
</li>
</ul>
<p><strong>CD 流程示意图：</strong></p>
<div class="mermaid-wrap"><pre class="mermaid-src" data-config="{}" hidden>
    graph TD
    A[代码合并到 develop&#x2F;main] --&gt; B[CI&#x2F;CD 系统触发部署];
    B --&gt; C[构建镜像&#x2F;打包应用];
    C --&gt; D[部署到测试&#x2F;预发布环境];
    D --&gt; E{手动&#x2F;自动测试通过?};
    E -- 否 --&gt; F[回滚或修复];
    E -- 是 --&gt; G[部署到生产环境];
    G --&gt; H[生产环境验证&#x2F;监控];
  </pre></div>

<h3 id="6-3-示例-Python-GitHub-Actions"><a href="#6-3-示例-Python-GitHub-Actions" class="headerlink" title="6.3 示例 (Python + GitHub Actions)"></a>6.3 示例 (Python + GitHub Actions)</h3><p>以一个简单的 Python 项目为例，展示 <code>CI</code> 流程。</p>
<p><strong><code>.github/workflows/ci.yml</code>:</strong></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">Python</span> <span class="string">CI</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">    <span class="attr">branches:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">main</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">develop</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&#x27;feature/**&#x27;</span> <span class="comment"># 匹配所有 feature 分支</span></span><br><span class="line">  <span class="attr">pull_request:</span></span><br><span class="line">    <span class="attr">branches:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">main</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">develop</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">build:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Checkout</span> <span class="string">repository</span></span><br><span class="line">      <span class="attr">uses:</span> <span class="string">actions/checkout@v3</span></span><br><span class="line"></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Set</span> <span class="string">up</span> <span class="string">Python</span></span><br><span class="line">      <span class="attr">uses:</span> <span class="string">actions/setup-python@v4</span></span><br><span class="line">      <span class="attr">with:</span></span><br><span class="line">        <span class="attr">python-version:</span> <span class="string">&#x27;3.9&#x27;</span> <span class="comment"># 指定 Python 版本</span></span><br><span class="line"></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Install</span> <span class="string">dependencies</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">        python -m pip install --upgrade pip</span></span><br><span class="line"><span class="string">        pip install flake8 pytest</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Lint</span> <span class="string">with</span> <span class="string">flake8</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">        # stop the build if there are Python syntax errors or undefined names</span></span><br><span class="line"><span class="string">        flake8 . --count --select=E9,F63,F7,F82 --show-source --statistics</span></span><br><span class="line"><span class="string">        # exit-zero treats all errors as warnings. The GitHub editor is 1-indexed for columns too</span></span><br><span class="line"><span class="string">        flake8 . --count --exit-zero --max-complexity=10 --max-line-length=127 --statistics</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Run</span> <span class="string">tests</span> <span class="string">with</span> <span class="string">pytest</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line">        <span class="string">pytest</span></span><br></pre></td></tr></table></figure>

<h2 id="七、回滚与版本管理"><a href="#七、回滚与版本管理" class="headerlink" title="七、回滚与版本管理"></a>七、回滚与版本管理</h2><h3 id="7-1-版本标签-Tags"><a href="#7-1-版本标签-Tags" class="headerlink" title="7.1 版本标签 (Tags)"></a>7.1 版本标签 (Tags)</h3><p>为 <code>main</code> 分支的每次发布打上版本标签 (例如 <code>v1.0.0</code>) 是非常重要的。标签可以清晰地标识发布版本，方便追溯和回滚。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git tag -a v1.0.0 -m <span class="string">&quot;Release version 1.0.0&quot;</span></span><br><span class="line">git push origin v1.0.0</span><br></pre></td></tr></table></figure>

<h3 id="7-2-回滚策略"><a href="#7-2-回滚策略" class="headerlink" title="7.2 回滚策略"></a>7.2 回滚策略</h3><p>当生产环境出现严重问题，无法通过快速修复解决时，可能需要回滚到上一个稳定版本。</p>
<ol>
<li><p><strong>基于标签回滚 (推荐)：</strong><br>如果每次发布都打了标签，可以直接回滚到某个标签对应的提交。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查找上一个稳定版本的标签</span></span><br><span class="line">git tag</span><br><span class="line"></span><br><span class="line"><span class="comment"># 回滚到指定标签的提交</span></span><br><span class="line">git revert vX.Y.Z <span class="comment"># 这会创建一个新的提交，撤销 vX.Y.Z 引入的变更</span></span><br><span class="line">git push origin main</span><br></pre></td></tr></table></figure>
<ul>
<li><code>git revert</code> 是安全的回滚方式，它会创建一个新的提交来撤销之前的变更，保留了历史记录。</li>
</ul>
</li>
<li><p><strong>基于提交回滚：</strong><br>如果知道要回滚到哪个提交，也可以直接 <code>revert</code> 该提交。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --pretty=oneline <span class="comment"># 查看提交历史，找到要回滚的提交哈希</span></span><br><span class="line">git revert &lt;commit-hash&gt;</span><br><span class="line">git push origin main</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>警告</strong>：避免在已共享的公共分支上使用 <code>git reset --hard</code> 来回滚，因为它会改写历史，导致其他协作者的工作出现问题。<code>reset</code> 适用于撤销本地未推送的提交。</li>
</ul>
</li>
</ol>
<h2 id="八、总结"><a href="#八、总结" class="headerlink" title="八、总结"></a>八、总结</h2><p>一个健康、高效的 Git 开发测试上线流程是项目成功的关键。通过选择合适的分支模型、遵循规范的开发流程、实施严格的代码审查、充分的测试以及自动化 CI&#x2F;CD，团队可以确保代码质量、提高发布效率，并能从容应对各种变化和挑战。</p>
<p><strong>关键点回顾：</strong></p>
<ul>
<li><strong>分支模型</strong>：根据项目需求选择 <code>Git Flow</code> 或 <code>GitHub/GitLab Flow</code>。</li>
<li><strong>功能开发</strong>：从 <code>develop</code> (或 <code>main</code>) 创建 <code>feature</code> 分支，频繁提交，并遵循提交信息规范。</li>
<li><strong>代码审查</strong>：通过 PR&#x2F;MR 确保代码质量。</li>
<li><strong>测试与预发布</strong>：创建 <code>release</code> 分支，在预发布环境进行全面测试，修复 Bug。</li>
<li><strong>上线部署</strong>：将 <code>release</code> 合并到 <code>main</code> 和 <code>develop</code>，打上版本标签，触发生产部署。</li>
<li><strong>紧急修复</strong>：从 <code>main</code> 创建 <code>hotfix</code> 分支，修复后合并回 <code>main</code> 和 <code>develop</code>。</li>
<li><strong>CI&#x2F;CD</strong>：自动化构建、测试和部署，提高效率和可靠性。</li>
<li><strong>版本管理与回滚</strong>：利用标签进行版本控制，使用 <code>git revert</code> 安全回滚。</li>
</ul>
<p>持续优化和适应团队需求是这些流程成功的关键。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://blog.tbf1211.xx.kg">TeaTang</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://blog.tbf1211.xx.kg/a8310012f32b/">https://blog.tbf1211.xx.kg/a8310012f32b/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://blog.tbf1211.xx.kg" target="_blank">1024 维度</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/CI-CD/">CI/CD</a><a class="post-meta__tags" href="/tags/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/">开发工具</a><a class="post-meta__tags" href="/tags/Git/">Git</a><a class="post-meta__tags" href="/tags/2024/">2024</a></div><div class="post-share"><div class="social-share" data-image="/img/cover/default_cover-20.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/65ed4d3a4af3/" title="Python 自定义类的运算符重载详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-18.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">Python 自定义类的运算符重载详解</div></div><div class="info-2"><div class="info-item-1"> 运算符重载 (Operator Overloading) 允许自定义类的实例对标准运算符（如 +, -, *, /, ==, &lt;, [] 等）作出响应。通过在自定义类中定义特定的魔术方法 (Magic Methods) 或称 双下划线方法 (Dunder Methods)，我们可以改变这些运算符的行为，使其适用于我们自己定义的对象。这使得自定义类的实例能够像内置类型一样自然地进行操作，提高了代码的可读性和表达力。  核心思想：通过实现 Python 的特殊方法 (以双下划线 __ 开头和结尾)，我们可以控制自定义对象如何响应内置运算符和函数。这些特殊方法是 Python 语言的“钩子”，允许我们自定义对象的行为。   一、为什么需要运算符重载？考虑一个场景：我们正在创建一个表示二维向量的 Vector 类。如果没有运算符重载，我们可能需要这样写： 12345678910111213141516class Vector:    def __init__(self, x, y):        self.x = x        self.y = y    def add(s...</div></div></div></a><a class="pagination-related" href="/56d360e5bda1/" title="SNAT 与 DNAT 详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-26.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">SNAT 与 DNAT 详解</div></div><div class="info-2"><div class="info-item-1"> NAT (Network Address Translation，网络地址转换) 是 IPv4 网络中一项基本而关键的技术，它在数据包流经网络设备（如路由器或防火墙）时修改其 IP 地址信息（有时也包括端口号）。NAT 根据修改方向和目的主要分为两大类型：源网络地址转换 (SNAT - Source Network Address Translation) 和 目的网络地址转换 (DNAT - Destination Network Address Translation)。理解这两种机制对于网络设计、故障排查和安全性至关重要。  核心思想：  SNAT：解决“内部网络中主机如何安全地、共享地访问外部网络资源”的问题，修改出站数据包的源地址。 DNAT：解决“外部网络中主机如何安全地访问内部提供的服务”的问题，修改入站数据包的目的地址。     一、网络地址转换 (NAT) 概述NAT 技术最初是为了缓解 IPv4 地址枯竭问题而设计，它允许一个内部私有 IP 网络通过一个或几个公共 IP 地址与外部网络（如互联网）通信。除了地址共享，NAT 也为内部网络提供了一层基本的安全隔...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/876a758cde0d/" title=".gitignore 与 .gitattributes 文件详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-18.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-03-31</div><div class="info-item-2">.gitignore 与 .gitattributes 文件详解</div></div><div class="info-2"><div class="info-item-1"> .gitignore 和 .gitattributes 是 Git 版本控制系统中两个重要的配置文件，它们帮助开发者精细地控制 Git 如何处理工作目录中的文件。gitignore 主要用于忽略不应该被版本控制的文件，而 gitattributes 则用于定义不同文件的属性，影响 Git 存储和比较文件的方式。理解和正确使用这两个文件对于维护干净、高效且一致的 Git 仓库至关重要。  核心思想：  .gitignore 告诉 Git 哪些文件或目录应该被忽略，不纳入版本控制。 .gitattributes 告诉 Git 如何对待特定类型的文件，例如行尾符、合并策略、文本转换等。    一、.gitignore 文件详解.gitignore 文件用于指定 Git 应该忽略哪些文件或目录。 这些被忽略的文件不会被 Git 跟踪，也不会被添加到仓库中。这对于排除构建产物、日志文件、敏感配置、IDE 特定文件等内容非常有用，可以保持仓库的整洁，避免提交不必要的文件，并减少仓库大小。 1.1 工作原理Git 在执行 git add 或 git commit 等命令时，会检查工作目录中是...</div></div></div></a><a class="pagination-related" href="/25324aef0ab0/" title="Git Merge vs. Rebase 对比详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-13.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-02-15</div><div class="info-item-2">Git Merge vs. Rebase 对比详解</div></div><div class="info-2"><div class="info-item-1"> 在 Git 版本控制系统中，git merge 和 git rebase 是两种常用的代码集成命令，它们都用于将一个分支的更改合并到另一个分支。尽管目的相同，但它们实现这一目标的方式截然不同，对项目的历史记录产生的影响也大相径庭。理解这两种策略的优缺点及适用场景，对于维护清晰、可追溯的 Git 历史以及高效的团队协作至关重要。  核心思想：git merge 通过创建新的合并提交来集成更改，保留了所有分支的历史；git rebase 通过重写提交历史将一个分支的提交应用到另一个分支的顶部，从而创建线性的历史记录。   一、Git Merge (合并)1.1 定义git merge 命令用于将来自一个或多个分支的独立开发历史合并到当前分支。它通过创建一个新的合并提交 (merge commit) 来实现这一点，这个合并提交的父提交指向两个被合并分支的最新提交。这意味着 git merge 会保留所有分支的原始提交历史，并显式地记录合并发生的时间和地点。 1.2 工作原理当执行 git merge &lt;branch_name&gt; 时：  Git 找到当前分支 (HEAD) ...</div></div></div></a><a class="pagination-related" href="/a98499913a49/" title="PlatformIO 详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-10.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-06-01</div><div class="info-item-2">PlatformIO 详解</div></div><div class="info-2"><div class="info-item-1"> PlatformIO 是一个开源的生态系统，用于物联网 (IoT) 和嵌入式系统的开发。它提供了一个跨平台、多框架、集成开发环境 (IDE) 独立的开发工具集。PlatformIO 的目标是简化嵌入式开发的复杂性，让开发者能够专注于代码逻辑，而不用花费大量时间在工具链的配置和管理上。它支持数百种开发板、多种流行的开发框架（如 Arduino, ESP-IDF, STM32Cube, Zephyr 等），并集成了调试器、库管理器、单元测试等功能。  核心思想：统一嵌入式开发工作流，抽象底层工具链细节，提供高度可配置和自动化的开发环境。 开发者可以使用自己喜欢的编辑器（如 VS Code）配合 PlatformIO 的强大后端进行项目管理、编译和烧录。   一、为什么选择 PlatformIO？传统嵌入式开发的痛点传统的嵌入式开发常常伴随着一系列挑战：  工具链碎片化：不同的微控制器和开发板通常需要不同的编译器、烧录工具和调试器。例如，为 AVR 芯片开发需要 AVR-GCC，为 ESP32 开发需要 xtensa-esp32-elf-gcc。 IDE 绑定和限制：许多官方 IDE...</div></div></div></a><a class="pagination-related" href="/b36f74dae615/" title="FreeRTOS 详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-11.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-05-08</div><div class="info-item-2">FreeRTOS 详解</div></div><div class="info-2"><div class="info-item-1"> FreeRTOS 是一个针对嵌入式系统的小型、实时、开源的操作系统 (RTOS)。它提供了一套完整的调度器、任务管理、任务间通信和同步机制，旨在帮助开发者构建高可靠、高效率的嵌入式应用程序。FreeRTOS 以其高度可配置性、低内存占用、易于移植等特点，成为全球最受欢迎的微控制器 RTOS 之一。  FreeRTOS 的核心价值在于：将复杂的嵌入式应用程序分解为多个独立、可并发执行的“任务”，通过实时调度器实现任务的有序执行和高效切换，从而简化程序设计，提高系统的响应性和可靠性。   一、为什么需要 FreeRTOS？在没有操作系统的嵌入式开发中，程序通常采用裸机 (Bare-metal) 循环或中断驱动的方式运行。这在简单应用中尚可，但在复杂应用中会面临诸多挑战：  复杂性：多个功能模块（如传感器读取、通信、用户界面）需要共享 CPU，代码会变得庞大、耦合度高，难以维护。 实时性：重要任务可能因为低优先级任务的长时间运行而被延迟，无法满足严格的时间要求。 并发处理：裸机程序很难实现多个任务的伪并行执行，导致系统响应迟钝。 资源管理：内存、外设等资源的管理混乱，容易引发冲突和 ...</div></div></div></a><a class="pagination-related" href="/4d4d04e1eb80/" title="脉冲信号详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-30.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-05-15</div><div class="info-item-2">脉冲信号详解</div></div><div class="info-2"><div class="info-item-1"> 脉冲信号 (Pulse Signal) 是一种在短时间内快速变化并随后迅速恢复到初始状态的非连续信号。它通常由一个或多个短暂的电压或电流“突变”组成，这些突变相对于其持续的背景状态具有显著的幅值。脉冲信号是数字电路、通信、控制系统、雷达、医疗设备等众多领域的基础，承载着信息、控制时序或触发事件。  核心思想： 脉冲信号通过其幅值、宽度、周期、频率、占空比等特性来编码信息、驱动操作或提供时间基准。   一、脉冲信号的基本特性理想的脉冲信号是矩形的，但在实际中，脉冲往往具有一定的上升和下降时间。      graph TD     subgraph 理想脉冲特性         A[低电平] --&gt; B{上升沿}         B --&gt; C[&quot;高电平 (脉冲幅值)&quot;]         C --&gt; D{下降沿}         D --&gt; A     end     1.1 幅值 (Amplitude) 定义：脉冲信号从基准电平（通常是低电平）到峰值电平的电压或电流差。 作用：决定了脉冲的“强度”，在数字电路中通常对应逻辑高电平电压。 ...</div></div></div></a><a class="pagination-related" href="/d31cfb8e4767/" title="PWM (脉冲宽度调制) 详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-29.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-09-19</div><div class="info-item-2">PWM (脉冲宽度调制) 详解</div></div><div class="info-2"><div class="info-item-1"> PWM (Pulse Width Modulation)，即脉冲宽度调制，是一种利用数字信号（脉冲）来模拟模拟信号电平输出的强大技术。它通过调整一个方波信号的高电平持续时间（即脉冲宽度）来改变其在一个固定周期内的平均电压，从而实现对输出功率、速度、亮度等模拟量的精确控制。  核心思想：在固定周期内，通过改变高电平持续时间（占空比），来改变输出信号的平均值，实现对模拟量的数字控制。   一、为什么需要 PWM？在许多应用中，我们需要控制设备的模拟量，例如：  LED 亮度：希望 LED 渐亮渐灭，而不是只有亮或灭。 直流电机速度：需要精确控制电机的转速。 加热器功率：需要调节加热器的输出功率。 模拟电压输出：模拟 DA 转换器输出。  传统的模拟控制需要复杂的模拟电路，并且容易受到噪声、温度漂移等因素的影响。而微控制器（如 Arduino、ESP32）通常只能直接输出数字信号（高电平或低电平）。PWM 技术就成为了连接数字世界和模拟世界的重要桥梁，它允许我们用简单的数字输出引脚来有效地控制模拟设备。 二、PWM 的核心概念PWM 信号是一个周期性的方波，它有两个关键参数：  周期...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/loading.gif" data-lazy-src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">TeaTang</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">512</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">228</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">84</div></a></div><a id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/teatang"><i class="fab fa-github"></i><span>GitHub主页</span></a><div class="card-info-social-icons"><a class="social-icon" href="mailto:tea.tang1211@gmail.com" rel="external nofollow noreferrer" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title="RSS"><i class="fas fa-rss"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">网站更多功能即将上线，敬请期待！</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81Git-%E5%88%86%E6%94%AF%E6%A8%A1%E5%9E%8B%E9%80%89%E6%8B%A9"><span class="toc-text">一、Git 分支模型选择</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-Git-Flow"><span class="toc-text">1.1 Git Flow</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-GitHub-Flow-GitLab-Flow"><span class="toc-text">1.2 GitHub Flow &#x2F; GitLab Flow</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B%E8%AF%A6%E8%A7%A3"><span class="toc-text">二、开发流程详解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E5%88%9D%E5%A7%8B%E5%8C%96%E4%BB%93%E5%BA%93%E4%B8%8E%E5%85%8B%E9%9A%86"><span class="toc-text">2.1 初始化仓库与克隆</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E5%8A%9F%E8%83%BD%E5%BC%80%E5%8F%91-Feature-Branch-Workflow"><span class="toc-text">2.2 功能开发 (Feature Branch Workflow)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-%E4%BB%A3%E7%A0%81%E5%AE%A1%E6%9F%A5%E4%B8%8E%E5%90%88%E5%B9%B6-Pull-Request-Merge-Request"><span class="toc-text">2.3 代码审查与合并 (Pull Request &#x2F; Merge Request)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E6%B5%8B%E8%AF%95%E4%B8%8E%E9%A2%84%E5%8F%91%E5%B8%83%E6%B5%81%E7%A8%8B"><span class="toc-text">三、测试与预发布流程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%88%9B%E5%BB%BA-release-%E5%88%86%E6%94%AF"><span class="toc-text">3.1 创建 release 分支</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E7%89%88%E6%9C%AC%E5%8F%B7%E7%AE%A1%E7%90%86%E4%B8%8E%E9%A2%84%E5%8F%91%E5%B8%83%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2"><span class="toc-text">3.2 版本号管理与预发布环境部署</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%85%A8%E9%9D%A2%E6%B5%8B%E8%AF%95%E4%B8%8E-Bug-%E4%BF%AE%E5%A4%8D"><span class="toc-text">3.3 全面测试与 Bug 修复</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E4%B8%8A%E7%BA%BF%E9%83%A8%E7%BD%B2%E6%B5%81%E7%A8%8B"><span class="toc-text">四、上线部署流程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%E5%90%88%E5%B9%B6%E5%88%B0-main-%E5%92%8C-develop"><span class="toc-text">4.1 合并到 main 和 develop</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2-CI-CD"><span class="toc-text">4.2 生产环境部署 (CI&#x2F;CD)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E7%B4%A7%E6%80%A5%E4%BF%AE%E5%A4%8D%E6%B5%81%E7%A8%8B-Hotfix-Workflow"><span class="toc-text">五、紧急修复流程 (Hotfix Workflow)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD%E3%80%81CI-CD-%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90-%E6%8C%81%E7%BB%AD%E9%83%A8%E7%BD%B2-%E9%9B%86%E6%88%90"><span class="toc-text">六、CI&#x2F;CD (持续集成&#x2F;持续部署) 集成</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90-CI-Continuous-Integration"><span class="toc-text">6.1 持续集成 (CI - Continuous Integration)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-%E6%8C%81%E7%BB%AD%E9%83%A8%E7%BD%B2-CD-Continuous-Deployment-%E6%8C%81%E7%BB%AD%E4%BA%A4%E4%BB%98-Continuous-Delivery"><span class="toc-text">6.2 持续部署 (CD - Continuous Deployment) &#x2F; 持续交付 (Continuous Delivery)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-%E7%A4%BA%E4%BE%8B-Python-GitHub-Actions"><span class="toc-text">6.3 示例 (Python + GitHub Actions)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%83%E3%80%81%E5%9B%9E%E6%BB%9A%E4%B8%8E%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86"><span class="toc-text">七、回滚与版本管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-%E7%89%88%E6%9C%AC%E6%A0%87%E7%AD%BE-Tags"><span class="toc-text">7.1 版本标签 (Tags)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E5%9B%9E%E6%BB%9A%E7%AD%96%E7%95%A5"><span class="toc-text">7.2 回滚策略</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AB%E3%80%81%E6%80%BB%E7%BB%93"><span class="toc-text">八、总结</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/1d2a942bda1e/" title="Terraform 详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-27.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Terraform 详解"/></a><div class="content"><a class="title" href="/1d2a942bda1e/" title="Terraform 详解">Terraform 详解</a><time datetime="2026-01-19T22:24:00.000Z" title="发表于 2026-01-20 06:24:00">2026-01-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/26cdb2447b3d/" title="WebView 详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-26.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="WebView 详解"/></a><div class="content"><a class="title" href="/26cdb2447b3d/" title="WebView 详解">WebView 详解</a><time datetime="2026-01-17T22:24:00.000Z" title="发表于 2026-01-18 06:24:00">2026-01-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/e62a1e8acade/" title="AI 辅助编程的关键要点与代码幻觉防范"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-21.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="AI 辅助编程的关键要点与代码幻觉防范"/></a><div class="content"><a class="title" href="/e62a1e8acade/" title="AI 辅助编程的关键要点与代码幻觉防范">AI 辅助编程的关键要点与代码幻觉防范</a><time datetime="2026-01-15T22:24:00.000Z" title="发表于 2026-01-16 06:24:00">2026-01-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/d863aad4b106/" title="Trivy (通用安全扫描器) 详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-28.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Trivy (通用安全扫描器) 详解"/></a><div class="content"><a class="title" href="/d863aad4b106/" title="Trivy (通用安全扫描器) 详解">Trivy (通用安全扫描器) 详解</a><time datetime="2026-01-10T22:24:00.000Z" title="发表于 2026-01-11 06:24:00">2026-01-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/fa3d796f3333/" title="MessagePack 详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-12.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MessagePack 详解"/></a><div class="content"><a class="title" href="/fa3d796f3333/" title="MessagePack 详解">MessagePack 详解</a><time datetime="2026-01-08T22:24:00.000Z" title="发表于 2026-01-09 06:24:00">2026-01-09</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/img/cover/default_cover-20.jpg);"><div class="footer-flex"><div class="footer-flex-items"><div class="footer-flex-item"><div class="footer-flex-title">我的轨迹</div><div class="footer-flex-content"><a href="/archives/2023/" target="_blank" title="🆕 2023">🆕 2023</a><a href="/archives/2024/" target="_blank" title="🆒 2024">🆒 2024</a><a href="/archives/2025/" target="_blank" title="👨‍👩‍👦 2025">👨‍👩‍👦 2025</a><a href="/archives/2026/" target="_blank" title="🆙 2026">🆙 2026</a></div></div></div><div class="footer-flex-items"><div class="footer-flex-item"><div class="footer-flex-title">维度</div><div class="footer-flex-content"><a href="/categories/" target="_blank" title="📁 分类">📁 分类</a><a href="/tags/" target="_blank" title="🔖 标签">🔖 标签</a><a href="/categories/" target="_blank" title="📽️ 时间线">📽️ 时间线</a></div></div></div><div class="footer-flex-items"><div class="footer-flex-item"><div class="footer-flex-title">其他</div><div class="footer-flex-content"><a href="/shuoshuo" target="_blank" title="💬 说说">💬 说说</a></div></div></div></div><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2023 - 2026 By TeaTang</span><span class="framework-info"><span class="footer-separator">|</span><span>框架 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.3"></script><script src="/js/main.js?v=5.5.3"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.1.7/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@19.1.3/dist/lazyload.iife.min.js"></script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const config = mermaidSrc.dataset.config ? JSON.parse(mermaidSrc.dataset.config) : {}
      if (!config.theme) {
        config.theme = theme
      }
      const mermaidThemeConfig = `%%{init: ${JSON.stringify(config)}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid@11.12.2/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>(() => {
  const applyThemeDefaultsConfig = theme => {
    if (theme === 'dark-mode') {
      Chart.defaults.color = "rgba(255, 255, 255, 0.8)"
      Chart.defaults.borderColor = "rgba(255, 255, 255, 0.2)"
      Chart.defaults.scale.ticks.backdropColor = "transparent"
    } else {
      Chart.defaults.color = "rgba(0, 0, 0, 0.8)"
      Chart.defaults.borderColor = "rgba(0, 0, 0, 0.1)"
      Chart.defaults.scale.ticks.backdropColor = "transparent"
    }
  }

  // Recursively traverse the config object and automatically apply theme-specific color schemes
  const applyThemeConfig = (obj, theme) => {
    if (typeof obj !== 'object' || obj === null) return

    Object.keys(obj).forEach(key => {
      const value = obj[key]
      // If the property is an object and has theme-specific options, apply them
      if (typeof value === 'object' && value !== null) {
        if (value[theme]) {
          obj[key] = value[theme] // Apply the value for the current theme
        } else {
          // Recursively process child objects
          applyThemeConfig(value, theme)
        }
      }
    })
  }

  const runChartJS = ele => {
    window.loadChartJS = true

    Array.from(ele).forEach((item, index) => {
      const chartSrc = item.firstElementChild
      const chartID = item.getAttribute('data-chartjs-id') || ('chartjs-' + index) // Use custom ID or default ID
      const width = item.getAttribute('data-width')
      const existingCanvas = document.getElementById(chartID)

      // If a canvas already exists, remove it to avoid rendering duplicates
      if (existingCanvas) {
          existingCanvas.parentNode.remove()
      }

      const chartDefinition = chartSrc.textContent
      const canvas = document.createElement('canvas')
      canvas.id = chartID

      const div = document.createElement('div')
      div.className = 'chartjs-wrap'

      if (width) {
        div.style.width = width
      }

      div.appendChild(canvas)
      chartSrc.insertAdjacentElement('afterend', div)

      const ctx = document.getElementById(chartID).getContext('2d')

      const config = JSON.parse(chartDefinition)

      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark-mode' : 'light-mode'

      // Set default styles (initial setup)
      applyThemeDefaultsConfig(theme)

      // Automatically traverse the config and apply dual-mode color schemes
      applyThemeConfig(config, theme)

      new Chart(ctx, config)
    })
  }

  const loadChartJS = () => {
    const chartJSEle = document.querySelectorAll('#article-container .chartjs-container')
    if (chartJSEle.length === 0) return

    window.loadChartJS ? runChartJS(chartJSEle) : btf.getScript('https://cdn.jsdelivr.net/npm/chart.js@4.5.1/dist/chart.umd.min.js').then(() => runChartJS(chartJSEle))
  }

  // Listen for theme change events
  btf.addGlobalFn('themeChange', loadChartJS, 'chartjs')
  btf.addGlobalFn('encrypt', loadChartJS, 'chartjs')

  window.pjax ? loadChartJS() : document.addEventListener('DOMContentLoaded', loadChartJS)
})()</script></div><script data-pjax src="/self/btf.js"></script><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/fireworks.min.js"></script><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="ture"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-fluttering-ribbon.min.js"></script><script id="canvas_nest" defer="defer" color="0,200,200" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js" defer="defer"></script><script>document.addEventListener('DOMContentLoaded', () => {
  const pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => {
      try {
        fn()
      } catch (err) {
        console.debug('Pjax callback failed:', err)
      }
    })
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      true
        ? pjax.loadUrl('/404.html')
        : window.location.href = e.request.responseURL
    }
  })
})</script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden="hidden"></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="local-search-input"><input placeholder="搜索文章" type="text"/></div><hr/><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none;"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=5.5.3"></script></div></div></body></html>