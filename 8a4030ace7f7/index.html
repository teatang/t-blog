<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Java Apache Commons 库详解 | 1024 维度</title><meta name="author" content="TeaTang"><meta name="copyright" content="TeaTang"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Apache Commons 库 是 Apache 软件基金会开发和维护的一个开源项目，旨在提供可重用、可扩展且经过良好测试的 Java 组件。它由一系列独立的模块组成，这些模块通常作为标准 Java API 的补充，提供了大量实用的工具类和功能，帮助开发者解决日常编程中遇到的常见问题，提高开发效率和代码质量。  核心思想：Apache Commons 提供了一系列成熟、稳定且经过测试的 Jav">
<meta property="og:type" content="article">
<meta property="og:title" content="Java Apache Commons 库详解">
<meta property="og:url" content="https://blog.tbf1211.xx.kg/8a4030ace7f7/index.html">
<meta property="og:site_name" content="1024 维度">
<meta property="og:description" content="Apache Commons 库 是 Apache 软件基金会开发和维护的一个开源项目，旨在提供可重用、可扩展且经过良好测试的 Java 组件。它由一系列独立的模块组成，这些模块通常作为标准 Java API 的补充，提供了大量实用的工具类和功能，帮助开发者解决日常编程中遇到的常见问题，提高开发效率和代码质量。  核心思想：Apache Commons 提供了一系列成熟、稳定且经过测试的 Jav">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blog.tbf1211.xx.kg/img/cover/default_cover-17.jpg">
<meta property="article:published_time" content="2023-05-05T22:24:00.000Z">
<meta property="article:modified_time" content="2025-12-27T11:54:24.663Z">
<meta property="article:author" content="TeaTang">
<meta property="article:tag" content="2023">
<meta property="article:tag" content="程序设计">
<meta property="article:tag" content="Java">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog.tbf1211.xx.kg/img/cover/default_cover-17.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Java Apache Commons 库详解",
  "url": "https://blog.tbf1211.xx.kg/8a4030ace7f7/",
  "image": "https://blog.tbf1211.xx.kg/img/cover/default_cover-17.jpg",
  "datePublished": "2023-05-05T22:24:00.000Z",
  "dateModified": "2025-12-27T11:54:24.663Z",
  "author": [
    {
      "@type": "Person",
      "name": "TeaTang",
      "url": "https://blog.tbf1211.xx.kg"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon-1.ico"><link rel="canonical" href="https://blog.tbf1211.xx.kg/8a4030ace7f7/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><meta name="google-site-verification" content="NdIUXAOVyGnnBhcrip0ksCawbdAzT0hlBZDE9u4jx6k"/><meta name="msvalidate.01" content="567E47D75E8DCF1282B9623AD914701E"/><meta name="baidu-site-verification" content="code-pE5rnuxcfD"/><link rel="stylesheet" href="/css/index.css?v=5.5.3"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.1.7/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          const mediaQueryDark = window.matchMedia('(prefers-color-scheme: dark)')
          const mediaQueryLight = window.matchMedia('(prefers-color-scheme: light)')

          if (theme === undefined) {
            if (mediaQueryLight.matches) activateLightMode()
            else if (mediaQueryDark.matches) activateDarkMode()
            else {
              const hour = new Date().getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            mediaQueryDark.addEventListener('change', () => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else {
            theme === 'light' ? activateLightMode() : activateDarkMode()
          }
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":false,"top_n_per_article":1,"unescape":false,"pagination":{"enable":true,"hitsPerPage":8},"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":400,"highlightFullpage":true,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":150,"languages":{"author":"作者: TeaTang","link":"链接: ","source":"来源: 1024 维度","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Java Apache Commons 库详解',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="preconnect" href="https://jsd.012700.xyz"><link href="/self/btf.css" rel="stylesheet"><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="1024 维度" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/loading.gif" data-lazy-src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">438</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">224</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">80</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 我的轨迹</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/2023/"><i class="fa-fw fa-solid fa-bug"></i><span> 2023</span></a></li><li><a class="site-page child" href="/archives/2024/"><i class="fa-fw fa-solid fa-code"></i><span> 2024</span></a></li><li><a class="site-page child" href="/archives/2025/"><i class="fa-fw fa-solid fa-network-wired"></i><span> 2025</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa-solid fa-calendar-days"></i><span> 时间线</span></a></div><div class="menus_item"><a class="site-page" href="/shuoshuo"><i class="fa-fw fas fa-comment"></i><span> 说说</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image: url(/img/cover/default_cover-17.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">1024 维度</span></a><a class="nav-page-title" href="/"><span class="site-name">Java Apache Commons 库详解</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 我的轨迹</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/2023/"><i class="fa-fw fa-solid fa-bug"></i><span> 2023</span></a></li><li><a class="site-page child" href="/archives/2024/"><i class="fa-fw fa-solid fa-code"></i><span> 2024</span></a></li><li><a class="site-page child" href="/archives/2025/"><i class="fa-fw fa-solid fa-network-wired"></i><span> 2025</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa-solid fa-calendar-days"></i><span> 时间线</span></a></div><div class="menus_item"><a class="site-page" href="/shuoshuo"><i class="fa-fw fas fa-comment"></i><span> 说说</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">Java Apache Commons 库详解</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon far fa-calendar-alt"></i><span class="post-meta-label">发表于</span><time datetime="2023-05-05T22:24:00.000Z" title="发表于 2023-05-06 06:24:00">2023-05-06</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Java/">Java</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Java/%E5%BA%93/">库</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">3.5k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>15分钟</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><blockquote>
<p><strong>Apache Commons 库</strong> 是 Apache 软件基金会开发和维护的一个开源项目，旨在提供可重用、可扩展且经过良好测试的 Java 组件。它由一系列独立的模块组成，这些模块通常作为标准 Java API 的补充，提供了大量实用的工具类和功能，帮助开发者解决日常编程中遇到的常见问题，提高开发效率和代码质量。</p>
</blockquote>
<div class="note info flat"><p>核心思想：<strong>Apache Commons 提供了一系列成熟、稳定且经过测试的 Java 工具库，用于弥补标准 Java API 的不足，解决常见编程问题，从而简化开发并提升代码质量。</strong></p>
</div>

<hr>
<h2 id="一、为什么需要-Apache-Commons-库？"><a href="#一、为什么需要-Apache-Commons-库？" class="headerlink" title="一、为什么需要 Apache Commons 库？"></a>一、为什么需要 Apache Commons 库？</h2><p>尽管 Java 标准库非常强大，但在实际开发中，开发者经常会遇到一些重复性的、繁琐的、或者标准库支持不够完善的任务。例如：</p>
<ol>
<li><strong>字符串操作</strong>：标准库的 <code>String</code> 类虽然功能完善，但在处理空字符串、判空、连接、裁剪等方面，往往需要编写大量重复的 <code>null</code> 检查和条件判断。</li>
<li><strong>文件 I&#x2F;O 操作</strong>：<code>java.io</code> 包提供了底层的 I&#x2F;O 功能，但进行文件复制、目录操作、按行读取等高级操作时，代码会比较冗长且容易出错。</li>
<li><strong>集合操作</strong>：<code>java.util</code> 包的集合类非常强大，但在集合的转换、过滤、查找等方面，仍然存在一些便捷性不足的情况（尤其是在 Java 8 Stream API 之前）。</li>
<li><strong>反射操作</strong>：Java 的反射 API 相对底层和复杂，进行一些常见反射操作时不够直观。</li>
<li><strong>数据类型转换</strong>：基本数据类型和包装类之间的转换、字符串和数字之间的安全转换等。</li>
</ol>
<p>Apache Commons 库正是为了解决这些“痛点”而生，它通过提供一系列高度优化的、易于使用的工具类，极大地简化了这些常见任务的实现，减少了样板代码，并提升了代码的健壮性。</p>
<h2 id="二、Apache-Commons-核心模块概览"><a href="#二、Apache-Commons-核心模块概览" class="headerlink" title="二、Apache Commons 核心模块概览"></a>二、Apache Commons 核心模块概览</h2><p>Apache Commons 项目由众多独立的子项目（模块）组成，每个模块专注于解决某一特定领域的通用问题。以下是一些最常用和重要的模块：</p>
<ol>
<li><strong>Commons Lang</strong>：提供对 Java 核心类（<code>String</code>、<code>Number</code>、<code>Date</code>、<code>Object</code>、<code>Array</code>、<code>System</code> 等）的扩展和增强，是 Apache Commons 中最常用的模块之一。</li>
<li><strong>Commons IO</strong>：提供处理文件、目录和 I&#x2F;O 流的实用工具，简化了文件和流操作。</li>
<li><strong>Commons Collections &#x2F; Commons Collections4</strong>：对 <code>java.util</code> 集合框架的补充，提供更多高级的数据结构和集合操作工具，如 Bag、BidiMap、各种 Predicate、Transformer 等。</li>
<li><strong>Commons Codec</strong>：提供常用的编码和解码算法实现，如 Base64、Hex、MD5、SHA1 等。</li>
<li><strong>Commons Net</strong>：提供客户端网络协议的实现，如 FTP、SMTP、POP3、NNTP 等。</li>
<li><strong>Commons CLI</strong>：用于解析命令行参数，帮助应用程序处理启动参数。</li>
<li><strong>Commons Logging</strong>：一个通用的日志抽象层，允许应用程序在运行时选择具体的日志实现（如 Log4j、java.util.logging 等）。</li>
<li><strong>Commons Math</strong>：提供了一套数学和统计学的实用工具，如各种分布、矩阵、线性代数、优化算法等。</li>
<li><strong>Commons BeanUtils &#x2F; PropertyUtils</strong>：用于简化 Java Bean 的属性访问和操作，如属性拷贝、动态设置&#x2F;获取属性值。</li>
<li><strong>Commons Configuration</strong>：提供读取和管理各种配置文件的能力，如 XML、Properties、INI 等格式。</li>
<li><strong>Commons Validator</strong>：提供可扩展的验证框架，用于验证数据。</li>
</ol>
<h2 id="三、常用模块详解与代码示例"><a href="#三、常用模块详解与代码示例" class="headerlink" title="三、常用模块详解与代码示例"></a>三、常用模块详解与代码示例</h2><p>为了更好地理解 Apache Commons 的强大之处，我们将详细介绍几个最常用且极具代表性的模块，并提供相应的 Java 代码示例。</p>
<h3 id="3-1-Commons-Lang"><a href="#3-1-Commons-Lang" class="headerlink" title="3.1 Commons Lang"></a>3.1 Commons Lang</h3><p><code>Commons Lang</code> 是一个非常核心的模块，它扩展和增强了 Java 的核心类，提供了大量的工具方法来处理 <code>String</code>、<code>Number</code>、<code>Date</code>、<code>Object</code>、<code>Array</code> 等。</p>
<p><strong>Maven 依赖：</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.commons<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-lang3<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span> <span class="comment">&lt;!-- lang3 for Java 6+ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.13.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="3-1-1-StringUtils"><a href="#3-1-1-StringUtils" class="headerlink" title="3.1.1 StringUtils"></a>3.1.1 <code>StringUtils</code></h4><p>处理 <code>String</code> 字符串的各种实用方法，如判空、连接、裁剪、大小写转换等。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.commons.lang3.StringUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StringUtilsDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str2</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str3</span> <span class="operator">=</span> <span class="string">&quot;  &quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str4</span> <span class="operator">=</span> <span class="string">&quot;Hello World&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str5</span> <span class="operator">=</span> <span class="string">&quot; hello &quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1. 判空：is (Not)Empty / is (Not)Blank</span></span><br><span class="line">        <span class="comment">// isEmpty: null 或 &quot;&quot; 返回 true</span></span><br><span class="line">        System.out.println(<span class="string">&quot;isEmpty(str1): &quot;</span> + StringUtils.isEmpty(str1)); <span class="comment">// true</span></span><br><span class="line">        System.out.println(<span class="string">&quot;isEmpty(str2): &quot;</span> + StringUtils.isEmpty(str2)); <span class="comment">// true</span></span><br><span class="line">        System.out.println(<span class="string">&quot;isEmpty(str3): &quot;</span> + StringUtils.isEmpty(str3)); <span class="comment">// false (包含空格)</span></span><br><span class="line">        System.out.println(<span class="string">&quot;isEmpty(str4): &quot;</span> + StringUtils.isEmpty(str4)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// isBlank: null, &quot;&quot;, 或只包含空格的字符串返回 true</span></span><br><span class="line">        System.out.println(<span class="string">&quot;isBlank(str1): &quot;</span> + StringUtils.isBlank(str1)); <span class="comment">// true</span></span><br><span class="line">        System.out.println(<span class="string">&quot;isBlank(str2): &quot;</span> + StringUtils.isBlank(str2)); <span class="comment">// true</span></span><br><span class="line">        System.out.println(<span class="string">&quot;isBlank(str3): &quot;</span> + StringUtils.isBlank(str3)); <span class="comment">// true</span></span><br><span class="line">        System.out.println(<span class="string">&quot;isBlank(str4): &quot;</span> + StringUtils.isBlank(str4)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. 连接字符串</span></span><br><span class="line">        System.out.println(<span class="string">&quot;join: &quot;</span> + StringUtils.join(<span class="string">&quot;A&quot;</span>, <span class="string">&quot;B&quot;</span>, <span class="string">&quot;C&quot;</span>, <span class="string">&quot;D&quot;</span>)); <span class="comment">// ABCD</span></span><br><span class="line">        System.out.println(<span class="string">&quot;join with separator: &quot;</span> + StringUtils.join(<span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;A&quot;</span>, <span class="string">&quot;B&quot;</span>, <span class="string">&quot;C&quot;</span>&#125;, <span class="string">&quot;, &quot;</span>)); <span class="comment">// A, B, C</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3. 裁剪字符串 (去除首尾空格)</span></span><br><span class="line">        System.out.println(<span class="string">&quot;trim: &#x27;&quot;</span> + StringUtils.trim(str5) + <span class="string">&quot;&#x27;&quot;</span>); <span class="comment">// &#x27;hello&#x27;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4. 判断字符串是否相等 (可处理 null)</span></span><br><span class="line">        System.out.println(<span class="string">&quot;equals: &quot;</span> + StringUtils.equals(str4, <span class="string">&quot;Hello World&quot;</span>)); <span class="comment">// true</span></span><br><span class="line">        System.out.println(<span class="string">&quot;equals (null safe): &quot;</span> + StringUtils.equals(str1, <span class="literal">null</span>)); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 5. 检查是否包含某个子串</span></span><br><span class="line">        System.out.println(<span class="string">&quot;contains: &quot;</span> + StringUtils.contains(str4, <span class="string">&quot;World&quot;</span>)); <span class="comment">// true</span></span><br><span class="line">        System.out.println(<span class="string">&quot;containsIgnoreCase: &quot;</span> + StringUtils.containsIgnoreCase(str4, <span class="string">&quot;world&quot;</span>)); <span class="comment">// true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-1-2-NumberUtils"><a href="#3-1-2-NumberUtils" class="headerlink" title="3.1.2 NumberUtils"></a>3.1.2 <code>NumberUtils</code></h4><p>处理 <code>Number</code> 类型的实用方法，如判断是否是数字、字符串到数字的安全转换等。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.commons.lang3.math.NumberUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">NumberUtilsDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">numStr</span> <span class="operator">=</span> <span class="string">&quot;12345&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">invalidNumStr</span> <span class="operator">=</span> <span class="string">&quot;123a&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">emptyStr</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">decimalStr</span> <span class="operator">=</span> <span class="string">&quot;3.14&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1. 判断是否是数字</span></span><br><span class="line">        System.out.println(<span class="string">&quot;isDigits(\&quot;123\&quot;): &quot;</span> + NumberUtils.isDigits(<span class="string">&quot;123&quot;</span>)); <span class="comment">// true (只包含数字字符)</span></span><br><span class="line">        System.out.println(<span class="string">&quot;isDigits(numStr): &quot;</span> + NumberUtils.isDigits(numStr)); <span class="comment">// true</span></span><br><span class="line">        System.out.println(<span class="string">&quot;isDigits(invalidNumStr): &quot;</span> + NumberUtils.isDigits(invalidNumStr)); <span class="comment">// false</span></span><br><span class="line">        System.out.println(<span class="string">&quot;isDigits(emptyStr): &quot;</span> + NumberUtils.isDigits(emptyStr)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. 判断是否是可解析的数值 (包括负数、浮点数、科学计数法等)</span></span><br><span class="line">        System.out.println(<span class="string">&quot;isParsable(\&quot;123\&quot;): &quot;</span> + NumberUtils.isParsable(<span class="string">&quot;123&quot;</span>)); <span class="comment">// true</span></span><br><span class="line">        System.out.println(<span class="string">&quot;isParsable(\&quot;-12.3e-10\&quot;): &quot;</span> + NumberUtils.isParsable(<span class="string">&quot;-12.3e-10&quot;</span>)); <span class="comment">// true</span></span><br><span class="line">        System.out.println(<span class="string">&quot;isParsable(invalidNumStr): &quot;</span> + NumberUtils.isParsable(invalidNumStr)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3. 字符串转换为数字，提供默认值</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">parsedInt</span> <span class="operator">=</span> NumberUtils.toInt(numStr, <span class="number">0</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;toInt(\&quot;&quot;</span> + numStr + <span class="string">&quot;\&quot;, 0): &quot;</span> + parsedInt); <span class="comment">// 12345</span></span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">failedInt</span> <span class="operator">=</span> NumberUtils.toInt(invalidNumStr, -<span class="number">1</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;toInt(\&quot;&quot;</span> + invalidNumStr + <span class="string">&quot;\&quot;, -1): &quot;</span> + failedInt); <span class="comment">// -1 (转换失败，返回默认值)</span></span><br><span class="line"></span><br><span class="line">        <span class="type">double</span> <span class="variable">parsedDouble</span> <span class="operator">=</span> NumberUtils.toDouble(decimalStr, <span class="number">0.0</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;toDouble(\&quot;&quot;</span> + decimalStr + <span class="string">&quot;\&quot;, 0.0): &quot;</span> + parsedDouble); <span class="comment">// 3.14</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-1-3-ArrayUtils"><a href="#3-1-3-ArrayUtils" class="headerlink" title="3.1.3 ArrayUtils"></a>3.1.3 <code>ArrayUtils</code></h4><p>提供对数组的各种操作，如判断是否为空、合并、添加、删除、反转等。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.commons.lang3.ArrayUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArrayUtilsDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        String[] arr1 = &#123;<span class="string">&quot;apple&quot;</span>, <span class="string">&quot;banana&quot;</span>&#125;;</span><br><span class="line">        String[] arr2 = &#123;<span class="string">&quot;orange&quot;</span>, <span class="string">&quot;grape&quot;</span>&#125;;</span><br><span class="line">        String[] emptyArr = &#123;&#125;;</span><br><span class="line">        String[] nullArr = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1. 判空</span></span><br><span class="line">        System.out.println(<span class="string">&quot;isEmpty(arr1): &quot;</span> + ArrayUtils.isEmpty(arr1)); <span class="comment">// false</span></span><br><span class="line">        System.out.println(<span class="string">&quot;isEmpty(emptyArr): &quot;</span> + ArrayUtils.isEmpty(emptyArr)); <span class="comment">// true</span></span><br><span class="line">        System.out.println(<span class="string">&quot;isEmpty(nullArr): &quot;</span> + ArrayUtils.isEmpty(nullArr)); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. 合并数组</span></span><br><span class="line">        String[] combined = ArrayUtils.addAll(arr1, arr2);</span><br><span class="line">        System.out.println(<span class="string">&quot;combined array: &quot;</span> + StringUtils.join(combined, <span class="string">&quot;, &quot;</span>)); <span class="comment">// apple, banana, orange, grape</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3. 检查数组是否包含某个元素</span></span><br><span class="line">        System.out.println(<span class="string">&quot;contains &#x27;banana&#x27;: &quot;</span> + ArrayUtils.contains(arr1, <span class="string">&quot;banana&quot;</span>)); <span class="comment">// true</span></span><br><span class="line">        System.out.println(<span class="string">&quot;contains &#x27;kiwi&#x27;: &quot;</span> + ArrayUtils.contains(arr1, <span class="string">&quot;kiwi&quot;</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4. 添加元素</span></span><br><span class="line">        String[] newArr = ArrayUtils.add(arr1, <span class="string">&quot;cherry&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;array after add: &quot;</span> + StringUtils.join(newArr, <span class="string">&quot;, &quot;</span>)); <span class="comment">// apple, banana, cherry</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 5. 删除元素</span></span><br><span class="line">        String[] removedArr = ArrayUtils.removeElement(newArr, <span class="string">&quot;banana&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;array after remove: &quot;</span> + StringUtils.join(removedArr, <span class="string">&quot;, &quot;</span>)); <span class="comment">// apple, cherry</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-2-Commons-IO"><a href="#3-2-Commons-IO" class="headerlink" title="3.2 Commons IO"></a>3.2 Commons IO</h3><p><code>Commons IO</code> 提供了大量的 I&#x2F;O 工具类和方法，极大地简化了文件、目录和流的处理。</p>
<p><strong>Maven 依赖：</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.commons<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-io<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.15.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="3-2-1-FileUtils"><a href="#3-2-1-FileUtils" class="headerlink" title="3.2.1 FileUtils"></a>3.2.1 <code>FileUtils</code></h4><p>文件和目录操作的实用工具类。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.commons.io.FileUtils;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.nio.charset.StandardCharsets;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FileUtilsDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">File</span> <span class="variable">testDir</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;testDir&quot;</span>);</span><br><span class="line">        <span class="type">File</span> <span class="variable">file1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(testDir, <span class="string">&quot;file1.txt&quot;</span>);</span><br><span class="line">        <span class="type">File</span> <span class="variable">file2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(testDir, <span class="string">&quot;file2.txt&quot;</span>);</span><br><span class="line">        <span class="type">File</span> <span class="variable">destFile</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(testDir, <span class="string">&quot;copied_file.txt&quot;</span>);</span><br><span class="line">        <span class="type">File</span> <span class="variable">subDir</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(testDir, <span class="string">&quot;subDir&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// 1. 创建目录 (如果不存在)</span></span><br><span class="line">            FileUtils.forceMkdir(testDir);</span><br><span class="line">            FileUtils.forceMkdir(subDir);</span><br><span class="line">            System.out.println(<span class="string">&quot;Directories created: &quot;</span> + testDir.exists() + <span class="string">&quot;, &quot;</span> + subDir.exists());</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 2. 写入文件 (覆盖)</span></span><br><span class="line">            FileUtils.writeStringToFile(file1, <span class="string">&quot;Hello Commons IO!&quot;</span>, StandardCharsets.UTF_8);</span><br><span class="line">            System.out.println(<span class="string">&quot;Content written to &quot;</span> + file1.getName());</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 3. 读取文件内容</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">content</span> <span class="operator">=</span> FileUtils.readFileToString(file1, StandardCharsets.UTF_8);</span><br><span class="line">            System.out.println(<span class="string">&quot;Content of &quot;</span> + file1.getName() + <span class="string">&quot;: &quot;</span> + content);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 4. 复制文件</span></span><br><span class="line">            FileUtils.copyFile(file1, destFile);</span><br><span class="line">            System.out.println(file1.getName() + <span class="string">&quot; copied to &quot;</span> + destFile.getName());</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 5. 获取目录大小</span></span><br><span class="line">            System.out.println(<span class="string">&quot;Size of &quot;</span> + testDir.getName() + <span class="string">&quot;: &quot;</span> + FileUtils.sizeOfDirectory(testDir) + <span class="string">&quot; bytes&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 6. 删除目录及其内容</span></span><br><span class="line">            <span class="comment">// FileUtils.deleteDirectory(testDir); // 慎用，会删除所有文件和子目录</span></span><br><span class="line">            <span class="comment">// System.out.println(&quot;Directory &quot; + testDir.getName() + &quot; deleted.&quot;);</span></span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="comment">// 清理</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (testDir.exists()) &#123;</span><br><span class="line">                    FileUtils.deleteDirectory(testDir);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-2-2-IOUtils"><a href="#3-2-2-IOUtils" class="headerlink" title="3.2.2 IOUtils"></a>3.2.2 <code>IOUtils</code></h4><p>处理 I&#x2F;O 流的实用工具类，如复制流、关闭流、将流转换为字节数组或字符串。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.commons.io.IOUtils;</span><br><span class="line"><span class="keyword">import</span> java.io.ByteArrayInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.ByteArrayOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.nio.charset.StandardCharsets;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IOUtilsDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">data</span> <span class="operator">=</span> <span class="string">&quot;This is some stream data.&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> (<span class="type">InputStream</span> <span class="variable">input</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ByteArrayInputStream</span>(data.getBytes(StandardCharsets.UTF_8));</span><br><span class="line">             <span class="type">ByteArrayOutputStream</span> <span class="variable">output</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ByteArrayOutputStream</span>()) &#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 1. 将 InputStream 转换为 String</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">readString</span> <span class="operator">=</span> IOUtils.toString(input, StandardCharsets.UTF_8);</span><br><span class="line">            System.out.println(<span class="string">&quot;Read from stream (toString): &quot;</span> + readString);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 重置输入流以便再次读取</span></span><br><span class="line">            input.reset();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 2. 将 InputStream 内容复制到 OutputStream</span></span><br><span class="line">            IOUtils.copy(input, output);</span><br><span class="line">            System.out.println(<span class="string">&quot;Copied bytes to output stream.&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 3. 获取 OutputStream 的内容</span></span><br><span class="line">            <span class="type">byte</span>[] copiedBytes = output.toByteArray();</span><br><span class="line">            System.out.println(<span class="string">&quot;Copied content (bytes): &quot;</span> + <span class="keyword">new</span> <span class="title class_">String</span>(copiedBytes, StandardCharsets.UTF_8));</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 4. 判断两个输入流内容是否相等</span></span><br><span class="line">            <span class="type">InputStream</span> <span class="variable">input1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ByteArrayInputStream</span>(<span class="string">&quot;abc&quot;</span>.getBytes());</span><br><span class="line">            <span class="type">InputStream</span> <span class="variable">input2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ByteArrayInputStream</span>(<span class="string">&quot;abc&quot;</span>.getBytes());</span><br><span class="line">            System.out.println(<span class="string">&quot;Content equals: &quot;</span> + IOUtils.contentEquals(input1, input2)); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-3-Commons-Codec"><a href="#3-3-Commons-Codec" class="headerlink" title="3.3 Commons Codec"></a>3.3 Commons Codec</h3><p><code>Commons Codec</code> 提供了各种编码器和解码器，如 Base64、Hex、MD5、SHA1 等。</p>
<p><strong>Maven 依赖：</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-codec<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-codec<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.16.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="3-3-1-Base64"><a href="#3-3-1-Base64" class="headerlink" title="3.3.1 Base64"></a>3.3.1 <code>Base64</code></h4><p>Base64 编码和解码。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.commons.codec.binary.Base64;</span><br><span class="line"><span class="keyword">import</span> java.nio.charset.StandardCharsets;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Base64Demo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">originalString</span> <span class="operator">=</span> <span class="string">&quot;Hello, Commons Codec!&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 编码</span></span><br><span class="line">        <span class="type">byte</span>[] encodedBytes = Base64.encodeBase64(originalString.getBytes(StandardCharsets.UTF_8));</span><br><span class="line">        <span class="type">String</span> <span class="variable">encodedString</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(encodedBytes, StandardCharsets.UTF_8);</span><br><span class="line">        System.out.println(<span class="string">&quot;Original: &quot;</span> + originalString);</span><br><span class="line">        System.out.println(<span class="string">&quot;Encoded (Base64): &quot;</span> + encodedString); <span class="comment">// SGVsbG8sIENvbW1vbnMgQ29kZWMh</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 解码</span></span><br><span class="line">        <span class="type">byte</span>[] decodedBytes = Base64.decodeBase64(encodedString.getBytes(StandardCharsets.UTF_8));</span><br><span class="line">        <span class="type">String</span> <span class="variable">decodedString</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(decodedBytes, StandardCharsets.UTF_8);</span><br><span class="line">        System.out.println(<span class="string">&quot;Decoded: &quot;</span> + decodedString); <span class="comment">// Hello, Commons Codec!</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-3-2-DigestUtils"><a href="#3-3-2-DigestUtils" class="headerlink" title="3.3.2 DigestUtils"></a>3.3.2 <code>DigestUtils</code></h4><p>提供 MD5、SHA 等消息摘要算法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.commons.codec.digest.DigestUtils;</span><br><span class="line"><span class="keyword">import</span> java.nio.charset.StandardCharsets;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DigestUtilsDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">input</span> <span class="operator">=</span> <span class="string">&quot;This is a secret message.&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// MD5 哈希</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">md5Hash</span> <span class="operator">=</span> DigestUtils.md5Hex(input.getBytes(StandardCharsets.UTF_8));</span><br><span class="line">        System.out.println(<span class="string">&quot;MD5 Hash: &quot;</span> + md5Hash); <span class="comment">// 922ef6a8362b165b40d6c13ed62d3e1b</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// SHA-256 哈希</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">sha256Hash</span> <span class="operator">=</span> DigestUtils.sha256Hex(input.getBytes(StandardCharsets.UTF_8));</span><br><span class="line">        System.out.println(<span class="string">&quot;SHA-256 Hash: &quot;</span> + sha256Hash); <span class="comment">// 7a8f... (更长)</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="四、如何引入-Apache-Commons-库？"><a href="#四、如何引入-Apache-Commons-库？" class="headerlink" title="四、如何引入 Apache Commons 库？"></a>四、如何引入 Apache Commons 库？</h2><p>现代 Java 项目通常使用构建工具如 Maven 或 Gradle 来管理依赖。只需在项目的 <code>pom.xml</code> (Maven) 或 <code>build.gradle</code> (Gradle) 文件中添加相应的依赖即可。</p>
<p><strong>Maven (pom.xml):</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Commons Lang 3 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.commons<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-lang3<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.13.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- Commons IO --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.commons<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-io<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.15.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- Commons Codec --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-codec<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-codec<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.16.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 其他 Commons 模块按需添加 --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>Gradle (build.gradle):</strong></p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">dependencies</span> &#123;</span><br><span class="line">    <span class="comment">// Commons Lang 3</span></span><br><span class="line">    implementation <span class="string">&#x27;org.apache.commons:commons-lang3:3.13.0&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Commons IO</span></span><br><span class="line">    implementation <span class="string">&#x27;org.apache.commons:commons-io:2.15.1&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Commons Codec</span></span><br><span class="line">    implementation <span class="string">&#x27;commons-codec:commons-codec:1.16.0&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 其他 Commons 模块按需添加</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="五、优势与最佳实践"><a href="#五、优势与最佳实践" class="headerlink" title="五、优势与最佳实践"></a>五、优势与最佳实践</h2><h3 id="5-1-优势"><a href="#5-1-优势" class="headerlink" title="5.1 优势"></a>5.1 优势</h3><ol>
<li><strong>提高开发效率</strong>：大量预置的工具方法，减少了重复造轮子的工作。</li>
<li><strong>代码质量与健壮性</strong>：经过 Apache 社区的严格测试和多年验证，代码质量高，考虑了各种边界情况 (如 <code>null</code> 值处理)。</li>
<li><strong>标准化与可读性</strong>：提供了一套事实上的标准工具集，团队成员之间更容易理解和维护代码。</li>
<li><strong>性能优化</strong>：许多工具方法在实现时考虑了性能优化。</li>
<li><strong>模块化设计</strong>：按功能划分为独立的模块，可以按需引入，避免不必要的依赖。</li>
</ol>
<h3 id="5-2-最佳实践"><a href="#5-2-最佳实践" class="headerlink" title="5.2 最佳实践"></a>5.2 最佳实践</h3><ol>
<li><strong>按需引入</strong>：只引入项目实际需要的 Commons 模块，避免引入过多不必要的依赖，增加 JAR 包大小和潜在的冲突。</li>
<li><strong>熟悉常用类</strong>：重点熟悉 <code>StringUtils</code>, <code>FileUtils</code>, <code>IOUtils</code> 等常用工具类，掌握其核心功能。</li>
<li><strong>优先使用 Commons 方法</strong>：在处理字符串、文件 I&#x2F;O、数组等常见任务时，优先考虑使用 Commons 提供的工具方法，而不是自己编写重复代码。</li>
<li><strong>注意版本兼容性</strong>：确保使用的 Commons 模块版本与项目中的其他依赖兼容。例如，<code>commons-lang3</code> 是 <code>commons-lang</code> 的新一代版本，适用于 Java 6+。</li>
</ol>
<h2 id="六、总结"><a href="#六、总结" class="headerlink" title="六、总结"></a>六、总结</h2><p>Apache Commons 库是 Java 开发中不可或缺的利器，它以其丰富的工具集、高质量的实现和模块化的设计，极大地提升了 Java 开发的效率和代码的健壮性。通过合理地利用 Commons 库，开发者可以专注于业务逻辑的实现，而将底层繁琐的通用任务交给这些成熟的组件来处理。掌握 Apache Commons 库的使用，是每一个 Java 开发者提升自身技能的重要一步。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://blog.tbf1211.xx.kg">TeaTang</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://blog.tbf1211.xx.kg/8a4030ace7f7/">https://blog.tbf1211.xx.kg/8a4030ace7f7/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://blog.tbf1211.xx.kg" target="_blank">1024 维度</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/2023/">2023</a><a class="post-meta__tags" href="/tags/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/">程序设计</a><a class="post-meta__tags" href="/tags/Java/">Java</a></div><div class="post-share"><div class="social-share" data-image="/img/cover/default_cover-17.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2dc66126bcaa/" title="Redis 各类数据结构指令详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-15.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">Redis 各类数据结构指令详解</div></div><div class="info-2"><div class="info-item-1"> Redis 是一个开源（BSD 许可）的内存数据结构存储，可用作数据库、缓存和消息代理。它支持多种类型的数据结构，如字符串（strings）、哈希（hashes）、列表（lists）、集合（sets）、有序集合（sorted sets）等。理解并熟练使用这些数据结构及其相关指令，是高效利用 Redis 的关键。  Redis 的强大之处在于其在内存中操作这些丰富的数据结构，使得读写速度极快。掌握每个数据结构的使用场景和对应指令，是进行高性能应用开发的基础。   一、通用键指令 (Generic Commands)这些指令适用于所有数据类型的键。    指令 描述 示例    DEL key [key ...] 删除一个或多个键。 DEL mykey mylist   EXISTS key [key ...] 检查给定键是否存在。返回存在的键的数量。 EXISTS mykey   EXPIRE key seconds 设置键的过期时间（秒）。 EXPIRE mykey 60 (60秒后过期)   TTL key 获取键的剩余过期时间（秒）。-1 表示永久，-2 表示键不存在或已过...</div></div></div></a><a class="pagination-related" href="/b519dd676c66/" title="PWA (Progressive Web Apps) 深度解析"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-16.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">PWA (Progressive Web Apps) 深度解析</div></div><div class="info-2"><div class="info-item-1"> PWA (Progressive Web Apps - 渐进式 Web 应用) 是一种利用现代 Web 技术，将 Web 应用提升至接近原生应用体验的新方法。它旨在结合 Web 的广阔可达性与原生应用的丰富功能，为用户提供可靠 (Reliable)、快速 (Fast)、沉浸式 (Engaging) 的体验。PWA 不仅仅是一种技术，更是一套开发理念和最佳实践。  核心思想：PWA 的目标是让 Web 应用具备类似原生应用的体验和功能，同时保留 Web 的优点（无需安装、易于发现、跨平台）。这主要通过 Service Worker 实现离线能力和性能优化，通过 Web App Manifest 实现安装和应用体验，以及通过 HTTPS 确保安全性来达成。   一、为什么需要 PWA？(Web 与原生应用的融合)传统 Web 应用和原生移动应用各有优缺点：  传统 Web 应用 (网站)： 优点：无需安装、易于发现、跨平台、更新灵活、共享方便。 缺点：依赖网络、加载慢、无离线功能、无法添加到主屏幕、无法发送推送通知、用户体验与原生应用有差距。   原生移动应用： 优点：性能好、可离...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/f9907953525a/" title="Java try-catch-finally 与 try-with-resources 详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-03.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-11-23</div><div class="info-item-2">Java try-catch-finally 与 try-with-resources 详解</div></div><div class="info-2"><div class="info-item-1"> 在 Java 编程中，异常处理是确保程序健壮性和可靠性的关键。try-catch-finally 结构是 Java 异常处理的基石，而 try-with-resources (自 Java 7 引入) 则是为了更优雅、更安全地管理资源而设计的语法糖。本文将详细探讨这两种机制的工作原理、使用场景、优缺点以及最佳实践。  核心思想：  try-catch-finally：提供了一个结构化的方式来捕获和处理可能发生的运行时错误 (异常)，并确保在异常发生或不发生的情况下，特定代码块（通常用于资源清理）能够执行。 try-with-resources：针对需要关闭的资源（如文件流、数据库连接等），提供了一种自动管理资源生命周期的方式，确保资源在使用完毕后被正确关闭，即使发生异常。     一、try-catch-finally 详解try-catch-finally 是 Java 异常处理的核心机制。  try 块：包含可能抛出异常的代码。 catch 块：用于捕获 try 块中抛出的特定类型的异常，并进行相应的处理。一个 try 块可以跟多个 catch 块，以处理不同类型的异常。 ...</div></div></div></a><a class="pagination-related" href="/dba940a46fd5/" title="Java Netty 框架详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-26.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-08-18</div><div class="info-item-2">Java Netty 框架详解</div></div><div class="info-2"><div class="info-item-1"> Netty 是一个高性能、事件驱动的异步网络通信框架，它基于 Java NIO (New I&#x2F;O) 提供了一套统一的 API，用于快速开发可维护、高性能和高可扩展性的协议服务器和客户端。Netty 极大地简化了网络编程的复杂性，使开发者能够专注于业务逻辑而非底层 I&#x2F;O 细节。  核心思想：Netty 是一个高性能、事件驱动的异步网络通信框架，通过抽象 Java NIO 的复杂性，提供统一的 API 和丰富的功能集，帮助开发者快速构建稳定、可伸缩的网络应用。    一、为什么选择 Netty？在传统的 Java 网络编程中，主要有两种 I&#x2F;O 模型：阻塞 I&#x2F;O (BIO) 和 非阻塞 I&#x2F;O (NIO)。  阻塞 I&#x2F;O (BIO)：  一个连接一个线程，当客户端连接数量大时，服务器需要创建大量线程，导致资源开销大，性能瓶颈。 线程阻塞等待 I&#x2F;O 完成，CPU 利用率低。 代码相对简单，适用于连接数少且稳定的场景。   非阻塞 I&#x2F;O (NIO)：  基于事件驱动和多路复用机制，一个或少数几个线...</div></div></div></a><a class="pagination-related" href="/a50cc05145ea/" title="Java 内部类详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-14.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-09-23</div><div class="info-item-2">Java 内部类详解</div></div><div class="info-2"><div class="info-item-1"> Java 内部类 (Inner Class) 是定义在另一个类（称为外部类或外围类，Outer Class）内部的类。内部类与外部类之间存在一种特殊的关联，它能够访问其外部类的所有成员，包括 private 成员。这种机制增强了封装性，并允许创建更紧密耦合的组件。  核心思想：将逻辑上紧密相关的类封装在一起，以提高代码的组织性、可读性和安全性。内部类可以访问外部类的成员，而外部类也可以直接访问内部类的成员（如果内部类是 public 或 protected）。    一、为什么需要内部类？在 Java 中，引入内部类主要有以下几个原因：  增强封装性 (Encapsulation)：内部类可以访问外部类的 private 成员，这使得它们可以更紧密地与外部类进行协作，同时将一些只与外部类相关的类隐藏起来，避免污染包命名空间。 代码组织与可读性 (Code Organization and Readability)：当一个类只对另一个类有意义时，将它定义为内部类可以使代码结构更清晰，逻辑上更紧密地联系在一起。例如，一个 Map 接口的 Entry 内部接口就逻辑上属于 Map。 ...</div></div></div></a><a class="pagination-related" href="/2967c5d47efe/" title="Java Google Guava 库详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-26.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-05-09</div><div class="info-item-2">Java Google Guava 库详解</div></div><div class="info-2"><div class="info-item-1"> Google Guava 库 是 Google 开发并开源的一套 Java 核心库，旨在提高 Java 开发效率和代码质量。它提供了大量针对 Java 核心功能（如集合、缓存、并发、字符串处理、I&#x2F;O 等）的增强和实用工具，旨在解决 JDK 自身 API 在某些方面的不足，并引入了现代编程范式和最佳实践。  核心思想：Guava 通过提供一套功能丰富、高性能、经过严格测试的 Java 工具集，补充了 JDK 的功能，简化了常见编程任务，提高了代码的健壮性、可读性和开发效率。    一、为什么需要 Google Guava 库？尽管 Java 标准库功能强大，但在实际开发中，开发者经常面临以下挑战：  集合操作的不足：JDK 集合框架虽然基础完善，但在创建、转换、过滤、组合集合时，往往需要编写冗长或低效的代码（尤其是在 Java 8 Stream API 之前）。例如，多值 Map、双向 Map 等。 字符串处理的繁琐：字符串的判空、拼接、分割等操作在 JDK 中不够简洁和健壮。 并发编程的复杂性：并发工具类虽然有，但对于一些高级并发模式和数据结构（如 Rate Lim...</div></div></div></a><a class="pagination-related" href="/fe14e1c2560d/" title="Spring Boot 详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-23.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-06-21</div><div class="info-item-2">Spring Boot 详解</div></div><div class="info-2"><div class="info-item-1"> Spring Boot 是一个旨在简化 Spring 应用程序初始化、配置和部署的框架。它建立在 Spring Framework 基础之上，不是一个全新的框架，而是提供了一套强大的工具和功能，让构建基于 Spring 的独立、生产级别的应用程序变得更加快捷和容易。Spring Boot 通过提供约定优于配置的理念、自动化配置和内嵌服务器等特性，极大地提高了开发效率和可维护性。  核心思想：开箱即用 (Out-of-the-box)；约定优于配置 (Convention over Configuration)；快速启动 (Quick Start)；生产就绪 (Production-ready)。Spring Boot 致力于让开发者更少关注配置，更多关注业务逻辑。   一、为什么需要 Spring Boot？传统的 Spring Framework 强大而灵活，但也带来了配置复杂、依赖管理繁琐等问题。在构建一个典型的 Spring 应用时，开发者常常会遇到：  繁琐的配置：需要手动配置大量的 XML 或 Java Config，例如 web.xml、dispatcher-ser...</div></div></div></a><a class="pagination-related" href="/51ed7e90d7c9/" title="Java 枚举类详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-31.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-10-08</div><div class="info-item-2">Java 枚举类详解</div></div><div class="info-2"><div class="info-item-1"> Java 枚举 (Enum) 是一种特殊的类，它允许开发者定义一组固定的、预定义的常量。自 Java 5 引入以来，枚举提供了一种类型安全、可读性强且功能丰富的机制来表示一组有限的命名常量。它不仅是一个简单的常量集合，更是一个完整的类，可以拥有属性、方法，甚至实现接口。  核心思想：Java 枚举不仅是常量集合，更是功能丰富的类，提供类型安全、可读性强、可扩展的常量管理机制。    一、为什么需要枚举类？在 Java 5 之前，通常使用 public static final 变量来定义常量。这种方式存在以下问题：  类型不安全：常量本质上是 int 或 String 等基本类型。这意味着在方法参数中使用这些常量时，编译器无法检查传入的值是否是预期的常量之一，容易传入非法值。1234567// 传统常量定义public static final int SEASON_SPRING = 1;public static final int SEASON_SUMMER = 2;public void displaySeason(int season) &#123;    // ......</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/loading.gif" data-lazy-src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">TeaTang</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">438</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">224</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">80</div></a></div><a id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/teatang"><i class="fab fa-github"></i><span>GitHub主页</span></a><div class="card-info-social-icons"><a class="social-icon" href="mailto:tea.tang1211@gmail.com" rel="external nofollow noreferrer" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title="RSS"><i class="fas fa-rss"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">网站更多功能即将上线，敬请期待！</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81-Apache-Commons-%E5%BA%93%EF%BC%9F"><span class="toc-text">一、为什么需要 Apache Commons 库？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81Apache-Commons-%E6%A0%B8%E5%BF%83%E6%A8%A1%E5%9D%97%E6%A6%82%E8%A7%88"><span class="toc-text">二、Apache Commons 核心模块概览</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%B8%B8%E7%94%A8%E6%A8%A1%E5%9D%97%E8%AF%A6%E8%A7%A3%E4%B8%8E%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B"><span class="toc-text">三、常用模块详解与代码示例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-Commons-Lang"><span class="toc-text">3.1 Commons Lang</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-1-StringUtils"><span class="toc-text">3.1.1 StringUtils</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-2-NumberUtils"><span class="toc-text">3.1.2 NumberUtils</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-3-ArrayUtils"><span class="toc-text">3.1.3 ArrayUtils</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-Commons-IO"><span class="toc-text">3.2 Commons IO</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-1-FileUtils"><span class="toc-text">3.2.1 FileUtils</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-2-IOUtils"><span class="toc-text">3.2.2 IOUtils</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-Commons-Codec"><span class="toc-text">3.3 Commons Codec</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-1-Base64"><span class="toc-text">3.3.1 Base64</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-2-DigestUtils"><span class="toc-text">3.3.2 DigestUtils</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E5%A6%82%E4%BD%95%E5%BC%95%E5%85%A5-Apache-Commons-%E5%BA%93%EF%BC%9F"><span class="toc-text">四、如何引入 Apache Commons 库？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E4%BC%98%E5%8A%BF%E4%B8%8E%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5"><span class="toc-text">五、优势与最佳实践</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E4%BC%98%E5%8A%BF"><span class="toc-text">5.1 优势</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5"><span class="toc-text">5.2 最佳实践</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E6%80%BB%E7%BB%93"><span class="toc-text">六、总结</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/0c48c5fa5942/" title="CFFI (C Foreign Function Interface for Python) 详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-17.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CFFI (C Foreign Function Interface for Python) 详解"/></a><div class="content"><a class="title" href="/0c48c5fa5942/" title="CFFI (C Foreign Function Interface for Python) 详解">CFFI (C Foreign Function Interface for Python) 详解</a><time datetime="2025-12-23T22:24:00.000Z" title="发表于 2025-12-24 06:24:00">2025-12-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/03cebd3cc28a/" title="行为驱动开发 (BDD) 详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-18.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="行为驱动开发 (BDD) 详解"/></a><div class="content"><a class="title" href="/03cebd3cc28a/" title="行为驱动开发 (BDD) 详解">行为驱动开发 (BDD) 详解</a><time datetime="2025-12-21T22:24:00.000Z" title="发表于 2025-12-22 06:24:00">2025-12-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/7bb082434be0/" title="测试驱动开发 (TDD) 详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-04.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="测试驱动开发 (TDD) 详解"/></a><div class="content"><a class="title" href="/7bb082434be0/" title="测试驱动开发 (TDD) 详解">测试驱动开发 (TDD) 详解</a><time datetime="2025-12-19T22:24:00.000Z" title="发表于 2025-12-20 06:24:00">2025-12-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/24ffc0bedb41/" title="IPFS (InterPlanetary File System) 详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-09.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="IPFS (InterPlanetary File System) 详解"/></a><div class="content"><a class="title" href="/24ffc0bedb41/" title="IPFS (InterPlanetary File System) 详解">IPFS (InterPlanetary File System) 详解</a><time datetime="2025-12-16T22:24:00.000Z" title="发表于 2025-12-17 06:24:00">2025-12-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/974825c9c64f/" title="L7 负载均衡详解 (Layer 7 Load Balancing Explained)"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-08.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="L7 负载均衡详解 (Layer 7 Load Balancing Explained)"/></a><div class="content"><a class="title" href="/974825c9c64f/" title="L7 负载均衡详解 (Layer 7 Load Balancing Explained)">L7 负载均衡详解 (Layer 7 Load Balancing Explained)</a><time datetime="2025-12-14T22:24:00.000Z" title="发表于 2025-12-15 06:24:00">2025-12-15</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/img/cover/default_cover-17.jpg);"><div class="footer-flex"><div class="footer-flex-items"><div class="footer-flex-item"><div class="footer-flex-title">我的轨迹</div><div class="footer-flex-content"><a href="/archives/2023/" target="_blank" title="📌 2023">📌 2023</a><a href="/archives/2024/" target="_blank" title="❓ 2024">❓ 2024</a><a href="/archives/2025/" target="_blank" title="🚀 2025">🚀 2025</a></div></div></div><div class="footer-flex-items"><div class="footer-flex-item"><div class="footer-flex-title">维度</div><div class="footer-flex-content"><a href="/categories/" target="_blank" title="分类">分类</a><a href="/tags/" target="_blank" title="标签">标签</a><a href="/categories/" target="_blank" title="时间线">时间线</a></div></div></div><div class="footer-flex-items"><div class="footer-flex-item"><div class="footer-flex-title">其他</div><div class="footer-flex-content"><a href="/shuoshuo" target="_blank" title="说说">说说</a></div></div></div></div><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2023 - 2025 By TeaTang</span><span class="framework-info"><span class="footer-separator">|</span><span>框架 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.3"></script><script src="/js/main.js?v=5.5.3"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.1.7/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@19.1.3/dist/lazyload.iife.min.js"></script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const config = mermaidSrc.dataset.config ? JSON.parse(mermaidSrc.dataset.config) : {}
      if (!config.theme) {
        config.theme = theme
      }
      const mermaidThemeConfig = `%%{init: ${JSON.stringify(config)}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid@11.12.2/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>(() => {
  const applyThemeDefaultsConfig = theme => {
    if (theme === 'dark-mode') {
      Chart.defaults.color = "rgba(255, 255, 255, 0.8)"
      Chart.defaults.borderColor = "rgba(255, 255, 255, 0.2)"
      Chart.defaults.scale.ticks.backdropColor = "transparent"
    } else {
      Chart.defaults.color = "rgba(0, 0, 0, 0.8)"
      Chart.defaults.borderColor = "rgba(0, 0, 0, 0.1)"
      Chart.defaults.scale.ticks.backdropColor = "transparent"
    }
  }

  // Recursively traverse the config object and automatically apply theme-specific color schemes
  const applyThemeConfig = (obj, theme) => {
    if (typeof obj !== 'object' || obj === null) return

    Object.keys(obj).forEach(key => {
      const value = obj[key]
      // If the property is an object and has theme-specific options, apply them
      if (typeof value === 'object' && value !== null) {
        if (value[theme]) {
          obj[key] = value[theme] // Apply the value for the current theme
        } else {
          // Recursively process child objects
          applyThemeConfig(value, theme)
        }
      }
    })
  }

  const runChartJS = ele => {
    window.loadChartJS = true

    Array.from(ele).forEach((item, index) => {
      const chartSrc = item.firstElementChild
      const chartID = item.getAttribute('data-chartjs-id') || ('chartjs-' + index) // Use custom ID or default ID
      const width = item.getAttribute('data-width')
      const existingCanvas = document.getElementById(chartID)

      // If a canvas already exists, remove it to avoid rendering duplicates
      if (existingCanvas) {
          existingCanvas.parentNode.remove()
      }

      const chartDefinition = chartSrc.textContent
      const canvas = document.createElement('canvas')
      canvas.id = chartID

      const div = document.createElement('div')
      div.className = 'chartjs-wrap'

      if (width) {
        div.style.width = width
      }

      div.appendChild(canvas)
      chartSrc.insertAdjacentElement('afterend', div)

      const ctx = document.getElementById(chartID).getContext('2d')

      const config = JSON.parse(chartDefinition)

      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark-mode' : 'light-mode'

      // Set default styles (initial setup)
      applyThemeDefaultsConfig(theme)

      // Automatically traverse the config and apply dual-mode color schemes
      applyThemeConfig(config, theme)

      new Chart(ctx, config)
    })
  }

  const loadChartJS = () => {
    const chartJSEle = document.querySelectorAll('#article-container .chartjs-container')
    if (chartJSEle.length === 0) return

    window.loadChartJS ? runChartJS(chartJSEle) : btf.getScript('https://cdn.jsdelivr.net/npm/chart.js@4.5.1/dist/chart.umd.min.js').then(() => runChartJS(chartJSEle))
  }

  // Listen for theme change events
  btf.addGlobalFn('themeChange', loadChartJS, 'chartjs')
  btf.addGlobalFn('encrypt', loadChartJS, 'chartjs')

  window.pjax ? loadChartJS() : document.addEventListener('DOMContentLoaded', loadChartJS)
})()</script></div><script data-pjax src="/self/btf.js"></script><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/fireworks.min.js"></script><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="ture"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-fluttering-ribbon.min.js"></script><script id="canvas_nest" defer="defer" color="0,200,200" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js" defer="defer"></script><script>document.addEventListener('DOMContentLoaded', () => {
  const pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => {
      try {
        fn()
      } catch (err) {
        console.debug('Pjax callback failed:', err)
      }
    })
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      true
        ? pjax.loadUrl('/404.html')
        : window.location.href = e.request.responseURL
    }
  })
})</script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden="hidden"></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="local-search-input"><input placeholder="搜索文章" type="text"/></div><hr/><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none;"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=5.5.3"></script></div></div></body></html>