<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Chocolatey (Choco) 详解：Windows 上的包管理器 | 1024 维度</title><meta name="author" content="TeaTang"><meta name="copyright" content="TeaTang"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Chocolatey 是 Windows 平台上的一个开源包管理器，它简化了软件的安装、升级、配置和卸载过程。类似于 Linux 上的 apt 或 yum，以及 macOS 上的 Homebrew，Chocolatey 允许用户通过命令行快速、自动化地管理 Windows 应用程序和工具，极大地提高了开发人员和系统管理员的工作效率。  核心思想：将 Windows 软件的安装、升级、管理过程标准">
<meta property="og:type" content="article">
<meta property="og:title" content="Chocolatey (Choco) 详解：Windows 上的包管理器">
<meta property="og:url" content="https://blog.tbf1211.xx.kg/3137f8a10771/index.html">
<meta property="og:site_name" content="1024 维度">
<meta property="og:description" content="Chocolatey 是 Windows 平台上的一个开源包管理器，它简化了软件的安装、升级、配置和卸载过程。类似于 Linux 上的 apt 或 yum，以及 macOS 上的 Homebrew，Chocolatey 允许用户通过命令行快速、自动化地管理 Windows 应用程序和工具，极大地提高了开发人员和系统管理员的工作效率。  核心思想：将 Windows 软件的安装、升级、管理过程标准">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blog.tbf1211.xx.kg/img/cover/default_cover-07.jpg">
<meta property="article:published_time" content="2025-08-21T22:24:00.000Z">
<meta property="article:modified_time" content="2026-02-04T09:47:15.121Z">
<meta property="article:author" content="TeaTang">
<meta property="article:tag" content="Windows">
<meta property="article:tag" content="2025">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog.tbf1211.xx.kg/img/cover/default_cover-07.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Chocolatey (Choco) 详解：Windows 上的包管理器",
  "url": "https://blog.tbf1211.xx.kg/3137f8a10771/",
  "image": "https://blog.tbf1211.xx.kg/img/cover/default_cover-07.jpg",
  "datePublished": "2025-08-21T22:24:00.000Z",
  "dateModified": "2026-02-04T09:47:15.121Z",
  "author": [
    {
      "@type": "Person",
      "name": "TeaTang",
      "url": "https://blog.tbf1211.xx.kg"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon-1.ico"><link rel="canonical" href="https://blog.tbf1211.xx.kg/3137f8a10771/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><meta name="google-site-verification" content="NdIUXAOVyGnnBhcrip0ksCawbdAzT0hlBZDE9u4jx6k"/><meta name="msvalidate.01" content="567E47D75E8DCF1282B9623AD914701E"/><meta name="baidu-site-verification" content="code-pE5rnuxcfD"/><link rel="stylesheet" href="/css/index.css?v=5.5.4"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.1.9/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          const mediaQueryDark = window.matchMedia('(prefers-color-scheme: dark)')
          const mediaQueryLight = window.matchMedia('(prefers-color-scheme: light)')

          if (theme === undefined) {
            if (mediaQueryLight.matches) activateLightMode()
            else if (mediaQueryDark.matches) activateDarkMode()
            else {
              const hour = new Date().getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            mediaQueryDark.addEventListener('change', () => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else {
            theme === 'light' ? activateLightMode() : activateDarkMode()
          }
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":false,"top_n_per_article":1,"unescape":false,"pagination":{"enable":true,"hitsPerPage":8},"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":400,"highlightFullpage":true,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":150,"languages":{"author":"作者: TeaTang","link":"链接: ","source":"来源: 1024 维度","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.13.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Chocolatey (Choco) 详解：Windows 上的包管理器',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="preconnect" href="https://jsd.012700.xyz"><link href="/self/btf.css" rel="stylesheet"><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="1024 维度" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/loading.gif" data-lazy-src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">544</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">230</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">84</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 我的轨迹</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/2023/"><i class="fa-fw fa-solid fa-bug"></i><span> 2023</span></a></li><li><a class="site-page child" href="/archives/2024/"><i class="fa-fw fa-solid fa-code"></i><span> 2024</span></a></li><li><a class="site-page child" href="/archives/2025/"><i class="fa-fw fa-solid fa-network-wired"></i><span> 2025</span></a></li><li><a class="site-page child" href="/archives/2026/"><i class="fa-fw fa-solid fa-code-branch"></i><span> 2026</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa-solid fa-calendar-days"></i><span> 时间线</span></a></div><div class="menus_item"><a class="site-page" href="/shuoshuo"><i class="fa-fw fas fa-comment"></i><span> 说说</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image: url(/img/cover/default_cover-07.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">1024 维度</span></a><a class="nav-page-title" href="/"><span class="site-name">Chocolatey (Choco) 详解：Windows 上的包管理器</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 我的轨迹</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/2023/"><i class="fa-fw fa-solid fa-bug"></i><span> 2023</span></a></li><li><a class="site-page child" href="/archives/2024/"><i class="fa-fw fa-solid fa-code"></i><span> 2024</span></a></li><li><a class="site-page child" href="/archives/2025/"><i class="fa-fw fa-solid fa-network-wired"></i><span> 2025</span></a></li><li><a class="site-page child" href="/archives/2026/"><i class="fa-fw fa-solid fa-code-branch"></i><span> 2026</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa-solid fa-calendar-days"></i><span> 时间线</span></a></div><div class="menus_item"><a class="site-page" href="/shuoshuo"><i class="fa-fw fas fa-comment"></i><span> 说说</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">Chocolatey (Choco) 详解：Windows 上的包管理器</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon far fa-calendar-alt"></i><span class="post-meta-label">发表于</span><time datetime="2025-08-21T22:24:00.000Z" title="发表于 2025-08-22 06:24:00">2025-08-22</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/">开发工具</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/Windows/">Windows</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">2.4k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>8分钟</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><blockquote>
<p><strong>Chocolatey</strong> 是 Windows 平台上的一个开源包管理器，它简化了软件的安装、升级、配置和卸载过程。类似于 Linux 上的 <code>apt</code> 或 <code>yum</code>，以及 macOS 上的 <code>Homebrew</code>，Chocolatey 允许用户通过命令行快速、自动化地管理 Windows 应用程序和工具，极大地提高了开发人员和系统管理员的工作效率。</p>
</blockquote>
<div class="note info flat"><p>核心思想：<strong>将 Windows 软件的安装、升级、管理过程标准化和自动化，通过命令行实现“一键安装”，摆脱手动下载、点击下一步的繁琐。</strong></p>
</div>
<hr>
<h2 id="一、为什么需要-Chocolatey？"><a href="#一、为什么需要-Chocolatey？" class="headerlink" title="一、为什么需要 Chocolatey？"></a>一、为什么需要 Chocolatey？</h2><p>传统的 Windows 软件安装方式存在诸多不便：</p>
<ol>
<li><strong>手动下载</strong>：需要访问各个软件的官方网站，查找下载链接。</li>
<li><strong>点击下一步</strong>：安装过程通常需要反复点击“下一步”、“同意协议”，耗时且乏味。</li>
<li><strong>升级繁琐</strong>：软件升级也需要重复上述步骤，或依赖软件自带的升级器，管理不集中。</li>
<li><strong>依赖管理</strong>：某些软件可能依赖于其他运行时环境或库，手动安装容易出错或遗漏。</li>
<li><strong>自动化部署困难</strong>：对于需要批量部署软件的企业或自动化环境，手动安装是巨大的障碍。</li>
</ol>
<p>Chocolatey 旨在解决这些问题，提供以下优势：</p>
<ul>
<li><strong>自动化</strong>：通过简单的命令行指令，自动完成软件的下载、安装、配置。</li>
<li><strong>集中管理</strong>：所有通过 Chocolatey 安装的软件都可以通过统一的命令进行管理（安装、升级、卸载）。</li>
<li><strong>依赖解决</strong>：包定义中可以包含依赖信息，Chocolatey 会自动处理软件依赖。</li>
<li><strong>易于脚本化</strong>：可以轻松集成到自动化脚本（如 PowerShell）中，实现批量部署和环境初始化。</li>
<li><strong>版本控制</strong>：可以指定安装特定版本的软件，或回滚到旧版本。</li>
<li><strong>广泛的软件库</strong>：拥有庞大的社区维护的软件库，涵盖了开发工具、实用程序、浏览器等各类软件。</li>
</ul>
<h2 id="二、Chocolatey-的安装"><a href="#二、Chocolatey-的安装" class="headerlink" title="二、Chocolatey 的安装"></a>二、Chocolatey 的安装</h2><p>安装 Chocolatey 需要管理员权限的 PowerShell。</p>
<h3 id="2-1-系统要求"><a href="#2-1-系统要求" class="headerlink" title="2.1 系统要求"></a>2.1 系统要求</h3><ul>
<li>Windows 7+ &#x2F; Windows Server 2003+</li>
<li>PowerShell v2+</li>
<li>.NET Framework 4+ (Chocolatey v1.0.0+ 已经内置安装 .NET 4.0，无需手动安装)</li>
</ul>
<h3 id="2-2-安装步骤"><a href="#2-2-安装步骤" class="headerlink" title="2.2 安装步骤"></a>2.2 安装步骤</h3><ol>
<li><p><strong>打开管理员权限的 PowerShell</strong>：<br>在开始菜单搜索 <code>PowerShell</code>，右键选择 <code>以管理员身份运行</code>。</p>
</li>
<li><p><strong>设置 PowerShell 执行策略</strong>：<br>为确保 Chocolatey 脚本能够运行，需要设置 PowerShell 的执行策略。</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Set-ExecutionPolicy</span> AllSigned</span><br><span class="line"><span class="comment"># 或者，如果你更了解风险，可以使用 Bypass 以避免在安装过程中提示：</span></span><br><span class="line"><span class="comment"># Set-ExecutionPolicy Bypass -Scope Process -Force</span></span><br></pre></td></tr></table></figure>
<p>当你被提示选择时，输入 <code>Y</code> 并回车。</p>
</li>
<li><p><strong>安装 Chocolatey</strong>：<br>将以下命令复制并粘贴到 PowerShell 窗口中，然后回车执行。</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Set-ExecutionPolicy</span> Bypass <span class="literal">-Scope</span> <span class="keyword">Process</span> <span class="literal">-Force</span>; [<span class="type">System.Net.ServicePointManager</span>]::SecurityProtocol = [<span class="type">System.Net.ServicePointManager</span>]::SecurityProtocol <span class="operator">-bor</span> <span class="number">3072</span>; <span class="built_in">iex</span> ((<span class="built_in">New-Object</span> System.Net.WebClient).DownloadString(<span class="string">&#x27;https://community.chocolatey.org/install.ps1&#x27;</span>))</span><br></pre></td></tr></table></figure>
<p><em>解释：</em></p>
<ul>
<li><code>Set-ExecutionPolicy Bypass -Scope Process -Force</code>: 临时绕过当前 PowerShell 进程的执行策略，允许脚本运行。</li>
<li><code>[System.Net.ServicePointManager]::SecurityProtocol = [System.Net.ServicePointManager]::SecurityProtocol -bor 3072</code>: 确保使用 TLS 1.2 进行安全连接，解决下载时可能出现的 SSL&#x2F;TLS 错误。</li>
<li><code>iex (...)</code>: 下载并执行 Chocolatey 的安装脚本。</li>
</ul>
</li>
<li><p><strong>验证安装</strong>：<br>安装完成后，关闭当前的 PowerShell 窗口，重新以<strong>管理员身份</strong>打开一个新的 PowerShell 窗口，然后运行：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">choco <span class="literal">-v</span></span><br></pre></td></tr></table></figure>
<p>如果显示 Chocolatey 的版本号，则表示安装成功。</p>
</li>
</ol>
<h2 id="三、Chocolatey-常用命令详解"><a href="#三、Chocolatey-常用命令详解" class="headerlink" title="三、Chocolatey 常用命令详解"></a>三、Chocolatey 常用命令详解</h2><p>Chocolatey 的命令结构通常是 <code>choco &lt;command&gt; &lt;package_name&gt; [options]</code>。</p>
<h3 id="3-1-install-安装软件"><a href="#3-1-install-安装软件" class="headerlink" title="3.1 install - 安装软件"></a>3.1 <code>install</code> - 安装软件</h3><p><strong>作用</strong>：安装指定的软件包。</p>
<p><strong>语法</strong>：</p>
<ul>
<li><code>choco install &lt;package_name&gt;</code>：安装最新版本的软件包。</li>
<li><code>choco install &lt;package_name&gt; --version &lt;version_number&gt;</code>：安装指定版本的软件包。</li>
<li><code>choco install &lt;package1&gt; &lt;package2&gt; ...</code>：同时安装多个软件包。</li>
<li><code>choco install &lt;package_name&gt; --params &quot;&#39;/Param1:Value1 /Param2:Value2&#39;&quot;</code>：安装时传递特定参数给安装程序。</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">choco install googlechrome  <span class="comment"># 安装 Google Chrome</span></span><br><span class="line">choco install vscode <span class="literal">--version</span> <span class="number">1.88</span>.<span class="number">1</span> <span class="comment"># 安装 VS Code 特定版本</span></span><br><span class="line">choco install git nodejs python <span class="comment"># 同时安装 Git、Node.js 和 Python</span></span><br></pre></td></tr></table></figure>

<h3 id="3-2-upgrade-升级软件"><a href="#3-2-upgrade-升级软件" class="headerlink" title="3.2 upgrade - 升级软件"></a>3.2 <code>upgrade</code> - 升级软件</h3><p><strong>作用</strong>：升级一个或多个已安装的软件包。</p>
<p><strong>语法</strong>：</p>
<ul>
<li><code>choco upgrade &lt;package_name&gt;</code>：升级指定软件包到最新版本。</li>
<li><code>choco upgrade all</code>：升级所有已通过 Chocolatey 安装的软件包。</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">choco upgrade googlechrome <span class="comment"># 升级 Google Chrome</span></span><br><span class="line">choco upgrade all <span class="comment"># 升级所有软件</span></span><br></pre></td></tr></table></figure>

<h3 id="3-3-uninstall-卸载软件"><a href="#3-3-uninstall-卸载软件" class="headerlink" title="3.3 uninstall - 卸载软件"></a>3.3 <code>uninstall</code> - 卸载软件</h3><p><strong>作用</strong>：卸载指定的软件包。</p>
<p><strong>语法</strong>：<code>choco uninstall &lt;package_name&gt;</code></p>
<p><strong>示例</strong>：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">choco uninstall googlechrome <span class="comment"># 卸载 Google Chrome</span></span><br></pre></td></tr></table></figure>

<h3 id="3-4-list-列出软件包"><a href="#3-4-list-列出软件包" class="headerlink" title="3.4 list - 列出软件包"></a>3.4 <code>list</code> - 列出软件包</h3><p><strong>作用</strong>：列出本地或远程仓库中的软件包。</p>
<p><strong>语法</strong>：</p>
<ul>
<li><code>choco list --local-only</code> 或 <code>clist -lo</code>：列出所有本地已安装的软件包。</li>
<li><code>choco list &lt;search_term&gt;</code> 或 <code>clist &lt;search_term&gt;</code>：搜索远程仓库中的软件包。</li>
<li><code>choco list</code>：列出所有可用的远程软件包（数量庞大）。</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">choco list <span class="literal">--local-only</span> <span class="comment"># 查看所有已安装的软件</span></span><br><span class="line">choco list chrome <span class="comment"># 搜索与 &quot;chrome&quot; 相关的软件包</span></span><br></pre></td></tr></table></figure>

<h3 id="3-5-search-搜索软件包-与-list-类似"><a href="#3-5-search-搜索软件包-与-list-类似" class="headerlink" title="3.5 search - 搜索软件包 (与 list 类似)"></a>3.5 <code>search</code> - 搜索软件包 (与 <code>list</code> 类似)</h3><p><strong>作用</strong>：在社区仓库中搜索软件包。实际上与 <code>choco list &lt;search_term&gt;</code> 功能相同。</p>
<p><strong>语法</strong>：<code>choco search &lt;search_term&gt;</code></p>
<p><strong>示例</strong>：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">choco search java <span class="comment"># 搜索 Java 相关的软件包</span></span><br></pre></td></tr></table></figure>

<h3 id="3-6-info-查看软件包信息"><a href="#3-6-info-查看软件包信息" class="headerlink" title="3.6 info - 查看软件包信息"></a>3.6 <code>info</code> - 查看软件包信息</h3><p><strong>作用</strong>：显示指定软件包的详细信息，包括版本、描述、主页、依赖等。</p>
<p><strong>语法</strong>：<code>choco info &lt;package_name&gt;</code></p>
<p><strong>示例</strong>：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">choco info git <span class="comment"># 查看 Git 软件包的详细信息</span></span><br></pre></td></tr></table></figure>

<h3 id="3-7-source-管理包源"><a href="#3-7-source-管理包源" class="headerlink" title="3.7 source - 管理包源"></a>3.7 <code>source</code> - 管理包源</h3><p><strong>作用</strong>：管理 Chocolatey 查找和下载包的来源。可以添加、禁用、启用或移除包源。</p>
<p><strong>语法</strong>：</p>
<ul>
<li><code>choco source list</code>：列出所有已配置的包源。</li>
<li><code>choco source add -n=&lt;source_name&gt; -s=&lt;source_url&gt; [--username=&lt;user&gt; --password=&lt;pass&gt;]</code>：添加一个包源。</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">choco source list <span class="comment"># 查看当前所有包源</span></span><br><span class="line"><span class="comment"># 添加一个私有包源 (例如，公司内部的 Chocolatey 源)</span></span><br><span class="line">choco source add <span class="literal">-n</span>=MyInternalSource <span class="literal">-s</span>=<span class="string">&quot;https://my.internal.repo.com/choco&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="3-8-config-管理-Chocolatey-配置"><a href="#3-8-config-管理-Chocolatey-配置" class="headerlink" title="3.8 config - 管理 Chocolatey 配置"></a>3.8 <code>config</code> - 管理 Chocolatey 配置</h3><p><strong>作用</strong>：管理 Chocolatey 本身的配置设置。</p>
<p><strong>语法</strong>：</p>
<ul>
<li><code>choco config list</code>：列出所有配置项。</li>
<li><code>choco config get &lt;config_key&gt;</code>：获取指定配置项的值。</li>
<li><code>choco config set &lt;config_key&gt; &lt;value&gt;</code>：设置指定配置项的值。</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">choco config list <span class="comment"># 查看 Chocolatey 的所有配置</span></span><br><span class="line">choco config <span class="built_in">set</span> cachelocation C:\ChocoCache <span class="comment"># 设置 Chocolatey 的缓存目录</span></span><br></pre></td></tr></table></figure>

<h3 id="3-9-feature-管理-Chocolatey-功能"><a href="#3-9-feature-管理-Chocolatey-功能" class="headerlink" title="3.9 feature - 管理 Chocolatey 功能"></a>3.9 <code>feature</code> - 管理 Chocolatey 功能</h3><p><strong>作用</strong>：启用或禁用 Chocolatey 的特定功能。</p>
<p><strong>语法</strong>：</p>
<ul>
<li><code>choco feature list</code>：列出所有功能及其状态。</li>
<li><code>choco feature enable -n=&lt;feature_name&gt;</code>：启用某个功能。</li>
<li><code>choco feature disable -n=&lt;feature_name&gt;</code>：禁用某个功能。</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">choco feature list <span class="comment"># 查看所有功能</span></span><br><span class="line">choco feature enable <span class="literal">-n</span>=allowGlobalConfirmation <span class="comment"># 启用全局确认，安装时无需再确认</span></span><br></pre></td></tr></table></figure>

<h2 id="四、如何寻找软件包？"><a href="#四、如何寻找软件包？" class="headerlink" title="四、如何寻找软件包？"></a>四、如何寻找软件包？</h2><p>Chocolatey 社区仓库是寻找软件包的主要途径。</p>
<ol>
<li><p><strong>访问官网搜索</strong>：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://community.chocolatey.org/packages">Chocolatey 官网</a><br>在官网上可以直接搜索你需要的软件，查看其包名、版本、描述、维护者以及安装指令。</p>
</li>
<li><p><strong>通过命令行搜索</strong>：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">choco search &lt;software_name&gt;</span><br></pre></td></tr></table></figure>
<p>例如 <code>choco search sublime-text</code>。</p>
</li>
</ol>
<h2 id="五、高级用法与注意事项"><a href="#五、高级用法与注意事项" class="headerlink" title="五、高级用法与注意事项"></a>五、高级用法与注意事项</h2><h3 id="5-1-全局确认-Global-Confirmation"><a href="#5-1-全局确认-Global-Confirmation" class="headerlink" title="5.1 全局确认 (Global Confirmation)"></a>5.1 全局确认 (Global Confirmation)</h3><p>默认情况下，每次安装或升级软件包时，Chocolatey 都会提示你进行确认。如果你想在脚本中实现完全自动化，可以启用全局确认功能：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">choco feature enable <span class="literal">-n</span>=allowGlobalConfirmation</span><br><span class="line"><span class="comment"># 或者在每次命令后添加 -y 或 --confirm 参数</span></span><br><span class="line">choco install git <span class="literal">-y</span></span><br></pre></td></tr></table></figure>

<h3 id="5-2-静默安装与参数传递"><a href="#5-2-静默安装与参数传递" class="headerlink" title="5.2 静默安装与参数传递"></a>5.2 静默安装与参数传递</h3><p>许多 Chocolatey 包支持在安装时传递参数，以实现静默安装、自定义安装路径等。这些参数通常在包的 <code>info</code> 或官网页面有说明。</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 示例：安装 Java JDK，并设置安装目录（具体参数请查阅对应包的说明）</span></span><br><span class="line">choco install javajdk <span class="literal">--params</span> <span class="string">&quot;&#x27;/InstallDir:C:\Program Files\Java\jdk-11&#x27;&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="5-3-包版本锁定"><a href="#5-3-包版本锁定" class="headerlink" title="5.3 包版本锁定"></a>5.3 包版本锁定</h3><p>如果你不希望某个软件包被 <code>choco upgrade all</code> 命令升级，可以将其锁定：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">choco install git</span><br><span class="line">choco pin add <span class="literal">-n</span>=git <span class="comment"># 锁定 git 包，阻止其升级</span></span><br><span class="line">choco pin list <span class="comment"># 查看所有锁定的包</span></span><br><span class="line">choco pin remove <span class="literal">-n</span>=git <span class="comment"># 解锁 git 包</span></span><br></pre></td></tr></table></figure>

<h3 id="5-4-自定义软件包-Package-Creation"><a href="#5-4-自定义软件包-Package-Creation" class="headerlink" title="5.4 自定义软件包 (Package Creation)"></a>5.4 自定义软件包 (Package Creation)</h3><p>如果 Chocolatey 社区仓库中没有你需要的软件，或者你需要打包内部应用，你可以创建自己的 Chocolatey 包。<br>Chocolatey 包本质上是 <code>.nupkg</code> 文件，其中包含 <code>.nuspec</code> 元数据文件和 <code>chocolateyInstall.ps1</code> PowerShell 脚本。该脚本负责实际的安装逻辑。</p>
<p><strong>创建步骤</strong>：</p>
<ol>
<li><code>choco new &lt;package_name&gt;</code>：创建一个新的包模板。</li>
<li>编辑生成的 <code>.nuspec</code> 文件（元数据）和 <code>chocolateyInstall.ps1</code> （安装逻辑）。</li>
<li><code>choco pack</code>：打包为 <code>.nupkg</code> 文件。</li>
<li><code>choco push &lt;package_name&gt;.nupkg</code>：推送到本地或远程包源。</li>
</ol>
<h3 id="5-5-安全性考虑"><a href="#5-5-安全性考虑" class="headerlink" title="5.5 安全性考虑"></a>5.5 安全性考虑</h3><ul>
<li><strong>执行策略</strong>：安装 Chocolatey 需要修改 PowerShell 的执行策略。请确保理解其含义。</li>
<li><strong>社区包</strong>：大多数 Chocolatey 包由社区维护。虽然官方有审核机制，但建议在安装前查看包的来源、维护者和受欢迎程度，避免潜在的安全风险。对于关键的生产环境，建议搭建私有包源或仅使用官方认证的包。</li>
<li><strong>管理员权限</strong>：Chocolatey 多数操作需要管理员权限。</li>
</ul>
<h2 id="六、总结"><a href="#六、总结" class="headerlink" title="六、总结"></a>六、总结</h2><p>Chocolatey 是 Windows 用户提升工作效率的强大工具。通过命令行即可实现软件的自动化安装、升级和管理，极大地简化了开发环境配置和系统维护。无论你是开发者、系统管理员还是普通用户，学习并使用 Chocolatey 都能让你告别繁琐的手动操作，享受现代包管理带来的便利。开始你的 Chocolatey 之旅吧，你将发现 Windows 上的软件管理从未如此简单！</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://blog.tbf1211.xx.kg">TeaTang</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://blog.tbf1211.xx.kg/3137f8a10771/">https://blog.tbf1211.xx.kg/3137f8a10771/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://blog.tbf1211.xx.kg" target="_blank">1024 维度</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Windows/">Windows</a><a class="post-meta__tags" href="/tags/2025/">2025</a></div><div class="post-share"><div class="social-share" data-image="/img/cover/default_cover-07.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/5f4f405cbb7a/" title="Scoop (Windows 命令行包管理器) 详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-17.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">Scoop (Windows 命令行包管理器) 详解</div></div><div class="info-2"><div class="info-item-1"> Scoop 是 Windows 平台上的一个开源命令行安装程序，它旨在为开发者提供一个简洁、无需管理员权限、便携式的软件管理解决方案。与传统的 Windows 软件安装方式不同，Scoop 不会污染系统 PATH，不依赖 MSI 安装程序，并且默认将软件安装到用户目录而非系统目录。它特别适合于管理开发工具、CLI 应用程序以及其他便携式软件。  核心思想：为 Windows 用户提供一种无需管理员权限、以用户级别安装和管理软件的方式，强调简洁、便携和避免系统污染。   一、为什么选择 Scoop？传统的 Windows 软件安装和管理方式存在以下痛点：  管理员权限 (UAC 提示)：大多数 Windows 软件安装都需要管理员权限，频繁弹出 UAC (User Account Control) 提示，打断工作流。 系统路径污染 (PATH)：许多软件会将自身目录添加到系统 PATH 环境变量中，随着安装的软件增多，PATH 变得冗长且难以管理。 非便携式安装：多数软件通过 MSI 或 EXE 安装程序进行安装，会将文件分散到系统各处，并在注册表中留下大量条目，不易于迁移或彻底...</div></div></div></a><a class="pagination-related" href="/293e3d7e94ae/" title="PowerShell 详解与使用技巧"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-27.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">PowerShell 详解与使用技巧</div></div><div class="info-2"><div class="info-item-1"> PowerShell 是微软开发的一种命令行 shell 和脚本语言，专为系统管理和自动化设计。它基于 .NET Framework (Windows PowerShell) 或 .NET Core (PowerShell Core &#x2F; PowerShell 7+)，提供了比传统命令行工具（如 CMD 或 Bash）更强大、更统一且面向对象的管理体验。PowerShell 不仅限于 Windows 平台，现在已跨平台支持 Linux 和 macOS。  核心思想：“一切皆对象”。PowerShell 不像传统 shell 那样处理文本流，而是处理 .NET 对象。这意味着命令的输出可以直接作为另一个命令的输入，且数据类型和结构得以保留，极大地提升了脚本编写的效率和健壮性。   一、PowerShell 的起源与演进传统的 Windows 命令行工具（CMD）在自动化和复杂任务处理方面存在显著局限性，其主要问题是基于文本处理，使得数据解析和传递变得复杂且易出错。为了解决这些问题，微软开发了 PowerShell（最初名为 Monad），并于 2006 年发布。 1.1 ...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2214744a8ff3/" title="Oh My Posh 详解 - 终端提示符美化与增强"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-21.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-08-29</div><div class="info-item-2">Oh My Posh 详解 - 终端提示符美化与增强</div></div><div class="info-2"><div class="info-item-1"> Oh My Posh 是一个开源的、高度可定制的命令行提示符（prompt）引擎，旨在为你的终端（Terminal）提供美观且功能丰富的提示符。它支持多种 shell，包括 PowerShell、Bash、Zsh、Cmd、Fish 等，并且能够显示 Git 状态、当前路径、用户名、系统信息、电池状态等多种上下文信息，极大地提升了终端使用的效率和体验。  核心思想：将静态、单调的命令行提示符，转换为动态、数据丰富、高度定制化且视觉友好的信息中心，从而提高工作效率和终端美观度。   一、为什么选择 Oh My Posh？传统的命令行提示符通常信息量有限且外观单调，例如 PS C:\Users\Username&gt; 或 user@host:~$。在进行复杂的开发工作时，你可能经常需要：  查看 Git 仓库状态：当前分支、是否有未提交的更改、是否有未推送的提交。 快速了解当前路径：路径过长时自动截断，仅显示相关部分。 获取其他上下文信息：例如当前 Python 虚拟环境、Node.js 版本、Go 版本、电池电量等。 视觉美观：一个漂亮的终端能让人心情愉悦，提高工作效率。 跨平台...</div></div></div></a><a class="pagination-related" href="/293e3d7e94ae/" title="PowerShell 详解与使用技巧"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-27.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-08-20</div><div class="info-item-2">PowerShell 详解与使用技巧</div></div><div class="info-2"><div class="info-item-1"> PowerShell 是微软开发的一种命令行 shell 和脚本语言，专为系统管理和自动化设计。它基于 .NET Framework (Windows PowerShell) 或 .NET Core (PowerShell Core &#x2F; PowerShell 7+)，提供了比传统命令行工具（如 CMD 或 Bash）更强大、更统一且面向对象的管理体验。PowerShell 不仅限于 Windows 平台，现在已跨平台支持 Linux 和 macOS。  核心思想：“一切皆对象”。PowerShell 不像传统 shell 那样处理文本流，而是处理 .NET 对象。这意味着命令的输出可以直接作为另一个命令的输入，且数据类型和结构得以保留，极大地提升了脚本编写的效率和健壮性。   一、PowerShell 的起源与演进传统的 Windows 命令行工具（CMD）在自动化和复杂任务处理方面存在显著局限性，其主要问题是基于文本处理，使得数据解析和传递变得复杂且易出错。为了解决这些问题，微软开发了 PowerShell（最初名为 Monad），并于 2006 年发布。 1.1 ...</div></div></div></a><a class="pagination-related" href="/9ac45568d1c2/" title="WSL2详解：在Windows运行Linux的新标准"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-31.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-09-22</div><div class="info-item-2">WSL2详解：在Windows运行Linux的新标准</div></div><div class="info-2"><div class="info-item-1"> WSL 2 (适用于 Linux 的 Windows 子系统 2 - Windows Subsystem for Linux 2) 是微软推出的一项技术，它允许开发者在 Windows 操作系统上直接运行原生 Linux 环境，而无需双启动或传统虚拟机。WSL 2 相较于其前身 WSL 1，最大的变化是它运行在一个轻量级的虚拟机中，其中包含一个完整的 Linux 内核，这极大地提升了文件系统性能、系统调用兼容性和 Docker Desktop 的体验。  核心思想：在 Windows 内部无缝集成一个高性能、高度兼容的原生 Linux 环境，兼顾 Windows 的图形界面和 Linux 的命令行工具优势。   一、为什么需要 WSL 2？传统的 Linux 开发环境设置通常涉及以下几种方式：  双系统：需要重启电脑才能切换操作系统，且占用硬盘空间大。 虚拟机 (VirtualBox, VMWare)：性能开销大，与 Windows 系统的集成度不高，共享文件、剪贴板等操作相对繁琐。 WSL 1：提供了一个兼容层，将 Linux 系统调用转换为 Windows NT 内核调用。...</div></div></div></a><a class="pagination-related" href="/6d6856b2b7ad/" title="Hyper-V 深度详解：Windows 平台上的专业级虚拟化技术"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-12.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-10-08</div><div class="info-item-2">Hyper-V 深度详解：Windows 平台上的专业级虚拟化技术</div></div><div class="info-2"><div class="info-item-1"> Hyper-V 是微软提供的一款基于 Hypervisor 的虚拟化技术，它允许用户在单一物理服务器上运行多个独立的虚拟机 (Virtual Machines, VMs)。作为 Windows Server 操作系统的一个角色功能，以及 Windows 客户端操作系统（Pro、Enterprise、Education 版本）的一个可选功能，Hyper-V 提供了一个可靠、高效且可扩展的平台，用于创建、运行和管理虚拟机。它支持运行多种操作系统，包括 Windows、Linux 以及其他变体，是企业级数据中心、开发测试环境以及个人专业用户不可或缺的工具。  核心思想：Hyper-V 在硬件和操作系统之间插入一个薄薄的虚拟化层——Hypervisor (管理程序)。这个 Hypervisor 直接管理物理硬件资源，并高效地分配给多个虚拟机，每个虚拟机都像一台独立的物理机器一样运行，拥有自己的操作系统和应用程序，从而实现资源的隔离和高效利用。   一、虚拟化技术概述与 Hyper-V 的定位1.1 什么是虚拟化？虚拟化是一种创建事物虚拟版本（而不是物理版本）的技术，通常指创建虚拟计算机...</div></div></div></a><a class="pagination-related" href="/5f4f405cbb7a/" title="Scoop (Windows 命令行包管理器) 详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-17.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-08-23</div><div class="info-item-2">Scoop (Windows 命令行包管理器) 详解</div></div><div class="info-2"><div class="info-item-1"> Scoop 是 Windows 平台上的一个开源命令行安装程序，它旨在为开发者提供一个简洁、无需管理员权限、便携式的软件管理解决方案。与传统的 Windows 软件安装方式不同，Scoop 不会污染系统 PATH，不依赖 MSI 安装程序，并且默认将软件安装到用户目录而非系统目录。它特别适合于管理开发工具、CLI 应用程序以及其他便携式软件。  核心思想：为 Windows 用户提供一种无需管理员权限、以用户级别安装和管理软件的方式，强调简洁、便携和避免系统污染。   一、为什么选择 Scoop？传统的 Windows 软件安装和管理方式存在以下痛点：  管理员权限 (UAC 提示)：大多数 Windows 软件安装都需要管理员权限，频繁弹出 UAC (User Account Control) 提示，打断工作流。 系统路径污染 (PATH)：许多软件会将自身目录添加到系统 PATH 环境变量中，随着安装的软件增多，PATH 变得冗长且难以管理。 非便携式安装：多数软件通过 MSI 或 EXE 安装程序进行安装，会将文件分散到系统各处，并在注册表中留下大量条目，不易于迁移或彻底...</div></div></div></a><a class="pagination-related" href="/849bb413f728/" title="Drizzle ORM 详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-17.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-06-23</div><div class="info-item-2">Drizzle ORM 详解</div></div><div class="info-2"><div class="info-item-1"> Drizzle ORM 是一个为 TypeScript&#x2F;JavaScript 设计的现代、轻量级、完全类型安全 (fully type-safe) 的 ORM (Object Relational Mapper)。它旨在提供一个高度接近 SQL 的 API，同时利用 TypeScript 的类型系统，在编译时捕获数据库相关的错误，并在运行时生成高效的 SQL 语句。Drizzle ORM 强调性能、开发者体验和对底层 SQL 的透明度。  核心思想：将数据库 schema 定义为 TypeScript 代码，并通过其表达式语言在编译时实现对 SQL 查询的完全类型安全检查，同时保持生成 SQL 的高效性与可读性。 它更像是一个类型安全的 SQL 查询构建器，而非传统的重型 ORM。    重要提示: Drizzle ORM 是为 TypeScript&#x2F;JavaScript 生态系统设计的。因此，本文档中的所有代码示例都将使用 TypeScript 语言。这与之前关于 Go 或 Python 库的示例有所不同，以确保示例的实用性和相关性。  一、为什么需要 D...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/loading.gif" data-lazy-src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">TeaTang</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">544</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">230</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">84</div></a></div><a id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/teatang"><i class="fab fa-github"></i><span>GitHub主页</span></a><div class="card-info-social-icons"><a class="social-icon" href="mailto:tea.tang1211@gmail.com" rel="external nofollow noreferrer" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title="RSS"><i class="fas fa-rss"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">网站更多功能即将上线，敬请期待！</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81-Chocolatey%EF%BC%9F"><span class="toc-text">一、为什么需要 Chocolatey？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81Chocolatey-%E7%9A%84%E5%AE%89%E8%A3%85"><span class="toc-text">二、Chocolatey 的安装</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E7%B3%BB%E7%BB%9F%E8%A6%81%E6%B1%82"><span class="toc-text">2.1 系统要求</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4"><span class="toc-text">2.2 安装步骤</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81Chocolatey-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3"><span class="toc-text">三、Chocolatey 常用命令详解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-install-%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6"><span class="toc-text">3.1 install - 安装软件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-upgrade-%E5%8D%87%E7%BA%A7%E8%BD%AF%E4%BB%B6"><span class="toc-text">3.2 upgrade - 升级软件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-uninstall-%E5%8D%B8%E8%BD%BD%E8%BD%AF%E4%BB%B6"><span class="toc-text">3.3 uninstall - 卸载软件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-list-%E5%88%97%E5%87%BA%E8%BD%AF%E4%BB%B6%E5%8C%85"><span class="toc-text">3.4 list - 列出软件包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-search-%E6%90%9C%E7%B4%A2%E8%BD%AF%E4%BB%B6%E5%8C%85-%E4%B8%8E-list-%E7%B1%BB%E4%BC%BC"><span class="toc-text">3.5 search - 搜索软件包 (与 list 类似)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-info-%E6%9F%A5%E7%9C%8B%E8%BD%AF%E4%BB%B6%E5%8C%85%E4%BF%A1%E6%81%AF"><span class="toc-text">3.6 info - 查看软件包信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-7-source-%E7%AE%A1%E7%90%86%E5%8C%85%E6%BA%90"><span class="toc-text">3.7 source - 管理包源</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-8-config-%E7%AE%A1%E7%90%86-Chocolatey-%E9%85%8D%E7%BD%AE"><span class="toc-text">3.8 config - 管理 Chocolatey 配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-9-feature-%E7%AE%A1%E7%90%86-Chocolatey-%E5%8A%9F%E8%83%BD"><span class="toc-text">3.9 feature - 管理 Chocolatey 功能</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E5%A6%82%E4%BD%95%E5%AF%BB%E6%89%BE%E8%BD%AF%E4%BB%B6%E5%8C%85%EF%BC%9F"><span class="toc-text">四、如何寻找软件包？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95%E4%B8%8E%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-text">五、高级用法与注意事项</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E5%85%A8%E5%B1%80%E7%A1%AE%E8%AE%A4-Global-Confirmation"><span class="toc-text">5.1 全局确认 (Global Confirmation)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-%E9%9D%99%E9%BB%98%E5%AE%89%E8%A3%85%E4%B8%8E%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92"><span class="toc-text">5.2 静默安装与参数传递</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-%E5%8C%85%E7%89%88%E6%9C%AC%E9%94%81%E5%AE%9A"><span class="toc-text">5.3 包版本锁定</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-%E8%87%AA%E5%AE%9A%E4%B9%89%E8%BD%AF%E4%BB%B6%E5%8C%85-Package-Creation"><span class="toc-text">5.4 自定义软件包 (Package Creation)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E5%AE%89%E5%85%A8%E6%80%A7%E8%80%83%E8%99%91"><span class="toc-text">5.5 安全性考虑</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E6%80%BB%E7%BB%93"><span class="toc-text">六、总结</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/10349b09ff78/" title="Signal Protocol 详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-16.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Signal Protocol 详解"/></a><div class="content"><a class="title" href="/10349b09ff78/" title="Signal Protocol 详解">Signal Protocol 详解</a><time datetime="2026-02-03T22:24:00.000Z" title="发表于 2026-02-04 06:24:00">2026-02-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/f81355a662b8/" title="ECMAScript ShadowRealm 详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-08.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ECMAScript ShadowRealm 详解"/></a><div class="content"><a class="title" href="/f81355a662b8/" title="ECMAScript ShadowRealm 详解">ECMAScript ShadowRealm 详解</a><time datetime="2026-02-01T22:24:00.000Z" title="发表于 2026-02-02 06:24:00">2026-02-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/88fea7b52158/" title="Gzip 详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-17.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Gzip 详解"/></a><div class="content"><a class="title" href="/88fea7b52158/" title="Gzip 详解">Gzip 详解</a><time datetime="2026-01-29T22:24:00.000Z" title="发表于 2026-01-30 06:24:00">2026-01-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/8fc7e3e72510/" title="前端渲染模式：CSR, SSR, SSG, ISR, DPR 详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-10.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="前端渲染模式：CSR, SSR, SSG, ISR, DPR 详解"/></a><div class="content"><a class="title" href="/8fc7e3e72510/" title="前端渲染模式：CSR, SSR, SSG, ISR, DPR 详解">前端渲染模式：CSR, SSR, SSG, ISR, DPR 详解</a><time datetime="2026-01-27T22:24:00.000Z" title="发表于 2026-01-28 06:24:00">2026-01-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/5341a0037256/" title="CSS-in-JS 详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-05.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CSS-in-JS 详解"/></a><div class="content"><a class="title" href="/5341a0037256/" title="CSS-in-JS 详解">CSS-in-JS 详解</a><time datetime="2026-01-25T22:24:00.000Z" title="发表于 2026-01-26 06:24:00">2026-01-26</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/img/cover/default_cover-07.jpg);"><div class="footer-flex"><div class="footer-flex-items"><div class="footer-flex-item"><div class="footer-flex-title">我的轨迹</div><div class="footer-flex-content"><a href="/archives/2023/" target="_blank" title="🆕 2023">🆕 2023</a><a href="/archives/2024/" target="_blank" title="🆒 2024">🆒 2024</a><a href="/archives/2025/" target="_blank" title="👨‍👩‍👦 2025">👨‍👩‍👦 2025</a><a href="/archives/2026/" target="_blank" title="🆙 2026">🆙 2026</a></div></div></div><div class="footer-flex-items"><div class="footer-flex-item"><div class="footer-flex-title">维度</div><div class="footer-flex-content"><a href="/categories/" target="_blank" title="📁 分类">📁 分类</a><a href="/tags/" target="_blank" title="🔖 标签">🔖 标签</a><a href="/categories/" target="_blank" title="📽️ 时间线">📽️ 时间线</a></div></div></div><div class="footer-flex-items"><div class="footer-flex-item"><div class="footer-flex-title">其他</div><div class="footer-flex-content"><a href="/shuoshuo" target="_blank" title="💬 说说">💬 说说</a></div></div></div></div><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2023 - 2026 By TeaTang</span><span class="framework-info"><span class="footer-separator">|</span><span>框架 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.4"></script><script src="/js/main.js?v=5.5.4"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.1.9/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@19.1.3/dist/lazyload.iife.min.js"></script><div class="js-pjax"><script>(() => {
  const parseViewBox = viewBox => {
    if (!viewBox) return null
    const parts = viewBox.trim().split(/[\s,]+/).map(n => Number(n))
    if (parts.length !== 4 || parts.some(n => Number.isNaN(n))) return null
    return parts
  }

  const getSvgViewBox = svg => {
    const attr = parseViewBox(svg.getAttribute('viewBox'))
    if (attr) return attr

    // Fallback: use bbox to build a viewBox
    try {
      const bbox = svg.getBBox()
      if (bbox && bbox.width && bbox.height) return [bbox.x, bbox.y, bbox.width, bbox.height]
    } catch (e) {
      // getBBox may fail on some edge cases; ignore
    }

    const w = Number(svg.getAttribute('width')) || 0
    const h = Number(svg.getAttribute('height')) || 0
    if (w > 0 && h > 0) return [0, 0, w, h]
    return [0, 0, 100, 100]
  }

  const setSvgViewBox = (svg, vb) => {
    svg.setAttribute('viewBox', `${vb[0]} ${vb[1]} ${vb[2]} ${vb[3]}`)
  }

  const clamp = (v, min, max) => Math.max(min, Math.min(max, v))

  const openSvgInNewTab = ({ source, initViewBox }) => {
    const getClonedSvg = () => {
      if (typeof source === 'string') {
        const template = document.createElement('template')
        template.innerHTML = source.trim()
        const svg = template.content.querySelector('svg')
        return svg ? svg.cloneNode(true) : null
      }
      if (source && typeof source.cloneNode === 'function') {
        return source.cloneNode(true)
      }
      return null
    }

    const clone = getClonedSvg()
    if (!clone) return
    if (initViewBox && initViewBox.length === 4) {
      clone.setAttribute('viewBox', initViewBox.join(' '))
    }
    if (!clone.getAttribute('xmlns')) clone.setAttribute('xmlns', 'http://www.w3.org/2000/svg')
    if (!clone.getAttribute('xmlns:xlink') && clone.outerHTML.includes('xlink:')) {
      clone.setAttribute('xmlns:xlink', 'http://www.w3.org/1999/xlink')
    }
    // inject background to match current theme
    const isDark = document.documentElement.getAttribute('data-theme') === 'dark'
    const bg = getComputedStyle(document.body).backgroundColor || (isDark ? '#1e1e1e' : '#ffffff')
    if (!clone.style.background) clone.style.background = bg

    const serializer = new XMLSerializer()
    const svgSource = serializer.serializeToString(clone)
    const htmlSource = `<!doctype html><html><head><meta charset="utf-8" />
      <style>
        html, body { width: 100%; height: 100%; margin: 0; display: flex; align-items: center; justify-content: center; background: ${bg}; }
        svg { max-width: 100%; max-height: 100%; height: auto; width: auto; }
      </style>
      </head><body>${svgSource}</body></html>`
    const blob = new Blob([htmlSource], { type: 'text/html;charset=utf-8' })
    const url = URL.createObjectURL(blob)
    window.open(url, '_blank', 'noopener')
    setTimeout(() => URL.revokeObjectURL(url), 30000)
  }

  const attachMermaidViewerButton = wrap => {
    let btn = wrap.querySelector('.mermaid-open-btn')
    if (!btn) {
      btn = document.createElement('button')
      btn.type = 'button'
      btn.className = 'mermaid-open-btn'
      wrap.appendChild(btn)
    }

    btn.innerHTML = '<i class="fa fa-search fa-fw" aria-hidden="true"></i>'

    if (!btn.__mermaidViewerBound) {
      btn.addEventListener('click', e => {
        e.preventDefault()
        e.stopPropagation()
        const svg = wrap.__mermaidOriginalSvg || wrap.querySelector('svg')
        if (!svg) return
        const initViewBox = wrap.__mermaidInitViewBox
        if (typeof svg === 'string') {
          openSvgInNewTab({ source: svg, initViewBox })
          return
        }
        openSvgInNewTab({ source: svg, initViewBox })
      })
      btn.__mermaidViewerBound = true
    }
  }

  // Zoom around a point (px, py) in the SVG viewport (in viewBox coordinates)
  const zoomAtPoint = (vb, factor, px, py) => {
    const w = vb[2] * factor
    const h = vb[3] * factor
    const nx = px - (px - vb[0]) * factor
    const ny = py - (py - vb[1]) * factor
    return [nx, ny, w, h]
  }

  const initMermaidGestures = wrap => {
    const svg = wrap.querySelector('svg')
    if (!svg) return

    // Ensure viewBox exists so gestures always work
    const initVb = getSvgViewBox(svg)
    wrap.__mermaidInitViewBox = initVb
    wrap.__mermaidCurViewBox = initVb.slice()
    setSvgViewBox(svg, initVb)

    // Avoid binding multiple times on themeChange/pjax
    if (wrap.__mermaidGestureBound) return
    wrap.__mermaidGestureBound = true

    // Helper: map client (viewport) coordinate -> viewBox coordinate
    const clientToViewBox = (clientX, clientY) => {
      const rect = svg.getBoundingClientRect()
      const vb = wrap.__mermaidCurViewBox || getSvgViewBox(svg)
      const x = vb[0] + (clientX - rect.left) * (vb[2] / rect.width)
      const y = vb[1] + (clientY - rect.top) * (vb[3] / rect.height)
      return { x, y, rect, vb }
    }

    const state = {
      pointers: new Map(),
      startVb: null,
      startDist: 0,
      startCenter: null
    }

    const clampVb = vb => {
      const init = wrap.__mermaidInitViewBox || vb
      const minW = init[2] * 0.1
      const maxW = init[2] * 10
      const minH = init[3] * 0.1
      const maxH = init[3] * 10
      vb[2] = clamp(vb[2], minW, maxW)
      vb[3] = clamp(vb[3], minH, maxH)
      return vb
    }

    const setCurVb = vb => {
      vb = clampVb(vb)
      wrap.__mermaidCurViewBox = vb
      setSvgViewBox(svg, vb)
    }

    const onPointerDown = e => {
      // Allow only primary button for mouse
      if (e.pointerType === 'mouse' && e.button !== 0) return
      svg.setPointerCapture(e.pointerId)
      state.pointers.set(e.pointerId, { x: e.clientX, y: e.clientY })

      if (state.pointers.size === 1) {
        state.startVb = (wrap.__mermaidCurViewBox || getSvgViewBox(svg)).slice()
      } else if (state.pointers.size === 2) {
        const pts = [...state.pointers.values()]
        const dx = pts[0].x - pts[1].x
        const dy = pts[0].y - pts[1].y
        state.startDist = Math.hypot(dx, dy)
        state.startVb = (wrap.__mermaidCurViewBox || getSvgViewBox(svg)).slice()
        state.startCenter = { x: (pts[0].x + pts[1].x) / 2, y: (pts[0].y + pts[1].y) / 2 }
      }
    }

    const onPointerMove = e => {
      if (!state.pointers.has(e.pointerId)) return
      state.pointers.set(e.pointerId, { x: e.clientX, y: e.clientY })

      // Pan with 1 pointer
      if (state.pointers.size === 1 && state.startVb) {
        const p = [...state.pointers.values()][0]
        const prev = { x: e.clientX - e.movementX, y: e.clientY - e.movementY }
        // movementX/Y unreliable on touch, compute from stored last position
        const last = wrap.__mermaidLastSinglePointer || p
        const dxClient = p.x - last.x
        const dyClient = p.y - last.y
        wrap.__mermaidLastSinglePointer = p

        const { rect } = clientToViewBox(p.x, p.y)
        const vb = (wrap.__mermaidCurViewBox || getSvgViewBox(svg)).slice()
        const dx = dxClient * (vb[2] / rect.width)
        const dy = dyClient * (vb[3] / rect.height)
        setCurVb([vb[0] - dx, vb[1] - dy, vb[2], vb[3]])
        return
      }

      // Pinch zoom with 2 pointers
      if (state.pointers.size === 2 && state.startVb && state.startDist > 0) {
        const pts = [...state.pointers.values()]
        const dx = pts[0].x - pts[1].x
        const dy = pts[0].y - pts[1].y
        const dist = Math.hypot(dx, dy)
        if (!dist) return
        const factor = state.startDist / dist // dist bigger => zoom in (viewBox smaller)

        const cx = (pts[0].x + pts[1].x) / 2
        const cy = (pts[0].y + pts[1].y) / 2
        const centerClient = { x: cx, y: cy }

        const pxy = clientToViewBox(centerClient.x, centerClient.y)
        const cpx = pxy.x
        const cpy = pxy.y

        const vb = zoomAtPoint(state.startVb, factor, cpx, cpy)
        setCurVb(vb)
      }
    }

    const onPointerUpOrCancel = e => {
      state.pointers.delete(e.pointerId)
      if (state.pointers.size === 0) {
        state.startVb = null
        state.startDist = 0
        state.startCenter = null
        wrap.__mermaidLastSinglePointer = null
      } else if (state.pointers.size === 1) {
        // reset single pointer baseline to avoid jump
        wrap.__mermaidLastSinglePointer = [...state.pointers.values()][0]
      }
    }

    // Wheel zoom (mouse/trackpad)
    const onWheel = e => {
      // ctrlKey on mac trackpad pinch; we treat both as zoom
      e.preventDefault()
      const delta = e.deltaY
      const zoomFactor = delta > 0 ? 1.1 : 0.9
      const { x, y } = clientToViewBox(e.clientX, e.clientY)
      const vb = (wrap.__mermaidCurViewBox || getSvgViewBox(svg)).slice()
      setCurVb(zoomAtPoint(vb, zoomFactor, x, y))
    }

    const onDblClick = () => {
      const init = wrap.__mermaidInitViewBox
      if (!init) return
      wrap.__mermaidCurViewBox = init.slice()
      setSvgViewBox(svg, init)
    }

    svg.addEventListener('pointerdown', onPointerDown)
    svg.addEventListener('pointermove', onPointerMove)
    svg.addEventListener('pointerup', onPointerUpOrCancel)
    svg.addEventListener('pointercancel', onPointerUpOrCancel)
    svg.addEventListener('wheel', onWheel, { passive: false })
    svg.addEventListener('dblclick', onDblClick)
  }

  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild

      // Clear old render (themeChange/pjax will rerun)
      const oldSvg = item.querySelector('svg')
      if (oldSvg) oldSvg.remove()
      item.__mermaidGestureBound = false

      const config = mermaidSrc.dataset.config ? JSON.parse(mermaidSrc.dataset.config) : {}
      if (!config.theme) {
        config.theme = theme
      }
      const mermaidThemeConfig = `%%{init: ${JSON.stringify(config)}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
        if (false) initMermaidGestures(item)
        item.__mermaidOriginalSvg = svg
        if (true) attachMermaidViewerButton(item)
      }


      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid@11.12.2/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>(() => {
  const applyThemeDefaultsConfig = theme => {
    if (theme === 'dark-mode') {
      Chart.defaults.color = "rgba(255, 255, 255, 0.8)"
      Chart.defaults.borderColor = "rgba(255, 255, 255, 0.2)"
      Chart.defaults.scale.ticks.backdropColor = "transparent"
    } else {
      Chart.defaults.color = "rgba(0, 0, 0, 0.8)"
      Chart.defaults.borderColor = "rgba(0, 0, 0, 0.1)"
      Chart.defaults.scale.ticks.backdropColor = "transparent"
    }
  }

  // Recursively traverse the config object and automatically apply theme-specific color schemes
  const applyThemeConfig = (obj, theme) => {
    if (typeof obj !== 'object' || obj === null) return

    Object.keys(obj).forEach(key => {
      const value = obj[key]
      // If the property is an object and has theme-specific options, apply them
      if (typeof value === 'object' && value !== null) {
        if (value[theme]) {
          obj[key] = value[theme] // Apply the value for the current theme
        } else {
          // Recursively process child objects
          applyThemeConfig(value, theme)
        }
      }
    })
  }

  const runChartJS = ele => {
    window.loadChartJS = true

    Array.from(ele).forEach((item, index) => {
      const chartSrc = item.firstElementChild
      const chartID = item.getAttribute('data-chartjs-id') || ('chartjs-' + index) // Use custom ID or default ID
      const width = item.getAttribute('data-width')
      const existingCanvas = document.getElementById(chartID)

      // If a canvas already exists, remove it to avoid rendering duplicates
      if (existingCanvas) {
          existingCanvas.parentNode.remove()
      }

      const chartDefinition = chartSrc.textContent
      const canvas = document.createElement('canvas')
      canvas.id = chartID

      const div = document.createElement('div')
      div.className = 'chartjs-wrap'

      if (width) {
        div.style.width = width
      }

      div.appendChild(canvas)
      chartSrc.insertAdjacentElement('afterend', div)

      const ctx = document.getElementById(chartID).getContext('2d')

      const config = JSON.parse(chartDefinition)

      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark-mode' : 'light-mode'

      // Set default styles (initial setup)
      applyThemeDefaultsConfig(theme)

      // Automatically traverse the config and apply dual-mode color schemes
      applyThemeConfig(config, theme)

      new Chart(ctx, config)
    })
  }

  const loadChartJS = () => {
    const chartJSEle = document.querySelectorAll('#article-container .chartjs-container')
    if (chartJSEle.length === 0) return

    window.loadChartJS ? runChartJS(chartJSEle) : btf.getScript('https://cdn.jsdelivr.net/npm/chart.js@4.5.1/dist/chart.umd.min.js').then(() => runChartJS(chartJSEle))
  }

  // Listen for theme change events
  btf.addGlobalFn('themeChange', loadChartJS, 'chartjs')
  btf.addGlobalFn('encrypt', loadChartJS, 'chartjs')

  window.pjax ? loadChartJS() : document.addEventListener('DOMContentLoaded', loadChartJS)
})()</script></div><script data-pjax src="/self/btf.js"></script><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/fireworks.min.js"></script><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="ture"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-fluttering-ribbon.min.js"></script><script id="canvas_nest" defer="defer" color="0,200,200" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js" defer="defer"></script><script>document.addEventListener('DOMContentLoaded', () => {
  const pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => {
      try {
        fn()
      } catch (err) {
        console.debug('Pjax callback failed:', err)
      }
    })
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      true
        ? pjax.loadUrl('/404.html')
        : window.location.href = e.request.responseURL
    }
  })
})</script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden="hidden"></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="local-search-input"><input placeholder="搜索文章" type="text"/></div><hr/><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none;"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=5.5.4"></script></div></div></body></html>