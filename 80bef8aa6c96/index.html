<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>PHP 数组 (Array) 相关函数详解 | 1024 维度</title><meta name="author" content="TeaTang"><meta name="copyright" content="TeaTang"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="PHP 数组 (Array) 是一种特殊的数据类型，可以存储多个值在一个变量中。PHP 数组是高度灵活的，既可以作为普通索引数组（数值键），也可以作为关联数组（字符串键），甚至可以两者混合使用，或者作为多维数组。PHP 提供了极其丰富和强大的内置函数来操作数组，涵盖了从创建、遍历、排序、过滤到搜索、合并等几乎所有常见的数组操作需求。深入理解并熟练运用这些函数，是高效编写 PHP 代码的关键。">
<meta property="og:type" content="article">
<meta property="og:title" content="PHP 数组 (Array) 相关函数详解">
<meta property="og:url" content="https://blog.tbf1211.xx.kg/80bef8aa6c96/index.html">
<meta property="og:site_name" content="1024 维度">
<meta property="og:description" content="PHP 数组 (Array) 是一种特殊的数据类型，可以存储多个值在一个变量中。PHP 数组是高度灵活的，既可以作为普通索引数组（数值键），也可以作为关联数组（字符串键），甚至可以两者混合使用，或者作为多维数组。PHP 提供了极其丰富和强大的内置函数来操作数组，涵盖了从创建、遍历、排序、过滤到搜索、合并等几乎所有常见的数组操作需求。深入理解并熟练运用这些函数，是高效编写 PHP 代码的关键。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blog.tbf1211.xx.kg/img/cover/default_cover-25.jpg">
<meta property="article:published_time" content="2023-10-13T22:24:00.000Z">
<meta property="article:modified_time" content="2025-12-29T03:51:22.319Z">
<meta property="article:author" content="TeaTang">
<meta property="article:tag" content="2023">
<meta property="article:tag" content="PHP">
<meta property="article:tag" content="编码规范">
<meta property="article:tag" content="程序设计">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog.tbf1211.xx.kg/img/cover/default_cover-25.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "PHP 数组 (Array) 相关函数详解",
  "url": "https://blog.tbf1211.xx.kg/80bef8aa6c96/",
  "image": "https://blog.tbf1211.xx.kg/img/cover/default_cover-25.jpg",
  "datePublished": "2023-10-13T22:24:00.000Z",
  "dateModified": "2025-12-29T03:51:22.319Z",
  "author": [
    {
      "@type": "Person",
      "name": "TeaTang",
      "url": "https://blog.tbf1211.xx.kg"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon-1.ico"><link rel="canonical" href="https://blog.tbf1211.xx.kg/80bef8aa6c96/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><meta name="google-site-verification" content="NdIUXAOVyGnnBhcrip0ksCawbdAzT0hlBZDE9u4jx6k"/><meta name="msvalidate.01" content="567E47D75E8DCF1282B9623AD914701E"/><meta name="baidu-site-verification" content="code-pE5rnuxcfD"/><link rel="stylesheet" href="/css/index.css?v=5.5.3"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.1.7/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          const mediaQueryDark = window.matchMedia('(prefers-color-scheme: dark)')
          const mediaQueryLight = window.matchMedia('(prefers-color-scheme: light)')

          if (theme === undefined) {
            if (mediaQueryLight.matches) activateLightMode()
            else if (mediaQueryDark.matches) activateDarkMode()
            else {
              const hour = new Date().getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            mediaQueryDark.addEventListener('change', () => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else {
            theme === 'light' ? activateLightMode() : activateDarkMode()
          }
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":false,"top_n_per_article":1,"unescape":false,"pagination":{"enable":true,"hitsPerPage":8},"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":400,"highlightFullpage":true,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":150,"languages":{"author":"作者: TeaTang","link":"链接: ","source":"来源: 1024 维度","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'PHP 数组 (Array) 相关函数详解',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="preconnect" href="https://jsd.012700.xyz"><link href="/self/btf.css" rel="stylesheet"><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="1024 维度" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/loading.gif" data-lazy-src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">441</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">225</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">80</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 我的轨迹</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/2023/"><i class="fa-fw fa-solid fa-bug"></i><span> 2023</span></a></li><li><a class="site-page child" href="/archives/2024/"><i class="fa-fw fa-solid fa-code"></i><span> 2024</span></a></li><li><a class="site-page child" href="/archives/2025/"><i class="fa-fw fa-solid fa-network-wired"></i><span> 2025</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa-solid fa-calendar-days"></i><span> 时间线</span></a></div><div class="menus_item"><a class="site-page" href="/shuoshuo"><i class="fa-fw fas fa-comment"></i><span> 说说</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image: url(/img/cover/default_cover-25.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">1024 维度</span></a><a class="nav-page-title" href="/"><span class="site-name">PHP 数组 (Array) 相关函数详解</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 我的轨迹</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/2023/"><i class="fa-fw fa-solid fa-bug"></i><span> 2023</span></a></li><li><a class="site-page child" href="/archives/2024/"><i class="fa-fw fa-solid fa-code"></i><span> 2024</span></a></li><li><a class="site-page child" href="/archives/2025/"><i class="fa-fw fa-solid fa-network-wired"></i><span> 2025</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa-solid fa-calendar-days"></i><span> 时间线</span></a></div><div class="menus_item"><a class="site-page" href="/shuoshuo"><i class="fa-fw fas fa-comment"></i><span> 说说</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">PHP 数组 (Array) 相关函数详解</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon far fa-calendar-alt"></i><span class="post-meta-label">发表于</span><time datetime="2023-10-13T22:24:00.000Z" title="发表于 2023-10-14 06:24:00">2023-10-14</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/PHP/">PHP</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">3.5k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>15分钟</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><blockquote>
<p><strong>PHP 数组 (Array)</strong> 是一种特殊的数据类型，可以存储多个值在一个变量中。PHP 数组是高度灵活的，既可以作为普通索引数组（数值键），也可以作为关联数组（字符串键），甚至可以两者混合使用，或者作为多维数组。PHP 提供了极其丰富和强大的内置函数来操作数组，涵盖了从创建、遍历、排序、过滤到搜索、合并等几乎所有常见的数组操作需求。深入理解并熟练运用这些函数，是高效编写 PHP 代码的关键。</p>
</blockquote>
<div class="note info flat"><p>核心思想：<strong>PHP 数组函数旨在提供强大、灵活且高效的方式来管理和操作复杂的数据集合，简化开发者对数据的处理。</strong></p>
</div>

<hr>
<h2 id="一、数组基础知识回顾"><a href="#一、数组基础知识回顾" class="headerlink" title="一、数组基础知识回顾"></a>一、数组基础知识回顾</h2><p>在深入函数之前，快速回顾 PHP 数组的几个核心特性：</p>
<ul>
<li><strong>异构性 (Heterogeneous)</strong>：数组中的元素可以是不同数据类型（字符串、数字、布尔、对象、其他数组等）。</li>
<li><strong>动态大小 (Dynamic Sizing)</strong>：数组大小不是固定的，可以随时添加或删除元素。</li>
<li><strong>索引与关联</strong>：<ul>
<li><strong>索引数组 (Indexed Array)</strong>：键是整数，默认从 0 开始。<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$indexedArray</span> = [<span class="string">&#x27;apple&#x27;</span>, <span class="string">&#x27;banana&#x27;</span>, <span class="string">&#x27;orange&#x27;</span>];</span><br><span class="line"><span class="comment">// 等同于 $indexedArray = [0 =&gt; &#x27;apple&#x27;, 1 =&gt; &#x27;banana&#x27;, 2 =&gt; &#x27;orange&#x27;];</span></span><br></pre></td></tr></table></figure></li>
<li><strong>关联数组 (Associative Array)</strong>：键是字符串。<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$associativeArray</span> = [<span class="string">&#x27;name&#x27;</span> =&gt; <span class="string">&#x27;Alice&#x27;</span>, <span class="string">&#x27;age&#x27;</span> =&gt; <span class="number">30</span>, <span class="string">&#x27;city&#x27;</span> =&gt; <span class="string">&#x27;New York&#x27;</span>];</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><strong>多维数组 (Multidimensional Array)</strong>：数组的元素可以是另一个数组。<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$multiArray</span> = [</span><br><span class="line">    [<span class="string">&#x27;name&#x27;</span> =&gt; <span class="string">&#x27;Alice&#x27;</span>, <span class="string">&#x27;age&#x27;</span> =&gt; <span class="number">30</span>],</span><br><span class="line">    [<span class="string">&#x27;name&#x27;</span> =&gt; <span class="string">&#x27;Bob&#x27;</span>, <span class="string">&#x27;age&#x27;</span> =&gt; <span class="number">25</span>]</span><br><span class="line">];</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="二、常用数组函数分类详解"><a href="#二、常用数组函数分类详解" class="headerlink" title="二、常用数组函数分类详解"></a>二、常用数组函数分类详解</h2><p>PHP 数组函数数量众多，这里按功能进行分类讲解。</p>
<h3 id="2-1-数组创建与初始化"><a href="#2-1-数组创建与初始化" class="headerlink" title="2.1 数组创建与初始化"></a>2.1 数组创建与初始化</h3><ul>
<li><code>array()</code>：创建新数组。PHP 7.4+ 推荐使用 <code>[]</code> 语法。<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$arr1</span> = <span class="keyword">array</span>(<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>);</span><br><span class="line"><span class="variable">$arr2</span> = [<span class="string">&#x27;x&#x27;</span>, <span class="string">&#x27;y&#x27;</span>, <span class="string">&#x27;z&#x27;</span>]; <span class="comment">// 更简洁的语法</span></span><br></pre></td></tr></table></figure></li>
<li><code>range(mixed $start, mixed $end, int|float $step = 1)</code>：创建包含指定范围元素的数组。<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$numbers</span> = <span class="title function_ invoke__">range</span>(<span class="number">1</span>, <span class="number">5</span>); <span class="comment">// [1, 2, 3, 4, 5]</span></span><br><span class="line"><span class="variable">$letters</span> = <span class="title function_ invoke__">range</span>(<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;e&#x27;</span>); <span class="comment">// [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;e&#x27;]</span></span><br><span class="line"><span class="variable">$evens</span> = <span class="title function_ invoke__">range</span>(<span class="number">2</span>, <span class="number">10</span>, <span class="number">2</span>); <span class="comment">// [2, 4, 6, 8, 10]</span></span><br></pre></td></tr></table></figure></li>
<li><code>array_fill(int $start_index, int $count, mixed $value)</code>：用指定值填充数组。<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$filled</span> = <span class="title function_ invoke__">array_fill</span>(<span class="number">0</span>, <span class="number">5</span>, <span class="string">&#x27;hello&#x27;</span>); <span class="comment">// [0 =&gt; &#x27;hello&#x27;, 1 =&gt; &#x27;hello&#x27;, ...]</span></span><br></pre></td></tr></table></figure></li>
<li><code>array_pad(array $array, int $size, mixed $value)</code>：将数组填充到指定长度。<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$padded</span> = <span class="title function_ invoke__">array_pad</span>([<span class="number">1</span>, <span class="number">2</span>], <span class="number">5</span>, <span class="number">0</span>); <span class="comment">// [1, 2, 0, 0, 0]</span></span><br><span class="line"><span class="variable">$paddedNeg</span> = <span class="title function_ invoke__">array_pad</span>([<span class="number">1</span>, <span class="number">2</span>], -<span class="number">5</span>, <span class="number">0</span>); <span class="comment">// [0, 0, 0, 1, 2] (负数从左侧填充)</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="2-2-数组元素访问与检查"><a href="#2-2-数组元素访问与检查" class="headerlink" title="2.2 数组元素访问与检查"></a>2.2 数组元素访问与检查</h3><ul>
<li><code>count(mixed $array_or_countable, int $mode = COUNT_NORMAL)</code> &#x2F; <code>sizeof()</code>：获取数组元素的数量。<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$arr</span> = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">count</span>(<span class="variable">$arr</span>); <span class="comment">// 3</span></span><br></pre></td></tr></table></figure></li>
<li><code>array_key_exists(mixed $key, array $array)</code>：检查数组中是否存在指定的键。<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$arr</span> = [<span class="string">&#x27;name&#x27;</span> =&gt; <span class="string">&#x27;Alice&#x27;</span>, <span class="string">&#x27;age&#x27;</span> =&gt; <span class="number">30</span>];</span><br><span class="line"><span class="title function_ invoke__">var_dump</span>(<span class="title function_ invoke__">array_key_exists</span>(<span class="string">&#x27;name&#x27;</span>, <span class="variable">$arr</span>)); <span class="comment">// bool(true)</span></span><br><span class="line"><span class="title function_ invoke__">var_dump</span>(<span class="title function_ invoke__">array_key_exists</span>(<span class="string">&#x27;gender&#x27;</span>, <span class="variable">$arr</span>)); <span class="comment">// bool(false)</span></span><br></pre></td></tr></table></figure></li>
<li><code>in_array(mixed $needle, array $haystack, bool $strict = false)</code>：检查数组中是否存在指定的值。<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$arr</span> = [<span class="number">1</span>, <span class="string">&#x27;hello&#x27;</span>, <span class="literal">true</span>];</span><br><span class="line"><span class="title function_ invoke__">var_dump</span>(<span class="title function_ invoke__">in_array</span>(<span class="string">&#x27;hello&#x27;</span>, <span class="variable">$arr</span>)); <span class="comment">// bool(true)</span></span><br><span class="line"><span class="title function_ invoke__">var_dump</span>(<span class="title function_ invoke__">in_array</span>(<span class="number">1</span>, <span class="variable">$arr</span>, <span class="literal">true</span>)); <span class="comment">// bool(true) (严格模式，类型也要匹配)</span></span><br><span class="line"><span class="title function_ invoke__">var_dump</span>(<span class="title function_ invoke__">in_array</span>(<span class="string">&#x27;1&#x27;</span>, <span class="variable">$arr</span>, <span class="literal">true</span>)); <span class="comment">// bool(false)</span></span><br></pre></td></tr></table></figure></li>
<li><code>isset(mixed ...$vars)</code>：检查变量是否已设置且非 NULL。对于数组元素，可用于检查键是否存在且值不为 NULL。<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$arr</span> = [<span class="string">&#x27;name&#x27;</span> =&gt; <span class="string">&#x27;Alice&#x27;</span>, <span class="string">&#x27;age&#x27;</span> =&gt; <span class="number">30</span>, <span class="string">&#x27;city&#x27;</span> =&gt; <span class="literal">null</span>];</span><br><span class="line"><span class="title function_ invoke__">var_dump</span>(<span class="keyword">isset</span>(<span class="variable">$arr</span>[<span class="string">&#x27;name&#x27;</span>])); <span class="comment">// bool(true)</span></span><br><span class="line"><span class="title function_ invoke__">var_dump</span>(<span class="keyword">isset</span>(<span class="variable">$arr</span>[<span class="string">&#x27;gender&#x27;</span>])); <span class="comment">// bool(false)</span></span><br><span class="line"><span class="title function_ invoke__">var_dump</span>(<span class="keyword">isset</span>(<span class="variable">$arr</span>[<span class="string">&#x27;city&#x27;</span>])); <span class="comment">// bool(false) (因为值为null)</span></span><br></pre></td></tr></table></figure></li>
<li><code>array_search(mixed $needle, array $haystack, bool $strict = false)</code>：在数组中搜索给定值，如果成功则返回对应的键。<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$arr</span> = [<span class="string">&#x27;a&#x27;</span> =&gt; <span class="number">1</span>, <span class="string">&#x27;b&#x27;</span> =&gt; <span class="string">&#x27;hello&#x27;</span>, <span class="string">&#x27;c&#x27;</span> =&gt; <span class="number">1</span>];</span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">array_search</span>(<span class="number">1</span>, <span class="variable">$arr</span>); <span class="comment">// a (返回第一个匹配的键)</span></span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">array_search</span>(<span class="number">1</span>, <span class="variable">$arr</span>, <span class="literal">true</span>); <span class="comment">// a</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="2-3-数组遍历与迭代"><a href="#2-3-数组遍历与迭代" class="headerlink" title="2.3 数组遍历与迭代"></a>2.3 数组遍历与迭代</h3><ul>
<li><code>foreach</code> 结构是遍历数组最常用的方式。<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">foreach</span> (<span class="variable">$arr</span> <span class="keyword">as</span> <span class="variable">$value</span>) &#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"><span class="keyword">foreach</span> (<span class="variable">$arr</span> <span class="keyword">as</span> <span class="variable">$key</span> =&gt; <span class="variable">$value</span>) &#123; <span class="comment">/* ... */</span> &#125;</span><br></pre></td></tr></table></figure></li>
<li><code>array_map(callable $callback, array $array, array ...$arrays)</code>：对数组中的每个元素应用回调函数，返回新数组。<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$numbers</span> = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="variable">$squared</span> = <span class="title function_ invoke__">array_map</span>(function(<span class="variable">$n</span>) &#123; <span class="keyword">return</span> <span class="variable">$n</span> * <span class="variable">$n</span>; &#125;, <span class="variable">$numbers</span>); <span class="comment">// [1, 4, 9]</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$names</span> = [<span class="string">&#x27;Alice&#x27;</span>, <span class="string">&#x27;Bob&#x27;</span>];</span><br><span class="line"><span class="variable">$ages</span> = [<span class="number">20</span>, <span class="number">30</span>];</span><br><span class="line"><span class="variable">$combined</span> = <span class="title function_ invoke__">array_map</span>(function(<span class="variable">$name</span>, <span class="variable">$age</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="string">&#x27;name&#x27;</span> =&gt; <span class="variable">$name</span>, <span class="string">&#x27;age&#x27;</span> =&gt; <span class="variable">$age</span>];</span><br><span class="line">&#125;, <span class="variable">$names</span>, <span class="variable">$ages</span>);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">[</span></span><br><span class="line"><span class="comment">    [&#x27;name&#x27; =&gt; &#x27;Alice&#x27;, &#x27;age&#x27; =&gt; 20],</span></span><br><span class="line"><span class="comment">    [&#x27;name&#x27; =&gt; &#x27;Bob&#x27;, &#x27;age&#x27; =&gt; 30]</span></span><br><span class="line"><span class="comment">]</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></li>
<li><code>array_filter(array $array, ?callable $callback = null, int $mode = 0)</code>：使用回调函数过滤数组中的元素。<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$numbers</span> = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line"><span class="variable">$evens</span> = <span class="title function_ invoke__">array_filter</span>(<span class="variable">$numbers</span>, function(<span class="variable">$n</span>) &#123; <span class="keyword">return</span> <span class="variable">$n</span> % <span class="number">2</span> == <span class="number">0</span>; &#125;); <span class="comment">// [2, 4, 6]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 默认行为：移除所有“空”值 (false, null, 0, &#x27;&#x27;, [] 等)</span></span><br><span class="line"><span class="variable">$filtered</span> = <span class="title function_ invoke__">array_filter</span>([<span class="number">0</span>, <span class="number">1</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;hello&#x27;</span>, <span class="literal">false</span>, <span class="literal">true</span>, <span class="literal">null</span>, []]); <span class="comment">// [1, &#x27;hello&#x27;, true]</span></span><br></pre></td></tr></table></figure></li>
<li><code>array_reduce(array $array, callable $callback, mixed $initial_value = null)</code>：将数组归约为单一值。<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$numbers</span> = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="variable">$sum</span> = <span class="title function_ invoke__">array_reduce</span>(<span class="variable">$numbers</span>, function(<span class="variable">$carry</span>, <span class="variable">$item</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$carry</span> + <span class="variable">$item</span>;</span><br><span class="line">&#125;, <span class="number">0</span>); <span class="comment">// 15</span></span><br></pre></td></tr></table></figure></li>
<li><code>array_walk(array &amp;$array, callable $callback, mixed $userdata = null)</code> &#x2F; <code>array_walk_recursive()</code>：对数组中的每个元素应用用户自定义函数。与 <code>array_map</code> 不同，<code>array_walk</code> 直接修改原数组（如果回调函数修改了元素）。<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$fruits</span> = [<span class="string">&#x27;apple&#x27;</span>, <span class="string">&#x27;banana&#x27;</span>];</span><br><span class="line"><span class="title function_ invoke__">array_walk</span>(<span class="variable">$fruits</span>, function(&amp;<span class="variable">$value</span>, <span class="variable">$key</span>) &#123;</span><br><span class="line">    <span class="variable">$value</span> = <span class="title function_ invoke__">strtoupper</span>(<span class="variable">$value</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// $fruits 现在是 [&#x27;APPLE&#x27;, &#x27;BANANA&#x27;]</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="2-4-数组添加、删除与修改"><a href="#2-4-数组添加、删除与修改" class="headerlink" title="2.4 数组添加、删除与修改"></a>2.4 数组添加、删除与修改</h3><ul>
<li><strong>添加元素</strong>：<ul>
<li>索引数组：<code>$arr[] = $value;</code></li>
<li>关联数组：<code>$arr[&#39;key&#39;] = $value;</code></li>
<li><code>array_push(array &amp;$array, mixed ...$values)</code>：将一个或多个元素压入数组的末尾（适用于索引数组，但会重置数字键）。<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$fruits</span> = [<span class="string">&#x27;apple&#x27;</span>];</span><br><span class="line"><span class="title function_ invoke__">array_push</span>(<span class="variable">$fruits</span>, <span class="string">&#x27;banana&#x27;</span>, <span class="string">&#x27;orange&#x27;</span>); <span class="comment">// [&#x27;apple&#x27;, &#x27;banana&#x27;, &#x27;orange&#x27;]</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><strong>删除元素</strong>：<ul>
<li><code>unset(mixed ...$vars)</code>：删除变量或数组中的元素。会破坏数字索引的连续性。<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$arr</span> = [<span class="number">0</span> =&gt; <span class="string">&#x27;a&#x27;</span>, <span class="number">1</span> =&gt; <span class="string">&#x27;b&#x27;</span>, <span class="number">2</span> =&gt; <span class="string">&#x27;c&#x27;</span>];</span><br><span class="line"><span class="keyword">unset</span>(<span class="variable">$arr</span>[<span class="number">1</span>]); <span class="comment">// $arr 现在是 [0 =&gt; &#x27;a&#x27;, 2 =&gt; &#x27;c&#x27;]</span></span><br></pre></td></tr></table></figure></li>
<li><code>array_pop(array &amp;$array)</code>：弹出数组最后一个元素（并返回）。<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$fruits</span> = [<span class="string">&#x27;apple&#x27;</span>, <span class="string">&#x27;banana&#x27;</span>, <span class="string">&#x27;orange&#x27;</span>];</span><br><span class="line"><span class="variable">$last</span> = <span class="title function_ invoke__">array_pop</span>(<span class="variable">$fruits</span>); <span class="comment">// $last = &#x27;orange&#x27;, $fruits = [&#x27;apple&#x27;, &#x27;banana&#x27;]</span></span><br></pre></td></tr></table></figure></li>
<li><code>array_shift(array &amp;$array)</code>：移除数组第一个元素（并返回）。<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$fruits</span> = [<span class="string">&#x27;apple&#x27;</span>, <span class="string">&#x27;banana&#x27;</span>, <span class="string">&#x27;orange&#x27;</span>];</span><br><span class="line"><span class="variable">$first</span> = <span class="title function_ invoke__">array_shift</span>(<span class="variable">$fruits</span>); <span class="comment">// $first = &#x27;apple&#x27;, $fruits = [&#x27;banana&#x27;, &#x27;orange&#x27;]</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><strong>插入与替换</strong>：<ul>
<li><code>array_splice(array &amp;$array, int $offset, ?int $length = null, mixed $replacement = [])</code>：移除数组的一部分并替换为其他元素。<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$fruits</span> = [<span class="string">&#x27;apple&#x27;</span>, <span class="string">&#x27;banana&#x27;</span>, <span class="string">&#x27;orange&#x27;</span>, <span class="string">&#x27;grape&#x27;</span>];</span><br><span class="line"><span class="title function_ invoke__">array_splice</span>(<span class="variable">$fruits</span>, <span class="number">1</span>, <span class="number">2</span>, [<span class="string">&#x27;kiwi&#x27;</span>, <span class="string">&#x27;lemon&#x27;</span>]);</span><br><span class="line"><span class="comment">// $fruits 现在是 [&#x27;apple&#x27;, &#x27;kiwi&#x27;, &#x27;lemon&#x27;, &#x27;grape&#x27;]</span></span><br></pre></td></tr></table></figure></li>
<li><code>array_replace(array $array, array ...$replacements)</code> &#x2F; <code>array_replace_recursive()</code>：使用一个或多个数组的值替换原数组的值。<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$base</span> = [<span class="string">&#x27;a&#x27;</span> =&gt; <span class="number">1</span>, <span class="string">&#x27;b&#x27;</span> =&gt; <span class="number">2</span>];</span><br><span class="line"><span class="variable">$replacements</span> = [<span class="string">&#x27;b&#x27;</span> =&gt; <span class="number">3</span>, <span class="string">&#x27;c&#x27;</span> =&gt; <span class="number">4</span>];</span><br><span class="line"><span class="variable">$result</span> = <span class="title function_ invoke__">array_replace</span>(<span class="variable">$base</span>, <span class="variable">$replacements</span>); <span class="comment">// [&#x27;a&#x27; =&gt; 1, &#x27;b&#x27; =&gt; 3, &#x27;c&#x27; =&gt; 4]</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h3 id="2-5-数组排序"><a href="#2-5-数组排序" class="headerlink" title="2.5 数组排序"></a>2.5 数组排序</h3><p>PHP 提供了多种排序函数，可以根据值、键或自定义规则进行排序。</p>
<ul>
<li><code>sort(array &amp;$array, int $flags = SORT_REGULAR)</code>：按值升序排序索引数组。会重置键。<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$numbers</span> = [<span class="number">3</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">5</span>];</span><br><span class="line"><span class="title function_ invoke__">sort</span>(<span class="variable">$numbers</span>); <span class="comment">// [1, 1, 3, 4, 5]</span></span><br></pre></td></tr></table></figure></li>
<li><code>rsort(array &amp;$array, int $flags = SORT_REGULAR)</code>：按值降序排序索引数组。会重置键。</li>
<li><code>asort(array &amp;$array, int $flags = SORT_REGULAR)</code>：按值升序排序关联数组，保持键与值的关联。<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ages</span> = [<span class="string">&#x27;Bob&#x27;</span> =&gt; <span class="number">30</span>, <span class="string">&#x27;Alice&#x27;</span> =&gt; <span class="number">25</span>, <span class="string">&#x27;Charlie&#x27;</span> =&gt; <span class="number">35</span>];</span><br><span class="line"><span class="title function_ invoke__">asort</span>(<span class="variable">$ages</span>); <span class="comment">// [&#x27;Alice&#x27; =&gt; 25, &#x27;Bob&#x27; =&gt; 30, &#x27;Charlie&#x27; =&gt; 35]</span></span><br></pre></td></tr></table></figure></li>
<li><code>arsort(array &amp;$array, int $flags = SORT_REGULAR)</code>：按值降序排序关联数组，保持键与值的关联。</li>
<li><code>ksort(array &amp;$array, int $flags = SORT_REGULAR)</code>：按键升序排序关联数组。<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ages</span> = [<span class="string">&#x27;Bob&#x27;</span> =&gt; <span class="number">30</span>, <span class="string">&#x27;Alice&#x27;</span> =&gt; <span class="number">25</span>, <span class="string">&#x27;Charlie&#x27;</span> =&gt; <span class="number">35</span>];</span><br><span class="line"><span class="title function_ invoke__">ksort</span>(<span class="variable">$ages</span>); <span class="comment">// [&#x27;Alice&#x27; =&gt; 25, &#x27;Bob&#x27; =&gt; 30, &#x27;Charlie&#x27; =&gt; 35] (键按字母序)</span></span><br></pre></td></tr></table></figure></li>
<li><code>krsort(array &amp;$array, int $flags = SORT_REGULAR)</code>：按键降序排序关联数组。</li>
<li><code>usort(array &amp;$array, callable $callback)</code>：使用用户自定义的比较函数对数组按值排序。会重置键。<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$users</span> = [</span><br><span class="line">    [<span class="string">&#x27;name&#x27;</span> =&gt; <span class="string">&#x27;Alice&#x27;</span>, <span class="string">&#x27;age&#x27;</span> =&gt; <span class="number">30</span>],</span><br><span class="line">    [<span class="string">&#x27;name&#x27;</span> =&gt; <span class="string">&#x27;Bob&#x27;</span>, <span class="string">&#x27;age&#x27;</span> =&gt; <span class="number">25</span>],</span><br><span class="line">];</span><br><span class="line"><span class="title function_ invoke__">usort</span>(<span class="variable">$users</span>, function(<span class="variable">$a</span>, <span class="variable">$b</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$a</span>[<span class="string">&#x27;age&#x27;</span>] &lt;=&gt; <span class="variable">$b</span>[<span class="string">&#x27;age&#x27;</span>]; <span class="comment">// PHP 7+ 飞船操作符</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// $users 按年龄升序排序</span></span><br></pre></td></tr></table></figure></li>
<li><code>uasort()</code> &#x2F; <code>uksort()</code>：与 <code>usort</code> 类似，但 <code>uasort</code> 保持键值关联，<code>uksort</code> 按键使用自定义函数排序。</li>
</ul>
<p><strong>排序标志 (Sorting Flags)</strong>：<br>在许多排序函数中可以使用 <code>flags</code> 参数来改变排序行为：</p>
<ul>
<li><code>SORT_REGULAR</code> (默认)：正常比较项目。</li>
<li><code>SORT_NUMERIC</code>：将项目视为数字进行比较。</li>
<li><code>SORT_STRING</code>：将项目视为字符串进行比较。</li>
<li><code>SORT_LOCALE_STRING</code>：根据当前区域设置（locale）进行字符串比较。</li>
<li><code>SORT_NATURAL</code>：使用“自然排序”算法比较字符串（如 foo10 &lt; foo2）。</li>
<li><code>SORT_FLAG_CASE</code>：可以与 <code>SORT_STRING</code> 或 <code>SORT_NATURAL</code> 结合使用，进行不区分大小写的排序。</li>
</ul>
<h3 id="2-6-数组合并、拆分与差集-交集"><a href="#2-6-数组合并、拆分与差集-交集" class="headerlink" title="2.6 数组合并、拆分与差集&#x2F;交集"></a>2.6 数组合并、拆分与差集&#x2F;交集</h3><ul>
<li><code>array_merge(array ...$arrays)</code> &#x2F; <code>+</code> 操作符：合并一个或多个数组。<ul>
<li><code>array_merge()</code>：<ul>
<li>数字键：会被重新索引。</li>
<li>字符串键：后面的值会覆盖前面的同名键值。</li>
</ul>
</li>
<li><code>+</code> 操作符：<ul>
<li>数字键：不会重新索引，只会添加原数组中不存在的键。</li>
<li>字符串键：前面数组的键值会保留，后面的同名键值会被忽略。</li>
</ul>
</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$arr1</span> = [<span class="number">0</span> =&gt; <span class="string">&#x27;a&#x27;</span>, <span class="number">1</span> =&gt; <span class="string">&#x27;b&#x27;</span>];</span><br><span class="line"><span class="variable">$arr2</span> = [<span class="number">1</span> =&gt; <span class="string">&#x27;x&#x27;</span>, <span class="number">2</span> =&gt; <span class="string">&#x27;y&#x27;</span>];</span><br><span class="line"><span class="variable">$merged</span> = <span class="title function_ invoke__">array_merge</span>(<span class="variable">$arr1</span>, <span class="variable">$arr2</span>); <span class="comment">// [&#x27;a&#x27;, &#x27;x&#x27;, &#x27;y&#x27;] (键被重置)</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$arr3</span> = [<span class="string">&#x27;a&#x27;</span> =&gt; <span class="number">1</span>, <span class="string">&#x27;b&#x27;</span> =&gt; <span class="number">2</span>];</span><br><span class="line"><span class="variable">$arr4</span> = [<span class="string">&#x27;b&#x27;</span> =&gt; <span class="number">3</span>, <span class="string">&#x27;c&#x27;</span> =&gt; <span class="number">4</span>];</span><br><span class="line"><span class="variable">$mergedAssoc</span> = <span class="title function_ invoke__">array_merge</span>(<span class="variable">$arr3</span>, <span class="variable">$arr4</span>); <span class="comment">// [&#x27;a&#x27; =&gt; 1, &#x27;b&#x27; =&gt; 3, &#x27;c&#x27; =&gt; 4]</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$plus</span> = <span class="variable">$arr3</span> + <span class="variable">$arr4</span>; <span class="comment">// [&#x27;a&#x27; =&gt; 1, &#x27;b&#x27; =&gt; 2, &#x27;c&#x27; =&gt; 4] (arr3的&#x27;b&#x27;保留)</span></span><br></pre></td></tr></table></figure></li>
<li><code>array_combine(array $keys, array $values)</code>：通过合并两个数组来创建一个新数组，一个作为键，一个作为值。<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$keys</span> = [<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;age&#x27;</span>];</span><br><span class="line"><span class="variable">$values</span> = [<span class="string">&#x27;Alice&#x27;</span>, <span class="number">30</span>];</span><br><span class="line"><span class="variable">$combined</span> = <span class="title function_ invoke__">array_combine</span>(<span class="variable">$keys</span>, <span class="variable">$values</span>); <span class="comment">// [&#x27;name&#x27; =&gt; &#x27;Alice&#x27;, &#x27;age&#x27; =&gt; 30]</span></span><br></pre></td></tr></table></figure></li>
<li><code>array_slice(array $array, int $offset, ?int $length = null, bool $preserve_keys = false)</code>：从数组中取出一段。<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$fruits</span> = [<span class="string">&#x27;apple&#x27;</span>, <span class="string">&#x27;banana&#x27;</span>, <span class="string">&#x27;orange&#x27;</span>, <span class="string">&#x27;grape&#x27;</span>];</span><br><span class="line"><span class="variable">$slice</span> = <span class="title function_ invoke__">array_slice</span>(<span class="variable">$fruits</span>, <span class="number">1</span>, <span class="number">2</span>); <span class="comment">// [&#x27;banana&#x27;, &#x27;orange&#x27;]</span></span><br><span class="line"><span class="variable">$slicePreserveKeys</span> = <span class="title function_ invoke__">array_slice</span>(<span class="variable">$fruits</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="literal">true</span>); <span class="comment">// [1 =&gt; &#x27;banana&#x27;, 2 =&gt; &#x27;orange&#x27;]</span></span><br></pre></td></tr></table></figure></li>
<li><code>array_chunk(array $array, int $size, bool $preserve_keys = false)</code>：将数组分割成多个小数组（块）。<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$numbers</span> = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line"><span class="variable">$chunks</span> = <span class="title function_ invoke__">array_chunk</span>(<span class="variable">$numbers</span>, <span class="number">2</span>); <span class="comment">// [[1, 2], [3, 4], [5, 6]]</span></span><br></pre></td></tr></table></figure></li>
<li><code>array_diff(array $array, array ...$arrays)</code>：计算数组的差集（返回在第一个数组中存在，但在其他数组中不存在的值）。<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$arr1</span> = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>];</span><br><span class="line"><span class="variable">$arr2</span> = [<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;d&#x27;</span>];</span><br><span class="line"><span class="variable">$diff</span> = <span class="title function_ invoke__">array_diff</span>(<span class="variable">$arr1</span>, <span class="variable">$arr2</span>); <span class="comment">// [&#x27;a&#x27;, &#x27;c&#x27;]</span></span><br></pre></td></tr></table></figure></li>
<li><code>array_diff_assoc()</code> &#x2F; <code>array_diff_key()</code> &#x2F; <code>array_diff_uassoc()</code> &#x2F; <code>array_diff_ukey()</code>：更精细的差集计算，分别比较键值、键。</li>
<li><code>array_intersect(array $array, array ...$arrays)</code>：计算数组的交集（返回在所有数组中都存在的值）。<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$arr1</span> = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>];</span><br><span class="line"><span class="variable">$arr2</span> = [<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>];</span><br><span class="line"><span class="variable">$intersect</span> = <span class="title function_ invoke__">array_intersect</span>(<span class="variable">$arr1</span>, <span class="variable">$arr2</span>); <span class="comment">// [&#x27;b&#x27;, &#x27;d&#x27;]</span></span><br></pre></td></tr></table></figure></li>
<li><code>array_intersect_assoc()</code> &#x2F; <code>array_intersect_key()</code> &#x2F; <code>array_intersect_uassoc()</code> &#x2F; <code>array_intersect_ukey()</code>：更精细的交集计算。</li>
</ul>
<h3 id="2-7-数组键与值操作"><a href="#2-7-数组键与值操作" class="headerlink" title="2.7 数组键与值操作"></a>2.7 数组键与值操作</h3><ul>
<li><code>array_keys(array $array, mixed $filter_value = null, bool $strict = false)</code>：返回数组的所有键或指定值的键。<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$arr</span> = [<span class="string">&#x27;a&#x27;</span> =&gt; <span class="number">1</span>, <span class="string">&#x27;b&#x27;</span> =&gt; <span class="number">2</span>, <span class="string">&#x27;c&#x27;</span> =&gt; <span class="number">1</span>];</span><br><span class="line"><span class="variable">$keys</span> = <span class="title function_ invoke__">array_keys</span>(<span class="variable">$arr</span>); <span class="comment">// [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]</span></span><br><span class="line"><span class="variable">$keysOfOne</span> = <span class="title function_ invoke__">array_keys</span>(<span class="variable">$arr</span>, <span class="number">1</span>); <span class="comment">// [&#x27;a&#x27;, &#x27;c&#x27;]</span></span><br></pre></td></tr></table></figure></li>
<li><code>array_values(array $array)</code>：返回数组的所有值。会重置数字键。<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$arr</span> = [<span class="string">&#x27;a&#x27;</span> =&gt; <span class="number">1</span>, <span class="string">&#x27;b&#x27;</span> =&gt; <span class="number">2</span>, <span class="string">&#x27;c&#x27;</span> =&gt; <span class="number">1</span>];</span><br><span class="line"><span class="variable">$values</span> = <span class="title function_ invoke__">array_values</span>(<span class="variable">$arr</span>); <span class="comment">// [1, 2, 1]</span></span><br></pre></td></tr></table></figure></li>
<li><code>array_flip(array $array)</code>：交换数组中的键和值。如果值重复，最后一个值会覆盖之前的。<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$arr</span> = [<span class="string">&#x27;name&#x27;</span> =&gt; <span class="string">&#x27;Alice&#x27;</span>, <span class="string">&#x27;age&#x27;</span> =&gt; <span class="number">30</span>];</span><br><span class="line"><span class="variable">$flipped</span> = <span class="title function_ invoke__">array_flip</span>(<span class="variable">$arr</span>); <span class="comment">// [&#x27;Alice&#x27; =&gt; &#x27;name&#x27;, 30 =&gt; &#x27;age&#x27;]</span></span><br></pre></td></tr></table></figure></li>
<li><code>array_unique(array $array, int $flags = SORT_STRING)</code>：移除数组中的重复值。<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$numbers</span> = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">4</span>];</span><br><span class="line"><span class="variable">$unique</span> = <span class="title function_ invoke__">array_unique</span>(<span class="variable">$numbers</span>); <span class="comment">// [1, 2, 3, 4] (原始键会被保留)</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="2-8-其他实用函数"><a href="#2-8-其他实用函数" class="headerlink" title="2.8 其他实用函数"></a>2.8 其他实用函数</h3><ul>
<li><code>current(array &amp;$array)</code> &#x2F; <code>next()</code> &#x2F; <code>prev()</code> &#x2F; <code>reset()</code> &#x2F; <code>end()</code>：操作数组内部指针。<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$fruits</span> = [<span class="string">&#x27;apple&#x27;</span>, <span class="string">&#x27;banana&#x27;</span>, <span class="string">&#x27;orange&#x27;</span>];</span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">current</span>(<span class="variable">$fruits</span>); <span class="comment">// apple</span></span><br><span class="line"><span class="title function_ invoke__">next</span>(<span class="variable">$fruits</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">current</span>(<span class="variable">$fruits</span>); <span class="comment">// banana</span></span><br><span class="line"><span class="title function_ invoke__">reset</span>(<span class="variable">$fruits</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">current</span>(<span class="variable">$fruits</span>); <span class="comment">// apple</span></span><br></pre></td></tr></table></figure></li>
<li><code>shuffle(array &amp;$array)</code>：随机打乱数组的顺序。会重置键。</li>
<li><code>array_rand(array $array, int $num = 1)</code>：从数组中随机取出一个或多个键。<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$fruits</span> = [<span class="string">&#x27;apple&#x27;</span>, <span class="string">&#x27;banana&#x27;</span>, <span class="string">&#x27;orange&#x27;</span>];</span><br><span class="line"><span class="variable">$randomKey</span> = <span class="title function_ invoke__">array_rand</span>(<span class="variable">$fruits</span>); <span class="comment">// 随机一个键 (0, 1, 或 2)</span></span><br><span class="line"><span class="variable">$randomFruits</span> = <span class="variable">$fruits</span>[<span class="title function_ invoke__">array_rand</span>(<span class="variable">$fruits</span>, <span class="number">2</span>)]; <span class="comment">// 随机两个水果</span></span><br></pre></td></tr></table></figure></li>
<li><code>array_sum(array $array)</code>：计算数组中所有值的和。</li>
<li><code>array_product(array $array)</code>：计算数组中所有值的乘积。</li>
<li><code>extract(array &amp;$array, int $flags = EXTR_OVERWRITE, string $prefix = &quot;&quot;)</code>：从数组中将键值对导入到当前符号表（创建变量）。<strong>谨慎使用，可能导致变量名冲突。</strong><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$data</span> = [<span class="string">&#x27;name&#x27;</span> =&gt; <span class="string">&#x27;Alice&#x27;</span>, <span class="string">&#x27;age&#x27;</span> =&gt; <span class="number">30</span>];</span><br><span class="line"><span class="title function_ invoke__">extract</span>(<span class="variable">$data</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$name</span>; <span class="comment">// Alice</span></span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$age</span>; <span class="comment">// 30</span></span><br></pre></td></tr></table></figure></li>
<li><code>compact(string ...$var_names)</code>：创建一个包含变量名和它们的值的数组。<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$name</span> = <span class="string">&#x27;Bob&#x27;</span>;</span><br><span class="line"><span class="variable">$age</span> = <span class="number">25</span>;</span><br><span class="line"><span class="variable">$info</span> = <span class="title function_ invoke__">compact</span>(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;age&#x27;</span>); <span class="comment">// [&#x27;name&#x27; =&gt; &#x27;Bob&#x27;, &#x27;age&#x27; =&gt; 25]</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="三、性能与最佳实践"><a href="#三、性能与最佳实践" class="headerlink" title="三、性能与最佳实践"></a>三、性能与最佳实践</h2><ul>
<li><strong>选择合适的函数</strong>：理解每个函数的功能和副作用（如是否重置键、是否修改原数组）至关重要。例如，对于只需遍历每个元素并返回新数组的场景，<code>array_map</code> 通常比 <code>array_walk</code> 更合适。</li>
<li><strong>避免不必要的循环</strong>：PHP 提供的许多内置数组函数都是用 C 语言实现的，通常比手写的 <code>foreach</code> 循环更高效。能用内置函数解决的问题，尽量使用内置函数。</li>
<li><strong>大型数组处理</strong>：对于非常大的数组，某些操作（如 <code>array_push</code> 频繁添加元素，<code>array_splice</code> 大量插入&#x2F;删除）可能会带来性能开销。</li>
<li><strong>键的类型</strong>：关联数组的键可以是整数或字符串。如果整数键看起来像数字字符串（如 <code>&#39;100&#39;</code>），PHP 可能会将其转换为整数。</li>
<li><strong>内存使用</strong>：某些操作（如 <code>array_merge</code> 拷贝大数组）会消耗较多内存。</li>
</ul>
<h2 id="四、总结"><a href="#四、总结" class="headerlink" title="四、总结"></a>四、总结</h2><p>PHP 数组函数是其核心优势之一，为开发者提供了处理各种数据集合的强大工具集。从基本的增删改查到复杂的排序、过滤、集合运算，几乎所有常见的数组操作都有对应的内置函数支持。通过熟练掌握这些函数，并结合对数组特性的深入理解，开发者可以编写出更简洁、更高效、更易维护的 PHP 代码。在实际项目中，总是优先考虑使用内置数组函数来解决问题，以充分利用 PHP 引擎的优化能力。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://blog.tbf1211.xx.kg">TeaTang</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://blog.tbf1211.xx.kg/80bef8aa6c96/">https://blog.tbf1211.xx.kg/80bef8aa6c96/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://blog.tbf1211.xx.kg" target="_blank">1024 维度</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/2023/">2023</a><a class="post-meta__tags" href="/tags/PHP/">PHP</a><a class="post-meta__tags" href="/tags/%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/">编码规范</a><a class="post-meta__tags" href="/tags/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/">程序设计</a></div><div class="post-share"><div class="social-share" data-image="/img/cover/default_cover-25.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/14fbc43cdbd2/" title="Trojan协议详解：伪装为 HTTPS 的无状态代理协议"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-29.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">Trojan协议详解：伪装为 HTTPS 的无状态代理协议</div></div><div class="info-2"><div class="info-item-1"> Trojan 是一个开源的代理协议，其核心设计理念是“伪装为最常见的 HTTPS 流量”。它通过模仿 HTTPS 流量的特征，并利用 TLS (Transport Layer Security) 的加密和认证机制，旨在实现几乎无法被识别和阻断的代理连接。Trojan 协议放弃了传统代理协议常见的复杂头部和混淆算法，转而直接将代理数据封装在 TLS 中，并强制要求使用 443 端口和合法 TLS 证书，以最大化其隐蔽性。  核心思想：将代理流量深度伪装为 HTTPS 流量，通过在 443 端口上直接利用 TLS 协议的加密会话来传输代理数据，从而使其在外部看来与正常的 HTTPS 流量几乎无异。   一、Trojan 协议的诞生背景与目标Trojan 协议的出现，是对传统代理协议（如 Shadowsocks、VMess 等）在对抗深度包检测 (DPI) 和主动探测时的局限性的一种回应。主要背景如下：  协议特征识别：许多代理协议，即使经过混淆，仍可能因其特定的协议头部、握手流程、流量模式或不符合 TLS 规范的行为而被识别。 主动探测：审查系统可能会主动连接代理服务器，发送探测包...</div></div></div></a><a class="pagination-related" href="/f6138d30a597/" title="常见网络攻击详解与预防：构建数字安全防线"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-31.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">常见网络攻击详解与预防：构建数字安全防线</div></div><div class="info-2"><div class="info-item-1"> 随着数字化时代的深入发展，网络已成为我们工作和生活中不可或缺的一部分。然而，伴随而来的网络攻击也日益猖獗，形式多样且破坏力巨大。理解常见的网络攻击类型及其防御方法，对于个人、企业乃至国家层面的网络安全防护至关重要。  核心思想：网络攻击的本质是利用系统、网络、应用或人为的漏洞，破坏信息资产的机密性、完整性、可用性。有效的防御需要结合技术防护、安全管理和人员意识培训。    一、网络攻击概述网络攻击是指以获取、破坏、更改、禁用、窃取或秘密访问计算机系统、基础设施、计算机网络或链接设备为目的的恶意行为。攻击者利用各种技术手段，针对不同层面的漏洞发起攻击，以达到其非法目的。 1.1 攻击目标 数据 (Data)：窃取敏感信息（用户数据、商业机密、知识产权），篡改数据，删除数据。 系统&#x2F;应用 (Systems&#x2F;Applications)：破坏服务可用性（拒绝服务）、获取系统控制权、植入恶意代码。 网络 (Network)：瘫痪网络基础设施、监听网络流量、劫持通信。 用户 (Users)：欺骗、诱导用户泄露信息（钓鱼）、传播谣言或虚假信息。  1.2 攻击动机 经济利...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/ab53b79e305e/" title="PHP this, self, static 详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-32.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-10-06</div><div class="info-item-2">PHP this, self, static 详解</div></div><div class="info-2"><div class="info-item-1"> 在 PHP 面向对象编程中，$this、self 和 static 是三个至关重要的关键词，它们用于在类内部访问成员属性和方法。理解它们之间的区别和用法是掌握 PHP 对象模型，特别是后期静态绑定 (Late Static Binding) 的关键。  核心思想：$this 指向当前对象实例，self 指向当前类，static 结合后期静态绑定机制，根据运行时调用者来确定指向的类。    一、$this 关键字1.1 定义与用途$this 关键字用于引用当前对象实例。它只能在非静态方法中使用，用于访问当前对象实例的非静态属性和非静态方法。 当一个类被实例化为一个对象后，$this 就代表了该对象。 1.2 访问方式通过 -&gt; 运算符访问：$this-&gt;propertyName 或 $this-&gt;methodName()。 1.3 示例12345678910111213141516171819202122232425262728293031323334&lt;?phpclass Car &#123;    public $color; // 非静态属性    p...</div></div></div></a><a class="pagination-related" href="/4749d07931d6/" title="Java Lambda 表达式详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-15.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-09-25</div><div class="info-item-2">Java Lambda 表达式详解</div></div><div class="info-2"><div class="info-item-1"> Java Lambda 表达式 是 Java 8 引入的一个核心特性，它提供了一种简洁的方式来表示匿名函数 (Anonymous Function)。Lambda 表达式主要用于实现函数式接口 (Functional Interface)，极大地简化了代码，尤其是在处理集合、事件监听器和并发编程时，使 Java 代码更具表达力和可读性。  核心思想：将行为（一段代码逻辑）作为参数传递给方法。它实际上是函数式接口的“语法糖”，使得函数式接口的实现变得异常简洁。    一、为什么需要 Lambda 表达式？在 Java 8 之前，如果我们需要将一段行为（代码逻辑）作为参数传递给方法，通常需要依赖匿名内部类 (Anonymous Inner Class)。这种方式在某些场景下会导致代码冗长且可读性差。 例如，一个简单的 Runnable 接口的实现： 1234567// Java 8 之前：使用匿名内部类new Thread(new Runnable() &#123;    @Override    public void run() &#123;        System.out...</div></div></div></a><a class="pagination-related" href="/be930ce35928/" title="Java 常用设计模式详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-11.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-06-30</div><div class="info-item-2">Java 常用设计模式详解</div></div><div class="info-2"><div class="info-item-1"> 设计模式 (Design Patterns) 是在软件工程中，针对特定问题场景提出的一套经过验证的、可复用的解决方案。它们是从实践中总结出来的，是软件开发过程中的最佳实践。学习和应用设计模式，可以帮助开发者构建出结构清晰、可维护、可扩展、复用性强的软件系统，同时也能促进团队成员之间的沟通。  核心思想：设计模式的目标是提升软件的灵活性 (Flexibility)、可重用性 (Reusability) 和可扩展性 (Extensibility)，同时降低维护成本 (Maintainability)。它们不是代码，而是解决特定问题的思想和方法。   一、设计模式的分类根据 GoF (Gang of Four，《设计模式：可复用面向对象软件的基础》的四位作者) 的经典分类，设计模式主要分为三类：  创建型模式 (Creational Patterns)： 关注对象的创建机制，目标是解耦对象的创建与使用，从而提供更大的灵活性。 包括：单例 (Singleton)、工厂方法 (Factory Method)、抽象工厂 (Abstract Factory)、建造者 (Builder)、原型...</div></div></div></a><a class="pagination-related" href="/6a2e612aab63/" title="Java 常用关键字详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-25.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-30</div><div class="info-item-2">Java 常用关键字详解</div></div><div class="info-2"><div class="info-item-1"> Java 关键字 (Keywords) 是 Java 语言中被赋予特殊含义的、预定义的、保留的标识符。它们不能用作变量名、类名、方法名或其他用户自定义的标识符。理解和正确使用这些关键字是编写有效 Java 代码的基础。本文将详细介绍 Java 中最常用的关键字及其功能。  核心思想：关键字是 Java 编译器识别和理解代码结构及行为的“命令词”。    一、基本概念Java 关键字在语言语法中扮演着核心角色，它们指示编译器如何解释和处理代码的特定部分。所有 Java 关键字都是小写字母。 二、数据类型关键字这些关键字用于声明变量的数据类型。  boolean：表示布尔类型，只有 true 和 false 两个值。1boolean isActive = true; byte：表示 8 位带符号整数，范围 -128 到 127。1byte level = 10; short：表示 16 位带符号整数，范围 -32768 到 32767。1short count = 1000; int：表示 32 位带符号整数，最常用的整数类型。1int score = 100000; long：表...</div></div></div></a><a class="pagination-related" href="/832eaf04ac40/" title="Python多线程实现生产者-消费者模式详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-19.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-21</div><div class="info-item-2">Python多线程实现生产者-消费者模式详解</div></div><div class="info-2"><div class="info-item-1"> 生产者-消费者模式是并发编程中一个非常常见的设计模式，用于解决生产者和消费者之间由于生产和消费的速度不一致而导致的同步问题。在 Python 中，由于全局解释器锁 (GIL) 的存在，多线程在 CPU 密集型任务上并不能真正并行，但在 I&#x2F;O 密集型任务上，多线程仍然可以有效地提高程序的效率和响应速度。本篇将详细介绍如何使用 Python 的 threading 模块和 queue 模块实现多线程版的生产者-消费者模式。  核心思想：利用线程安全的共享队列作为缓冲，实现生产者与消费者解耦，并通过队列自带的互斥锁和条件变量进行同步，避免数据不一致和资源竞争。   一、生产者-消费者模式与多线程概述1.1 生产者-消费者模式参考 Python 多进程生产者-消费者模式详解 中的概述，其核心构成和解决的问题在多线程场景下是相同的：  生产者 (Producer)：生成数据并放入队列。 消费者 (Consumer)：从队列取出数据并处理。 缓冲区 (Queue)：共享的、线程安全的数据容器。  1.2 Python 多线程与 GIL threading 模块：Python 标...</div></div></div></a><a class="pagination-related" href="/c0ed8953ea7d/" title="Python 编码规范详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-30.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-08-06</div><div class="info-item-2">Python 编码规范详解</div></div><div class="info-2"><div class="info-item-1"> Python 编码规范 旨在提供一套指导原则和最佳实践，以确保 Python 代码的一致性、可读性、可维护性、可协作性和**“Pythonic”**（符合 Python 语言哲学）风格。Python 社区的核心编码规范是 PEP 8 (Python Enhancement Proposal 8)，它定义了 Python 代码的风格指南。遵循 PEP 8 不仅能让你的代码更容易被其他 Python 开发者理解，也能提高代码本身的质量和减少潜在错误。  核心思想：一致性至关重要。代码是写给人看的，不是机器。清晰、简洁、可读的代码能够极大地提高开发效率和项目成功率。   一、Python 编码哲学与 PEP 8Python 语言的设计哲学（可在 import this 中查看“The Zen of Python”）强调简洁、明确和可读性。PEP 8 是将这些哲学转化为具体编码实践的基石。 PEP 8 是什么？PEP 8 是 Python 官方的风格指南，由 Guido van Rossum (Python 创始人)、Barry Warsaw 和 Nick Coghlan 共同撰写。它...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/loading.gif" data-lazy-src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">TeaTang</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">441</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">225</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">80</div></a></div><a id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/teatang"><i class="fab fa-github"></i><span>GitHub主页</span></a><div class="card-info-social-icons"><a class="social-icon" href="mailto:tea.tang1211@gmail.com" rel="external nofollow noreferrer" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title="RSS"><i class="fas fa-rss"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">网站更多功能即将上线，敬请期待！</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E6%95%B0%E7%BB%84%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E5%9B%9E%E9%A1%BE"><span class="toc-text">一、数组基础知识回顾</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%B8%B8%E7%94%A8%E6%95%B0%E7%BB%84%E5%87%BD%E6%95%B0%E5%88%86%E7%B1%BB%E8%AF%A6%E8%A7%A3"><span class="toc-text">二、常用数组函数分类详解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E6%95%B0%E7%BB%84%E5%88%9B%E5%BB%BA%E4%B8%8E%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-text">2.1 数组创建与初始化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0%E8%AE%BF%E9%97%AE%E4%B8%8E%E6%A3%80%E6%9F%A5"><span class="toc-text">2.2 数组元素访问与检查</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-%E6%95%B0%E7%BB%84%E9%81%8D%E5%8E%86%E4%B8%8E%E8%BF%AD%E4%BB%A3"><span class="toc-text">2.3 数组遍历与迭代</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-%E6%95%B0%E7%BB%84%E6%B7%BB%E5%8A%A0%E3%80%81%E5%88%A0%E9%99%A4%E4%B8%8E%E4%BF%AE%E6%94%B9"><span class="toc-text">2.4 数组添加、删除与修改</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-%E6%95%B0%E7%BB%84%E6%8E%92%E5%BA%8F"><span class="toc-text">2.5 数组排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E6%95%B0%E7%BB%84%E5%90%88%E5%B9%B6%E3%80%81%E6%8B%86%E5%88%86%E4%B8%8E%E5%B7%AE%E9%9B%86-%E4%BA%A4%E9%9B%86"><span class="toc-text">2.6 数组合并、拆分与差集&#x2F;交集</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7-%E6%95%B0%E7%BB%84%E9%94%AE%E4%B8%8E%E5%80%BC%E6%93%8D%E4%BD%9C"><span class="toc-text">2.7 数组键与值操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-8-%E5%85%B6%E4%BB%96%E5%AE%9E%E7%94%A8%E5%87%BD%E6%95%B0"><span class="toc-text">2.8 其他实用函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E6%80%A7%E8%83%BD%E4%B8%8E%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5"><span class="toc-text">三、性能与最佳实践</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E6%80%BB%E7%BB%93"><span class="toc-text">四、总结</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/0c48c5fa5942/" title="CFFI (C Foreign Function Interface for Python) 详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-31.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CFFI (C Foreign Function Interface for Python) 详解"/></a><div class="content"><a class="title" href="/0c48c5fa5942/" title="CFFI (C Foreign Function Interface for Python) 详解">CFFI (C Foreign Function Interface for Python) 详解</a><time datetime="2025-12-23T22:24:00.000Z" title="发表于 2025-12-24 06:24:00">2025-12-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/03cebd3cc28a/" title="行为驱动开发 (BDD) 详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-11.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="行为驱动开发 (BDD) 详解"/></a><div class="content"><a class="title" href="/03cebd3cc28a/" title="行为驱动开发 (BDD) 详解">行为驱动开发 (BDD) 详解</a><time datetime="2025-12-21T22:24:00.000Z" title="发表于 2025-12-22 06:24:00">2025-12-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/7bb082434be0/" title="测试驱动开发 (TDD) 详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-17.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="测试驱动开发 (TDD) 详解"/></a><div class="content"><a class="title" href="/7bb082434be0/" title="测试驱动开发 (TDD) 详解">测试驱动开发 (TDD) 详解</a><time datetime="2025-12-19T22:24:00.000Z" title="发表于 2025-12-20 06:24:00">2025-12-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/24ffc0bedb41/" title="IPFS (InterPlanetary File System) 详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-28.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="IPFS (InterPlanetary File System) 详解"/></a><div class="content"><a class="title" href="/24ffc0bedb41/" title="IPFS (InterPlanetary File System) 详解">IPFS (InterPlanetary File System) 详解</a><time datetime="2025-12-16T22:24:00.000Z" title="发表于 2025-12-17 06:24:00">2025-12-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/974825c9c64f/" title="L7 负载均衡详解 (Layer 7 Load Balancing Explained)"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-29.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="L7 负载均衡详解 (Layer 7 Load Balancing Explained)"/></a><div class="content"><a class="title" href="/974825c9c64f/" title="L7 负载均衡详解 (Layer 7 Load Balancing Explained)">L7 负载均衡详解 (Layer 7 Load Balancing Explained)</a><time datetime="2025-12-14T22:24:00.000Z" title="发表于 2025-12-15 06:24:00">2025-12-15</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/img/cover/default_cover-25.jpg);"><div class="footer-flex"><div class="footer-flex-items"><div class="footer-flex-item"><div class="footer-flex-title">我的轨迹</div><div class="footer-flex-content"><a href="/archives/2023/" target="_blank" title="📌 2023">📌 2023</a><a href="/archives/2024/" target="_blank" title="❓ 2024">❓ 2024</a><a href="/archives/2025/" target="_blank" title="🚀 2025">🚀 2025</a></div></div></div><div class="footer-flex-items"><div class="footer-flex-item"><div class="footer-flex-title">维度</div><div class="footer-flex-content"><a href="/categories/" target="_blank" title="分类">分类</a><a href="/tags/" target="_blank" title="标签">标签</a><a href="/categories/" target="_blank" title="时间线">时间线</a></div></div></div><div class="footer-flex-items"><div class="footer-flex-item"><div class="footer-flex-title">其他</div><div class="footer-flex-content"><a href="/shuoshuo" target="_blank" title="说说">说说</a></div></div></div></div><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2023 - 2025 By TeaTang</span><span class="framework-info"><span class="footer-separator">|</span><span>框架 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.3"></script><script src="/js/main.js?v=5.5.3"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.1.7/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@19.1.3/dist/lazyload.iife.min.js"></script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const config = mermaidSrc.dataset.config ? JSON.parse(mermaidSrc.dataset.config) : {}
      if (!config.theme) {
        config.theme = theme
      }
      const mermaidThemeConfig = `%%{init: ${JSON.stringify(config)}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid@11.12.2/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>(() => {
  const applyThemeDefaultsConfig = theme => {
    if (theme === 'dark-mode') {
      Chart.defaults.color = "rgba(255, 255, 255, 0.8)"
      Chart.defaults.borderColor = "rgba(255, 255, 255, 0.2)"
      Chart.defaults.scale.ticks.backdropColor = "transparent"
    } else {
      Chart.defaults.color = "rgba(0, 0, 0, 0.8)"
      Chart.defaults.borderColor = "rgba(0, 0, 0, 0.1)"
      Chart.defaults.scale.ticks.backdropColor = "transparent"
    }
  }

  // Recursively traverse the config object and automatically apply theme-specific color schemes
  const applyThemeConfig = (obj, theme) => {
    if (typeof obj !== 'object' || obj === null) return

    Object.keys(obj).forEach(key => {
      const value = obj[key]
      // If the property is an object and has theme-specific options, apply them
      if (typeof value === 'object' && value !== null) {
        if (value[theme]) {
          obj[key] = value[theme] // Apply the value for the current theme
        } else {
          // Recursively process child objects
          applyThemeConfig(value, theme)
        }
      }
    })
  }

  const runChartJS = ele => {
    window.loadChartJS = true

    Array.from(ele).forEach((item, index) => {
      const chartSrc = item.firstElementChild
      const chartID = item.getAttribute('data-chartjs-id') || ('chartjs-' + index) // Use custom ID or default ID
      const width = item.getAttribute('data-width')
      const existingCanvas = document.getElementById(chartID)

      // If a canvas already exists, remove it to avoid rendering duplicates
      if (existingCanvas) {
          existingCanvas.parentNode.remove()
      }

      const chartDefinition = chartSrc.textContent
      const canvas = document.createElement('canvas')
      canvas.id = chartID

      const div = document.createElement('div')
      div.className = 'chartjs-wrap'

      if (width) {
        div.style.width = width
      }

      div.appendChild(canvas)
      chartSrc.insertAdjacentElement('afterend', div)

      const ctx = document.getElementById(chartID).getContext('2d')

      const config = JSON.parse(chartDefinition)

      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark-mode' : 'light-mode'

      // Set default styles (initial setup)
      applyThemeDefaultsConfig(theme)

      // Automatically traverse the config and apply dual-mode color schemes
      applyThemeConfig(config, theme)

      new Chart(ctx, config)
    })
  }

  const loadChartJS = () => {
    const chartJSEle = document.querySelectorAll('#article-container .chartjs-container')
    if (chartJSEle.length === 0) return

    window.loadChartJS ? runChartJS(chartJSEle) : btf.getScript('https://cdn.jsdelivr.net/npm/chart.js@4.5.1/dist/chart.umd.min.js').then(() => runChartJS(chartJSEle))
  }

  // Listen for theme change events
  btf.addGlobalFn('themeChange', loadChartJS, 'chartjs')
  btf.addGlobalFn('encrypt', loadChartJS, 'chartjs')

  window.pjax ? loadChartJS() : document.addEventListener('DOMContentLoaded', loadChartJS)
})()</script></div><script data-pjax src="/self/btf.js"></script><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/fireworks.min.js"></script><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="ture"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-fluttering-ribbon.min.js"></script><script id="canvas_nest" defer="defer" color="0,200,200" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js" defer="defer"></script><script>document.addEventListener('DOMContentLoaded', () => {
  const pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => {
      try {
        fn()
      } catch (err) {
        console.debug('Pjax callback failed:', err)
      }
    })
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      true
        ? pjax.loadUrl('/404.html')
        : window.location.href = e.request.responseURL
    }
  })
})</script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden="hidden"></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="local-search-input"><input placeholder="搜索文章" type="text"/></div><hr/><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none;"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=5.5.3"></script></div></div></body></html>