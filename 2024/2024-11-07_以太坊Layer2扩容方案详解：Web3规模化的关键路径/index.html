<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>以太坊Layer2扩容方案详解：Web3规模化的关键路径 | 1024 维度</title><meta name="author" content="TeaTang"><meta name="copyright" content="TeaTang"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="以太坊，作为全球最具影响力的智能合约平台，承载了绝大多数的去中心化应用 (dApps)。然而，其底层主链 (Layer1) 的设计在保证去中心化和安全性的同时，也带来了扩展性瓶颈：有限的交易吞吐量（约 15-30 TPS）和高峰期高昂的交易费用（Gas Fee）。这些限制严重阻碍了以太坊生态的进一步发展和 Web3 的大规模普及。 为此，Layer2 扩容方案应运而生，成为了解决以太坊扩展性问题">
<meta property="og:type" content="article">
<meta property="og:title" content="以太坊Layer2扩容方案详解：Web3规模化的关键路径">
<meta property="og:url" content="https://blog.tbf1211.xx.kg/2024/2024-11-07_%E4%BB%A5%E5%A4%AA%E5%9D%8ALayer2%E6%89%A9%E5%AE%B9%E6%96%B9%E6%A1%88%E8%AF%A6%E8%A7%A3%EF%BC%9AWeb3%E8%A7%84%E6%A8%A1%E5%8C%96%E7%9A%84%E5%85%B3%E9%94%AE%E8%B7%AF%E5%BE%84/index.html">
<meta property="og:site_name" content="1024 维度">
<meta property="og:description" content="以太坊，作为全球最具影响力的智能合约平台，承载了绝大多数的去中心化应用 (dApps)。然而，其底层主链 (Layer1) 的设计在保证去中心化和安全性的同时，也带来了扩展性瓶颈：有限的交易吞吐量（约 15-30 TPS）和高峰期高昂的交易费用（Gas Fee）。这些限制严重阻碍了以太坊生态的进一步发展和 Web3 的大规模普及。 为此，Layer2 扩容方案应运而生，成为了解决以太坊扩展性问题">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blog.tbf1211.xx.kg/img/cover/default_cover-09.jpg">
<meta property="article:published_time" content="2024-11-06T22:24:00.000Z">
<meta property="article:modified_time" content="2025-10-20T10:13:56.675Z">
<meta property="article:author" content="TeaTang">
<meta property="article:tag" content="2024">
<meta property="article:tag" content="Web3.0">
<meta property="article:tag" content="区块链">
<meta property="article:tag" content="去中心化">
<meta property="article:tag" content="ETH">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog.tbf1211.xx.kg/img/cover/default_cover-09.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "以太坊Layer2扩容方案详解：Web3规模化的关键路径",
  "url": "https://blog.tbf1211.xx.kg/2024/2024-11-07_%E4%BB%A5%E5%A4%AA%E5%9D%8ALayer2%E6%89%A9%E5%AE%B9%E6%96%B9%E6%A1%88%E8%AF%A6%E8%A7%A3%EF%BC%9AWeb3%E8%A7%84%E6%A8%A1%E5%8C%96%E7%9A%84%E5%85%B3%E9%94%AE%E8%B7%AF%E5%BE%84/",
  "image": "https://blog.tbf1211.xx.kg/img/cover/default_cover-09.jpg",
  "datePublished": "2024-11-06T22:24:00.000Z",
  "dateModified": "2025-10-20T10:13:56.675Z",
  "author": [
    {
      "@type": "Person",
      "name": "TeaTang",
      "url": "https://blog.tbf1211.xx.kg"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon-1.ico"><link rel="canonical" href="https://blog.tbf1211.xx.kg/2024/2024-11-07_%E4%BB%A5%E5%A4%AA%E5%9D%8ALayer2%E6%89%A9%E5%AE%B9%E6%96%B9%E6%A1%88%E8%AF%A6%E8%A7%A3%EF%BC%9AWeb3%E8%A7%84%E6%A8%A1%E5%8C%96%E7%9A%84%E5%85%B3%E9%94%AE%E8%B7%AF%E5%BE%84/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><meta name="google-site-verification" content="NdIUXAOVyGnnBhcrip0ksCawbdAzT0hlBZDE9u4jx6k"/><meta name="msvalidate.01" content="567E47D75E8DCF1282B9623AD914701E"/><meta name="baidu-site-verification" content="code-pE5rnuxcfD"/><link rel="stylesheet" href="/css/index.css?v=5.5.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          const mediaQueryDark = window.matchMedia('(prefers-color-scheme: dark)')
          const mediaQueryLight = window.matchMedia('(prefers-color-scheme: light)')

          if (theme === undefined) {
            if (mediaQueryLight.matches) activateLightMode()
            else if (mediaQueryDark.matches) activateDarkMode()
            else {
              const hour = new Date().getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            mediaQueryDark.addEventListener('change', () => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else {
            theme === 'light' ? activateLightMode() : activateDarkMode()
          }
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":false,"top_n_per_article":1,"unescape":false,"pagination":{"enable":true,"hitsPerPage":8},"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":400,"highlightFullpage":true,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":150,"languages":{"author":"作者: TeaTang","link":"链接: ","source":"来源: 1024 维度","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '以太坊Layer2扩容方案详解：Web3规模化的关键路径',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="preconnect" href="https://jsd.012700.xyz"><link href="/self/btf.css" rel="stylesheet"><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="1024 维度" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/loading.gif" data-lazy-src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">154</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">151</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">55</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 我的轨迹</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/2023/"><i class="fa-fw fa-solid fa-bug"></i><span> 2023</span></a></li><li><a class="site-page child" href="/archives/2024/"><i class="fa-fw fa-solid fa-code"></i><span> 2024</span></a></li><li><a class="site-page child" href="/archives/2025/"><i class="fa-fw fa-solid fa-network-wired"></i><span> 2025</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa-solid fa-calendar-days"></i><span> 时间线</span></a></div><div class="menus_item"><a class="site-page" href="/shuoshuo"><i class="fa-fw fas fa-comment"></i><span> 说说</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image: url(/img/cover/default_cover-09.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">1024 维度</span></a><a class="nav-page-title" href="/"><span class="site-name">以太坊Layer2扩容方案详解：Web3规模化的关键路径</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 我的轨迹</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/2023/"><i class="fa-fw fa-solid fa-bug"></i><span> 2023</span></a></li><li><a class="site-page child" href="/archives/2024/"><i class="fa-fw fa-solid fa-code"></i><span> 2024</span></a></li><li><a class="site-page child" href="/archives/2025/"><i class="fa-fw fa-solid fa-network-wired"></i><span> 2025</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa-solid fa-calendar-days"></i><span> 时间线</span></a></div><div class="menus_item"><a class="site-page" href="/shuoshuo"><i class="fa-fw fas fa-comment"></i><span> 说说</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">以太坊Layer2扩容方案详解：Web3规模化的关键路径</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon far fa-calendar-alt"></i><span class="post-meta-label">发表于</span><time datetime="2024-11-06T22:24:00.000Z" title="发表于 2024-11-07 06:24:00">2024-11-07</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Web3-0/">Web3.0</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Web3-0/ETH/">ETH</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">3.5k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>11分钟</span></span><span class="post-meta-separator">|</span><span id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="umamiPV" data-path="/2024/2024-11-07_%E4%BB%A5%E5%A4%AA%E5%9D%8ALayer2%E6%89%A9%E5%AE%B9%E6%96%B9%E6%A1%88%E8%AF%A6%E8%A7%A3%EF%BC%9AWeb3%E8%A7%84%E6%A8%A1%E5%8C%96%E7%9A%84%E5%85%B3%E9%94%AE%E8%B7%AF%E5%BE%84/"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><blockquote>
<p>以太坊，作为全球最具影响力的智能合约平台，承载了绝大多数的去中心化应用 (dApps)。然而，其底层主链 (Layer1) 的设计在保证去中心化和安全性的同时，也带来了扩展性瓶颈：有限的交易吞吐量（约 15-30 TPS）和高峰期高昂的交易费用（Gas Fee）。这些限制严重阻碍了以太坊生态的进一步发展和 Web3 的大规模普及。</p>
<p>为此，<strong>Layer2 扩容方案</strong>应运而生，成为了解决以太坊扩展性问题的核心策略。Layer2 是构建在以太坊主链之上的一层网络，它通过在链下处理大部分交易，并将处理结果定期提交回 Layer1，从而大幅提升交易速度并降低成本，同时继承 Layer1 的安全性。</p>
</blockquote>
<hr>
<h2 id="1-引言：Layer1-的局限与-Layer2-的诞生"><a href="#1-引言：Layer1-的局限与-Layer2-的诞生" class="headerlink" title="1. 引言：Layer1 的局限与 Layer2 的诞生"></a>1. 引言：Layer1 的局限与 Layer2 的诞生</h2><h3 id="1-1-以太坊-Layer1-的“不可能三角”"><a href="#1-1-以太坊-Layer1-的“不可能三角”" class="headerlink" title="1.1 以太坊 Layer1 的“不可能三角”"></a>1.1 以太坊 Layer1 的“不可能三角”</h3><p>区块链技术面临着著名的“不可能三角”困境：去中心化 (Decentralization)、安全性 (Security)、可扩展性 (Scalability) 三者难以同时兼顾。以太坊 Layer1 优先选择了去中心化和安全性，这意味着其在可扩展性上做出了牺牲。</p>
<ul>
<li><strong>低吞吐量</strong>：平均约 15-30 笔交易&#x2F;秒 (TPS)。</li>
<li><strong>高 Gas 费用</strong>：网络繁忙时，交易费用急剧飙升，使普通用户难以承受。</li>
<li><strong>交易确认慢</strong>：交易需等待多区块确认。</li>
</ul>
<p>这些问题极大地限制了大规模应用（如 DeFi、游戏、NFT）在以太坊上的发展和用户体验。</p>
<h3 id="1-2-Layer2-的核心思想"><a href="#1-2-Layer2-的核心思想" class="headerlink" title="1.2 Layer2 的核心思想"></a>1.2 Layer2 的核心思想</h3><p>Layer2 方案的核心思想是：<strong>将大部分计算和状态存储从 Layer1 移到 Layer2 进行，而 Layer1 主要负责数据可用性、安全性和最终结算</strong>。这样既能继承以太坊 L1 的强大安全性，又能实现数千甚至数万 TPS 的处理能力，并大幅降低交易成本。</p>
<h2 id="2-Layer2-扩容方案的分类与原理"><a href="#2-Layer2-扩容方案的分类与原理" class="headerlink" title="2. Layer2 扩容方案的分类与原理"></a>2. Layer2 扩容方案的分类与原理</h2><p>Layer2 方案种类繁多，但主要可以分为以下几大类：</p>
<h3 id="2-1-Rollup-核心解决方案"><a href="#2-1-Rollup-核心解决方案" class="headerlink" title="2.1 Rollup (核心解决方案)"></a>2.1 Rollup (核心解决方案)</h3><p>Rollup 是目前被社区公认为以太坊长期扩容的最佳方案。它将数百甚至数千笔链下交易打包成一个批次 (Rollup Block)，将其压缩，然后将压缩后的数据和验证信息（或计算证明）发布到以太坊 Layer1，由 Layer1 负责数据的存储和最终性。根据验证交易有效性的方式，Rollup 又分为两种主要类型：</p>
<h4 id="2-1-1-Optimistic-Rollup-乐观-Rollup"><a href="#2-1-1-Optimistic-Rollup-乐观-Rollup" class="headerlink" title="2.1.1 Optimistic Rollup (乐观 Rollup)"></a>2.1.1 Optimistic Rollup (乐观 Rollup)</h4><ul>
<li><strong>工作原理</strong>：<ul>
<li>默认所有提交到 Layer1 的交易批量都是有效的（“乐观”地假设）。</li>
<li>存在一个**“争议期” (Challenge Period)<strong>，通常为7天。在此期间，如果有人发现提交的交易批次有误（即包含欺诈），可以提交</strong>“欺诈证明” (Fraud Proof)**。</li>
<li>如果欺诈被证实，作恶者将受到惩罚，错误的交易将被回滚。</li>
</ul>
</li>
<li><strong>优点</strong>：<ul>
<li><strong>EVM 兼容性高</strong>：通常能实现 EVM 等效或兼容，便于现有 dApps 迁移。</li>
<li><strong>开发难度相对较低</strong>：更容易实现和部署。</li>
</ul>
</li>
<li><strong>缺点</strong>：<ul>
<li><strong>7天提款延迟</strong>：为了等待争议期结束，从 Optimistic Rollup L2 提款到 L1 需要等待约7天。</li>
<li><strong>需要活跃的验证者</strong>：安全性依赖于至少有一个诚实的验证者来检测欺诈。</li>
</ul>
</li>
<li><strong>代表项目</strong>：Arbitrum、Optimism。</li>
</ul>
<h4 id="2-1-2-ZK-Rollup-零知识-Rollup"><a href="#2-1-2-ZK-Rollup-零知识-Rollup" class="headerlink" title="2.1.2 ZK Rollup (零知识 Rollup)"></a>2.1.2 ZK Rollup (零知识 Rollup)</h4><ul>
<li><strong>工作原理</strong>：<ul>
<li>在 Layer2 执行交易后，生成一个**“零知识证明” (Zero-Knowledge Proof)** 来证明所有交易都是有效且正确执行的。</li>
<li>这个零知识证明（如 SNARK 或 STARK）连同压缩后的交易数据一起提交到 Layer1。</li>
<li>Layer1 的智能合约会验证这个零知识证明的有效性。一旦证明通过验证，交易就被认为是最终且不可逆的。</li>
</ul>
</li>
<li><strong>优点</strong>：<ul>
<li><strong>即时最终性</strong>：一旦零知识证明在 L1 上被验证，L2 上的交易就立即具有最终性，无需争议期。</li>
<li><strong>更高的安全性</strong>：安全性基于密码学而非经济激励（欺诈证明），理论上更强。</li>
<li><strong>数据量更小</strong>：提交到 Layer1 的数据量（主要是证明）通常比 Optimistic Rollup 更小。</li>
</ul>
</li>
<li><strong>缺点</strong>：<ul>
<li><strong>EVM 兼容性挑战</strong>：生成零知识证明的计算成本高昂，且要使其与 EVM 完全兼容技术难度极大。</li>
<li><strong>技术复杂性高</strong>：开发和部署更具挑战性，目前仍处于快速发展阶段。</li>
</ul>
</li>
<li><strong>代表项目</strong>：zkSync Era、StarkNet、Polygon zkEVM、Scroll。</li>
</ul>
<h3 id="2-2-侧链-Sidechains"><a href="#2-2-侧链-Sidechains" class="headerlink" title="2.2 侧链 (Sidechains)"></a>2.2 侧链 (Sidechains)</h3><ul>
<li><strong>工作原理</strong>：独立于以太坊主链运行的区块链，有自己的共识机制（如 PoS、PoA）。它们通过双向桥与以太坊主链连接，允许资产在 L1 和侧链之间转移。</li>
<li><strong>优点</strong>：<ul>
<li><strong>高度可扩展</strong>：拥有独立的吞吐量。</li>
<li><strong>EVM 兼容</strong>：通常与 EVM 兼容。</li>
</ul>
</li>
<li><strong>缺点</strong>：<ul>
<li><strong>安全性独立</strong>：侧链的安全性由其自身的共识机制保证，不直接继承以太坊 L1 的安全性。如果侧链被攻击，L1 上的资产可能面临风险。</li>
<li><strong>去中心化程度不一</strong>：多数侧链的去中心化程度不如以太坊 L1。</li>
</ul>
</li>
<li><strong>代表项目</strong>：Polygon PoS (旧核心产品，但 Polygon 也在积极转型 ZK 技术)、Skale。</li>
</ul>
<h3 id="2-3-Plasma"><a href="#2-3-Plasma" class="headerlink" title="2.3 Plasma"></a>2.3 Plasma</h3><ul>
<li><strong>工作原理</strong>：一个树状结构的链下框架，由一系列子链组成，将交易分发到子链进行处理。每条子链都有自己的区块，并定期将根哈希提交到主链。用户可以随时通过欺诈证明将其资金退出到 L1。</li>
<li><strong>优点</strong>：<ul>
<li><strong>高吞吐量</strong>：理论上可以实现极高的 TPS。</li>
</ul>
</li>
<li><strong>缺点</strong>：<ul>
<li><strong>功能受限</strong>：不支持通用智能合约，主要用于代币转账。</li>
<li><strong>复杂的用户提款流程</strong>：提款过程复杂且可能需要等待较长时间，若子链数据不可用，用户退出需自证无罪 (mass exit)。</li>
</ul>
</li>
<li><strong>代表项目</strong>：已基本被 Rollup 方案取代，不再是主流方向。</li>
</ul>
<h3 id="2-4-状态通道-State-Channels"><a href="#2-4-状态通道-State-Channels" class="headerlink" title="2.4 状态通道 (State Channels)"></a>2.4 状态通道 (State Channels)</h3><ul>
<li><strong>工作原理</strong>：通过在链上锁定资产，将用户之间的多笔交易转移到链下进行，只有在最终结算时才将最终状态提交到主链。</li>
<li><strong>优点</strong>：<ul>
<li><strong>即时确认、零费用</strong>：链下交易几乎是即时且免费的。</li>
<li><strong>高度隐私</strong>：链下交易不对外公开。</li>
</ul>
</li>
<li><strong>缺点</strong>：<ul>
<li><strong>需要在线</strong>：参与者需要保持在线才能保证资金安全。</li>
<li><strong>适用于特定场景</strong>：多用于双边或多边小额、高频交易（如游戏、支付），不适合通用智能合约和开放式 DeFi。</li>
</ul>
</li>
<li><strong>代表项目</strong>：闪电网络 (Lightning Network，比特币的方案)、Raiden Network (以太坊方案，但未大规模普及)。</li>
</ul>
<h2 id="3-主流-Rollup-方案详解"><a href="#3-主流-Rollup-方案详解" class="headerlink" title="3. 主流 Rollup 方案详解"></a>3. 主流 Rollup 方案详解</h2><h3 id="3-1-Optimistic-Rollup-代表：Arbitrum-和-Optimism"><a href="#3-1-Optimistic-Rollup-代表：Arbitrum-和-Optimism" class="headerlink" title="3.1 Optimistic Rollup 代表：Arbitrum 和 Optimism"></a>3.1 Optimistic Rollup 代表：Arbitrum 和 Optimism</h3><h4 id="共性特点"><a href="#共性特点" class="headerlink" title="共性特点"></a>共性特点</h4><ul>
<li><strong>高 EVM 兼容性</strong>：允许开发者轻松迁移现有的 dApps。</li>
<li><strong>通过“欺诈证明”保障安全性</strong>：依靠参与者提交欺诈证明来确保链下执行的正确性。</li>
<li><strong>7天提款期</strong>：为了给争议期留出时间，从 Layer2 提款到 Layer1 需要等待大约7天。</li>
</ul>
<h4 id="Arbitrum-的特点"><a href="#Arbitrum-的特点" class="headerlink" title="Arbitrum 的特点"></a>Arbitrum 的特点</h4><ul>
<li><strong>开发公司</strong>：Offchain Labs。</li>
<li><strong>EVM 等效性</strong>：非常高的 EVM 效仿程度，几乎可以直接部署任何以太坊合约。</li>
<li><strong>交互式欺诈证明</strong>：通过多轮交互式游戏来最小化链上验证的成本。</li>
<li><strong>产品线</strong>：除了 Arbitrum One (主打安全性和兼容性)，还有 Arbitrum Nova (基于 AnyTrust 技术，主打极低成本和高吞吐量，适合游戏和社交)，以及 Arbitrum Orbit (可定制的 L3)。</li>
<li><strong>代币</strong>：ARB (治理代币)。</li>
</ul>
<h4 id="Optimism-的特点"><a href="#Optimism-的特点" class="headerlink" title="Optimism 的特点"></a>Optimism 的特点</h4><ul>
<li><strong>开发公司</strong>：Optimism Foundation。</li>
<li><strong>EVM 等效性</strong>：也提供高度的 EVM 等效性。</li>
<li><strong>单轮欺诈证明</strong>：相对 Arbitrum 的多轮，Optimism 欺诈证明在 L1 上验证成本更高但更简单。</li>
<li><strong>产品线</strong>：提供 Optimism Collective (由 Token House 和 Citizens’ House 组成的治理系统) 和 OP Stack (模块化代码库，允许其他 Rollup 链 (如 Base、Zora Network) 轻松基于其构建)。</li>
<li><strong>代币</strong>：OP (治理代币)。</li>
</ul>
<h4 id="面临的挑战"><a href="#面临的挑战" class="headerlink" title="面临的挑战"></a>面临的挑战</h4><ul>
<li><strong>提款延迟</strong>：7天的提款期是其主要的用户体验瓶颈。</li>
<li><strong>排序器中心化</strong>：目前主流 Optimistic Rollup 的排序器仍由开发团队运行，存在潜在的审查风险和中心化问题，但都在积极推进去中心化路线图。</li>
</ul>
<h3 id="3-2-ZK-Rollup-代表：zkSync-Era-StarkNet-和-Polygon-zkEVM"><a href="#3-2-ZK-Rollup-代表：zkSync-Era-StarkNet-和-Polygon-zkEVM" class="headerlink" title="3.2 ZK Rollup 代表：zkSync Era, StarkNet 和 Polygon zkEVM"></a>3.2 ZK Rollup 代表：zkSync Era, StarkNet 和 Polygon zkEVM</h3><h4 id="共性特点-1"><a href="#共性特点-1" class="headerlink" title="共性特点"></a>共性特点</h4><ul>
<li><strong>即时最终性</strong>：一旦零知识证明在 Layer1 被验证，交易结果立即确定。</li>
<li><strong>无需提款延迟</strong>：用户可以立即将资金从 Layer2 提取到 Layer1。</li>
<li><strong>更高的密码学安全性</strong>：基于数学证明而非博弈论。</li>
</ul>
<h4 id="zkSync-Era-的特点"><a href="#zkSync-Era-的特点" class="headerlink" title="zkSync Era 的特点"></a>zkSync Era 的特点</h4><ul>
<li><strong>开发公司</strong>：Matter Labs。</li>
<li><strong>EVM 兼容性</strong>：目标是实现 EVM 兼容性，允许开发者迁移现有 Solidity 代码。被称为“zkEVM 1 型” (即完全等效以太坊协议)。</li>
<li><strong>原生账户抽象</strong>：支持账户抽象，增强用户体验和可编程性。</li>
<li><strong>代币</strong>：ZkSync (尚未发行，预期)。</li>
</ul>
<h4 id="StarkNet-的特点"><a href="#StarkNet-的特点" class="headerlink" title="StarkNet 的特点"></a>StarkNet 的特点</h4><ul>
<li><strong>开发公司</strong>：StarkWare。</li>
<li><strong>编程语言</strong>：基于 Cairo 语言，不完全兼容 EVM，需要学习新的开发语言，但提供了强大的可扩展性。</li>
<li><strong>性能优越</strong>：STARK 证明在处理大规模计算时具有卓越的性能。</li>
<li><strong>代币</strong>：STRK (治理代币)。</li>
</ul>
<h4 id="Polygon-zkEVM-的特点"><a href="#Polygon-zkEVM-的特点" class="headerlink" title="Polygon zkEVM 的特点"></a>Polygon zkEVM 的特点</h4><ul>
<li><strong>开发公司</strong>：Polygon Labs (原 Polygon PoS 团队)。</li>
<li><strong>EVM 兼容性</strong>：高度兼容 EVM，允许开发者直接用 Solidity 部署合约，被称为“zkEVM 2 型” (即完全等效 EVM 字节码)。</li>
<li><strong>强大的生态支持</strong>：背靠 Polygon 庞大的生态系统和社区。</li>
<li><strong>代币</strong>：MATIC&#x2F;POL (Polygon 原生代币，用于支付 Gas 费和治理)。</li>
</ul>
<h4 id="面临的挑战-1"><a href="#面临的挑战-1" class="headerlink" title="面临的挑战"></a>面临的挑战</h4><ul>
<li><strong>技术复杂性</strong>：ZK 证明的生成和验证计算成本高昂，且开发难度大。</li>
<li><strong>EVM 兼容性</strong>：虽然都在努力实现 EVM 兼容，但不同项目在这方面的完成度、效率和成本仍有差异。</li>
<li><strong>生态建设</strong>：相较于 Optimistic Rollup，ZK Rollup 的生态系统仍处于早期阶段，需要时间发展。</li>
</ul>
<h2 id="4-Danksharding-与以太坊“合并”后的-Layer2-愿景"><a href="#4-Danksharding-与以太坊“合并”后的-Layer2-愿景" class="headerlink" title="4. Danksharding 与以太坊“合并”后的 Layer2 愿景"></a>4. Danksharding 与以太坊“合并”后的 Layer2 愿景</h2><p>以太坊的“合并” (The Merge) 升级将共识机制从 PoW 切换到 PoS，大大降低了能耗，但并未直接提升 Layer1 的吞吐量。以太坊的 Layer1 扩容主要依赖未来的 Danksharding 方案。</p>
<h3 id="4-1-Danksharding-的作用"><a href="#4-1-Danksharding-的作用" class="headerlink" title="4.1 Danksharding 的作用"></a>4.1 Danksharding 的作用</h3><p>Danksharding 是以太坊未来分片 (Sharding) 方案的统称，主要目标是提升数据可用性，为 Rollup 提供廉价、充足的数据存储空间。它不会直接在 Layer1 执行更多交易，而是确保 Rollup 上的交易数据可以可靠地发布到 Layer1。</p>
<h3 id="4-2-EIP-4844-Proto-Danksharding"><a href="#4-2-EIP-4844-Proto-Danksharding" class="headerlink" title="4.2 EIP-4844 (Proto-Danksharding)"></a>4.2 EIP-4844 (Proto-Danksharding)</h3><ul>
<li><strong>核心内容</strong>：引入一种新的交易类型 <strong>“Blob 交易”</strong>，专门用于存储 Rollup 的交易数据。Blobs 是一种临时性的数据存储，比普通 Layer1 calldata 更便宜，且在一段时间后会被修剪。</li>
<li><strong>作用</strong>：Proto-Danksharding 将大幅降低 Rollup 将交易数据发布到 Layer1 的成本，从而间接降低了 Rollup 上的 Gas 费用。</li>
<li><strong>未来影响</strong>：这是 Danksharding 的第一步，将为未来完整的 Danksharding 奠定基础，使 Layer2 能够处理海量交易。</li>
</ul>
<h3 id="4-3-Layer2-与以太坊未来发展蓝图"><a href="#4-3-Layer2-与以太坊未来发展蓝图" class="headerlink" title="4.3 Layer2 与以太坊未来发展蓝图"></a>4.3 Layer2 与以太坊未来发展蓝图</h3><p>以太坊的未来发展战略是“以 Rollup 为中心” (Rollup-centric)。这意味着以太坊 Layer1 将专注于核心的安全性、去中心化和数据可用性，而 Layer2 则将承担绝大部分的交易执行和应用逻辑。通过 L1 和 L2 的协同作用，以太坊有望实现“全民可用的全球计算机”愿景。</p>
<h2 id="5-Layer2-的挑战与风险"><a href="#5-Layer2-的挑战与风险" class="headerlink" title="5. Layer2 的挑战与风险"></a>5. Layer2 的挑战与风险</h2><h3 id="5-1-碎片化与互操作性"><a href="#5-1-碎片化与互操作性" class="headerlink" title="5.1 碎片化与互操作性"></a>5.1 碎片化与互操作性</h3><ul>
<li><strong>挑战</strong>：Layer2 解决方案众多，各自有其生态系统和流动性。不同 L2 之间的资产和信息转移仍然复杂且昂贵，导致流动性碎片化。</li>
<li><strong>风险</strong>：用户体验不佳，阻碍生态的整体发展。</li>
</ul>
<h3 id="5-2-中心化风险-排序器、多签等"><a href="#5-2-中心化风险-排序器、多签等" class="headerlink" title="5.2 中心化风险 (排序器、多签等)"></a>5.2 中心化风险 (排序器、多签等)</h3><ul>
<li><strong>挑战</strong>：许多 Layer2 方案在早期阶段，其排序器 (Sequencer) 或升级权限仍由开发团队控制，存在单点故障、审查风险和中心化风险。</li>
<li><strong>风险</strong>：可能被恶意利用，或受到外部攻击。</li>
<li><strong>应对</strong>：项目方正在积极推动去中心化排序器、多签钱包升级等措施。</li>
</ul>
<h3 id="5-3-用户体验与学习成本"><a href="#5-3-用户体验与学习成本" class="headerlink" title="5.3 用户体验与学习成本"></a>5.3 用户体验与学习成本</h3><ul>
<li><strong>挑战</strong>：从 Layer1 桥接到 Layer2、理解不同 Layer2 的提款机制、管理多链钱包等，对普通用户来说仍有较高的学习门槛。</li>
<li><strong>风险</strong>：阻碍 Web3 的大规模普及。</li>
</ul>
<h3 id="5-4-激励机制与可持续发展"><a href="#5-4-激励机制与可持续发展" class="headerlink" title="5.4 激励机制与可持续发展"></a>5.4 激励机制与可持续发展</h3><ul>
<li><strong>挑战</strong>：如何在竞争激烈的市场中，持续吸引开发者、用户和流动性，同时保持经济模型的合理性和可持续性。</li>
<li><strong>风险</strong>：缺乏有效的激励机制可能导致项目停滞或用户流失。</li>
</ul>
<h2 id="6-总结"><a href="#6-总结" class="headerlink" title="6. 总结"></a>6. 总结</h2><p>以太坊的 Layer2 扩容方案不仅仅是技术上的优化，更是其实现大规模应用和 Web3 愿景的关键路径。Optimistic Rollup 和 ZK Rollup 作为两大主流技术范式，各自在 EVM 兼容性、安全性、速度和成本之间寻求最佳平衡，并都在通过技术迭代不断完善。</p>
<p>随着以太坊 <strong>Dencun 升级 (EIP-4844)</strong> 的落地，Rollup 的费用将显著降低，有望进一步加速其发展。未来，我们可能会看到一个由众多 L2 网络构成的多链生态系统，它们共享以太坊 L1 的最终结算层和安全性，共同构建一个更具可扩展性和可访问性的 Web3 世界。理解 Layer2 的运作机制、优势和挑战，对于把握以太坊生态的未来至关重要。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://blog.tbf1211.xx.kg">TeaTang</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://blog.tbf1211.xx.kg/2024/2024-11-07_%E4%BB%A5%E5%A4%AA%E5%9D%8ALayer2%E6%89%A9%E5%AE%B9%E6%96%B9%E6%A1%88%E8%AF%A6%E8%A7%A3%EF%BC%9AWeb3%E8%A7%84%E6%A8%A1%E5%8C%96%E7%9A%84%E5%85%B3%E9%94%AE%E8%B7%AF%E5%BE%84/">https://blog.tbf1211.xx.kg/2024/2024-11-07_%E4%BB%A5%E5%A4%AA%E5%9D%8ALayer2%E6%89%A9%E5%AE%B9%E6%96%B9%E6%A1%88%E8%AF%A6%E8%A7%A3%EF%BC%9AWeb3%E8%A7%84%E6%A8%A1%E5%8C%96%E7%9A%84%E5%85%B3%E9%94%AE%E8%B7%AF%E5%BE%84/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://blog.tbf1211.xx.kg" target="_blank">1024 维度</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/2024/">2024</a><a class="post-meta__tags" href="/tags/Web3-0/">Web3.0</a><a class="post-meta__tags" href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/">区块链</a><a class="post-meta__tags" href="/tags/%E5%8E%BB%E4%B8%AD%E5%BF%83%E5%8C%96/">去中心化</a><a class="post-meta__tags" href="/tags/ETH/">ETH</a></div><div class="post-share"><div class="social-share" data-image="/img/cover/default_cover-09.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2024/2024-11-10_ETH%20Arbitrum%E8%AF%A6%E8%A7%A3%EF%BC%9A%E4%BB%A5%E5%A4%AA%E5%9D%8ALayer2%E6%89%A9%E5%AE%B9%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E7%9A%84%E4%BD%BC%E4%BD%BC%E8%80%85/" title="ETH Arbitrum详解：以太坊Layer2扩容解决方案的佼佼者"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-03.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">ETH Arbitrum详解：以太坊Layer2扩容解决方案的佼佼者</div></div><div class="info-2"><div class="info-item-1"> Arbitrum 是以太坊上一个领先的 Layer 2 (L2) 扩容解决方案，也是第一个实际运行的 Optimistic Rollup。它旨在通过将大量交易的计算和存储移到二层网络上进行处理，然后将 L2 交易结果汇总并提交到以太坊主网 (Layer 1)，从而显著提高以太坊的交易吞吐量、降低交易费用，同时继承以太坊的安全性。  核心思想：在二层网络处理交易，批量提交摘要到一层网络，通过欺诈证明 (Fraud Proof) 在一段时间内允许质疑，保证最终一致性。   一、为什么需要 Arbitrum？以太坊的扩容困境以太坊是目前最去中心化且安全的智能合约平台之一，但其当前（特别是 PoW 或早期的 PoS 阶段）面临着严重的扩容问题：  低吞吐量 (Scalability)：每秒交易量（Tx&#x2F;s）有限（约 15-30 Tx&#x2F;s），无法满足大规模应用的需求。 高 Gas 费用 (High Fees)：网络拥堵直接导致交易成本飙升，使得普通用户难以负担。 交易确认慢 (Latency)：在网络繁忙时，交易可能需要等待较长时间才能被确认。  Layer 2 解决...</div></div></div></a><a class="pagination-related" href="/2024/2024-11-05_Web3%E8%A7%84%E6%A8%A1%E5%8C%96%E8%AF%A6%E8%A7%A3%EF%BC%9A%E5%AE%9E%E7%8E%B0%E4%B8%8B%E4%B8%80%E4%BB%A3%E4%BA%92%E8%81%94%E7%BD%91%E6%84%BF%E6%99%AF%E7%9A%84%E6%8C%91%E6%88%98%E4%B8%8E%E8%B7%AF%E5%BE%84/" title="Web3规模化详解：实现下一代互联网愿景的挑战与路径"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-05.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">Web3规模化详解：实现下一代互联网愿景的挑战与路径</div></div><div class="info-2"><div class="info-item-1"> Web3，作为下一代互联网的愿景，承载着去中心化、用户所有权和开放性等核心理念。它旨在打破少数中心化巨头对数据和权力垄断的格局，将互联网的控制权重新交还给用户。然而，要实现 Web3 的大规模普及和应用，仅仅有理想是远远不够的，其底层技术（主要是区块链）目前在规模化 (Scalability) 方面仍面临严峻挑战。  Web3 规模化，指的是区块链网络和去中心化应用 (dApps) 在保持去中心化和安全性的前提下，处理海量用户和交易的能力。它是 Web3 从小众技术走向主流应用，从概念走向实际落地的必经之路。   目录 引言：Web3 愿景与规模化困境 1.1 Web3 的核心理念 1.2 现有 Web3 基础设施的局限性   Web3 规模化的核心挑战 2.1 区块链的“不可能三角” 2.2 高昂的交易成本 (Gas Fee) 2.3 低下的交易吞吐量 (TPS) 2.4 糟糕的用户体验 (UX) 2.5 数据存储与可用性问题   Web3 规模化的主要技术路径 3.1 Layer1 (主链) 优化 3.1.1 共识机制改进 (PoS、DPoS) 3.1.2 分片技术 (Sh...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2024/2024-11-10_ETH%20Arbitrum%E8%AF%A6%E8%A7%A3%EF%BC%9A%E4%BB%A5%E5%A4%AA%E5%9D%8ALayer2%E6%89%A9%E5%AE%B9%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E7%9A%84%E4%BD%BC%E4%BD%BC%E8%80%85/" title="ETH Arbitrum详解：以太坊Layer2扩容解决方案的佼佼者"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-03.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-11-10</div><div class="info-item-2">ETH Arbitrum详解：以太坊Layer2扩容解决方案的佼佼者</div></div><div class="info-2"><div class="info-item-1"> Arbitrum 是以太坊上一个领先的 Layer 2 (L2) 扩容解决方案，也是第一个实际运行的 Optimistic Rollup。它旨在通过将大量交易的计算和存储移到二层网络上进行处理，然后将 L2 交易结果汇总并提交到以太坊主网 (Layer 1)，从而显著提高以太坊的交易吞吐量、降低交易费用，同时继承以太坊的安全性。  核心思想：在二层网络处理交易，批量提交摘要到一层网络，通过欺诈证明 (Fraud Proof) 在一段时间内允许质疑，保证最终一致性。   一、为什么需要 Arbitrum？以太坊的扩容困境以太坊是目前最去中心化且安全的智能合约平台之一，但其当前（特别是 PoW 或早期的 PoS 阶段）面临着严重的扩容问题：  低吞吐量 (Scalability)：每秒交易量（Tx&#x2F;s）有限（约 15-30 Tx&#x2F;s），无法满足大规模应用的需求。 高 Gas 费用 (High Fees)：网络拥堵直接导致交易成本飙升，使得普通用户难以负担。 交易确认慢 (Latency)：在网络繁忙时，交易可能需要等待较长时间才能被确认。  Layer 2 解决...</div></div></div></a><a class="pagination-related" href="/2024/2024-11-05_Web3%E8%A7%84%E6%A8%A1%E5%8C%96%E8%AF%A6%E8%A7%A3%EF%BC%9A%E5%AE%9E%E7%8E%B0%E4%B8%8B%E4%B8%80%E4%BB%A3%E4%BA%92%E8%81%94%E7%BD%91%E6%84%BF%E6%99%AF%E7%9A%84%E6%8C%91%E6%88%98%E4%B8%8E%E8%B7%AF%E5%BE%84/" title="Web3规模化详解：实现下一代互联网愿景的挑战与路径"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-05.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-11-05</div><div class="info-item-2">Web3规模化详解：实现下一代互联网愿景的挑战与路径</div></div><div class="info-2"><div class="info-item-1"> Web3，作为下一代互联网的愿景，承载着去中心化、用户所有权和开放性等核心理念。它旨在打破少数中心化巨头对数据和权力垄断的格局，将互联网的控制权重新交还给用户。然而，要实现 Web3 的大规模普及和应用，仅仅有理想是远远不够的，其底层技术（主要是区块链）目前在规模化 (Scalability) 方面仍面临严峻挑战。  Web3 规模化，指的是区块链网络和去中心化应用 (dApps) 在保持去中心化和安全性的前提下，处理海量用户和交易的能力。它是 Web3 从小众技术走向主流应用，从概念走向实际落地的必经之路。   目录 引言：Web3 愿景与规模化困境 1.1 Web3 的核心理念 1.2 现有 Web3 基础设施的局限性   Web3 规模化的核心挑战 2.1 区块链的“不可能三角” 2.2 高昂的交易成本 (Gas Fee) 2.3 低下的交易吞吐量 (TPS) 2.4 糟糕的用户体验 (UX) 2.5 数据存储与可用性问题   Web3 规模化的主要技术路径 3.1 Layer1 (主链) 优化 3.1.1 共识机制改进 (PoS、DPoS) 3.1.2 分片技术 (Sh...</div></div></div></a><a class="pagination-related" href="/2023/2023-05-18_%E4%BB%A5%E5%A4%AA%E5%9D%8A%E4%B8%8EVitalik%20Buterin%EF%BC%9A%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E4%B8%8E%E5%8E%BB%E4%B8%AD%E5%BF%83%E5%8C%96%E4%B8%96%E7%95%8C%E7%9A%84%E5%BC%80%E5%88%9B/" title="以太坊与Vitalik Buterin：智能合约与去中心化世界的开创"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-20.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-05-18</div><div class="info-item-2">以太坊与Vitalik Buterin：智能合约与去中心化世界的开创</div></div><div class="info-2"><div class="info-item-1"> 以太坊（Ethereum） 是一个开源的、全球分布式的区块链平台，它不仅是数字货币，更是一个可编程的区块链，被称为“世界计算机”。相对于比特币的单一数字黄金功能，以太坊通过引入智能合约（Smart Contracts） 的概念，使得开发者可以在其上构建和部署各种去中心化应用程序（DApps），从而开创了区块链技术更广阔的应用前景。而这一切的起点，都离不开其天才般的创始人——维塔利克·布特林（Vitalik Buterin）。  核心意义：以太坊通过图灵完备的智能合约，将区块链从单一的数字货币系统扩展为灵活的计算平台，开启了去中心化应用的时代。   一、Vitalik Buterin 的早期：从游戏玩家到比特币布道者1.1 少年的困惑与比特币的启发 出生与成长：Vitalik Buterin 于 1994 年出生在俄罗斯，6 岁时随家人移居加拿大。他从小就展现出非凡的数学和编程天赋，以及对社会科学和经济学的浓厚兴趣。 魔兽世界的启示：少年时期，Vitalik 沉迷于《魔兽世界》。当暴雪公司在一次更新中修改了他角色的技能，他感到非常愤怒，这次经历让他第一次认识到中心化系统可能带来的...</div></div></div></a><a class="pagination-related" href="/2023/2023-07-20_%E4%BB%A5%E5%A4%AA%E5%9D%8A%EF%BC%88Ethereum%EF%BC%89%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E6%B7%B1%E5%BA%A6%E8%A7%A3%E6%9E%90/" title="以太坊（Ethereum）智能合约深度解析"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-10.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-07-20</div><div class="info-item-2">以太坊（Ethereum）智能合约深度解析</div></div><div class="info-2"><div class="info-item-1"> 以太坊（Ethereum）作为全球领先的智能合约平台，开创了“可编程区块链”的时代。智能合约是其核心基石，它让开发者能够在区块链上构建去中心化应用（DApp），实现各种复杂的逻辑而无需信任第三方。本文将深入探讨以太坊智能合约的各个层面，包括其定义、工作原理、开发语言、生命周期以及关键特性。  “智能合约是运行在区块链上的代码，它在特定条件下自动执行预设的协议条款。”   一、什么是智能合约？智能合约（Smart Contract）由尼克·萨博（Nick Szabo）在1994年首次提出，他将其描述为“一个数字化的，可以自我执行协议的计算机交易协议”。在区块链语境下，特别是以太坊中，智能合约的含义更为具体：  代码与数据：智能合约是一段存储在以太坊区块链上的代码（用高级语言如 Solidity 编写，编译为 EVM 字节码）和一个地址，这个地址还存储着该合约的当前状态（数据）。 不可篡改：一旦部署到区块链上，合约的代码和数据都是不可篡改的。 自动执行：当满足预设的条件时，合约会根据其代码逻辑自动执行，无需人工干预。 无需信任：合约的执行结果由区块链网络中的所有节点共同验证，保证了...</div></div></div></a><a class="pagination-related" href="/2023/2023-04-19_%E6%AF%94%E7%89%B9%E5%B8%81%E4%B8%8E%E4%B8%AD%E6%9C%AC%E8%81%AA%EF%BC%9A%E4%B8%80%E5%9C%BA%E5%8A%A0%E5%AF%86%E4%B8%96%E7%95%8C%E7%9A%84%E5%88%9B%E4%B8%96%E7%BA%AA/" title="比特币与中本聪：一场加密世界的创世纪"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-06.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-04-19</div><div class="info-item-2">比特币与中本聪：一场加密世界的创世纪</div></div><div class="info-2"><div class="info-item-1"> 比特币（Bitcoin）是人类历史上第一个、也是最成功的去中心化数字货币。它的诞生不仅开创了一个全新的加密经济时代，更在全球范围内引发了一场关于货币、信任和权力本质的深刻讨论。而其神秘的创造者——中本聪（Satoshi Nakamoto），则成为了21世纪最富有传奇色彩的人物之一。  核心意义：比特币首次在没有中央机构的情况下，实现了可信的、点对点的数字现金系统，解决了数字货币的双重支付问题。   一、比特币诞生前的思想土壤：密码朋克运动比特币并非凭空出现，其思想源泉可以追溯到上世纪 80、90 年代的“密码朋克（Cypherpunk）”运动。 1.1 密码朋克的核心理念 隐私至上：坚信隐私是不可剥夺的人权，而密码学是保护隐私的强大工具。 去中心化：对中心化的权力（政府、银行、大公司）抱有怀疑，认为它们会侵蚀个人自由和隐私。 数字自由：认为在数字世界中，个人应该拥有与现实世界同等的自由。 密码学作为解放工具：通过加密技术，实现个人自由和对抗国家监控。  1.2 比特币的先行者在比特币之前，已经有许多密码朋克尝试构建数字现金系统，但都未能成功解决“双重支付（Double Spen...</div></div></div></a><a class="pagination-related" href="/2023/2023-05-03_%E5%8C%BA%E5%9D%97%E9%93%BE%E5%8E%9F%E7%90%86%E8%AF%A6%E8%A7%A3%EF%BC%9A%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%9F%B3%E4%B8%8E%E8%BF%90%E4%BD%9C%E6%9C%BA%E5%88%B6/" title="区块链原理详解：技术基石与运作机制"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-21.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-05-03</div><div class="info-item-2">区块链原理详解：技术基石与运作机制</div></div><div class="info-2"><div class="info-item-1"> 区块链（Blockchain） 是一种分布式账本技术（Distributed Ledger Technology, DLT），它以块（Block）的形式存储数据，并通过密码学方式将这些块连接成一个链（Chain）。其核心思想是去中心化、不可篡改、公开透明，允许多个参与方在没有中央机构的情况下，共同维护一个安全、可靠、同步的数据记录系统。区块链最初作为比特币的底层技术而闻名，但其应用已远超数字货币范畴，正在变革金融、供应链、物联网等多个领域。  核心思想：区块链通过将交易数据打包成块，使用加密哈希环环相扣，并在分布式网络中通过共识机制维护这一链式结构，从而确保了数据的不可篡改性、可追溯性和去中心化特性。   一、区块链的起源与核心问题在区块链出现之前，所有数字交易系统都依赖于中心化的机构（如银行、支付平台）来验证和记录交易。这种中心化模式存在固有问题：  单点故障：中心服务器一旦出现故障或被攻击，整个系统可能瘫痪或数据丢失。 信任成本：参与方必须信任中心机构，中心机构可能存在信息不对称、权力滥用、数据篡改等风险。 效率瓶颈：中心化系统的处理能力有限，且跨机构操作可能面临协调困难。...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/loading.gif" data-lazy-src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">TeaTang</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">154</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">151</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">55</div></a></div><a id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/teatang"><i class="fab fa-github"></i><span>GitHub主页</span></a><div class="card-info-social-icons"><a class="social-icon" href="mailto:tea.tang1211@gmail.com" rel="external nofollow noreferrer" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title="RSS"><i class="fas fa-rss"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">网站更多功能即将上线，敬请期待！</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%BC%95%E8%A8%80%EF%BC%9ALayer1-%E7%9A%84%E5%B1%80%E9%99%90%E4%B8%8E-Layer2-%E7%9A%84%E8%AF%9E%E7%94%9F"><span class="toc-text">1. 引言：Layer1 的局限与 Layer2 的诞生</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E4%BB%A5%E5%A4%AA%E5%9D%8A-Layer1-%E7%9A%84%E2%80%9C%E4%B8%8D%E5%8F%AF%E8%83%BD%E4%B8%89%E8%A7%92%E2%80%9D"><span class="toc-text">1.1 以太坊 Layer1 的“不可能三角”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-Layer2-%E7%9A%84%E6%A0%B8%E5%BF%83%E6%80%9D%E6%83%B3"><span class="toc-text">1.2 Layer2 的核心思想</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Layer2-%E6%89%A9%E5%AE%B9%E6%96%B9%E6%A1%88%E7%9A%84%E5%88%86%E7%B1%BB%E4%B8%8E%E5%8E%9F%E7%90%86"><span class="toc-text">2. Layer2 扩容方案的分类与原理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-Rollup-%E6%A0%B8%E5%BF%83%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="toc-text">2.1 Rollup (核心解决方案)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-1-Optimistic-Rollup-%E4%B9%90%E8%A7%82-Rollup"><span class="toc-text">2.1.1 Optimistic Rollup (乐观 Rollup)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-2-ZK-Rollup-%E9%9B%B6%E7%9F%A5%E8%AF%86-Rollup"><span class="toc-text">2.1.2 ZK Rollup (零知识 Rollup)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E4%BE%A7%E9%93%BE-Sidechains"><span class="toc-text">2.2 侧链 (Sidechains)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-Plasma"><span class="toc-text">2.3 Plasma</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-%E7%8A%B6%E6%80%81%E9%80%9A%E9%81%93-State-Channels"><span class="toc-text">2.4 状态通道 (State Channels)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E4%B8%BB%E6%B5%81-Rollup-%E6%96%B9%E6%A1%88%E8%AF%A6%E8%A7%A3"><span class="toc-text">3. 主流 Rollup 方案详解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-Optimistic-Rollup-%E4%BB%A3%E8%A1%A8%EF%BC%9AArbitrum-%E5%92%8C-Optimism"><span class="toc-text">3.1 Optimistic Rollup 代表：Arbitrum 和 Optimism</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B1%E6%80%A7%E7%89%B9%E7%82%B9"><span class="toc-text">共性特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Arbitrum-%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-text">Arbitrum 的特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Optimism-%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-text">Optimism 的特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%A2%E4%B8%B4%E7%9A%84%E6%8C%91%E6%88%98"><span class="toc-text">面临的挑战</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-ZK-Rollup-%E4%BB%A3%E8%A1%A8%EF%BC%9AzkSync-Era-StarkNet-%E5%92%8C-Polygon-zkEVM"><span class="toc-text">3.2 ZK Rollup 代表：zkSync Era, StarkNet 和 Polygon zkEVM</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B1%E6%80%A7%E7%89%B9%E7%82%B9-1"><span class="toc-text">共性特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#zkSync-Era-%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-text">zkSync Era 的特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#StarkNet-%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-text">StarkNet 的特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Polygon-zkEVM-%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-text">Polygon zkEVM 的特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%A2%E4%B8%B4%E7%9A%84%E6%8C%91%E6%88%98-1"><span class="toc-text">面临的挑战</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-Danksharding-%E4%B8%8E%E4%BB%A5%E5%A4%AA%E5%9D%8A%E2%80%9C%E5%90%88%E5%B9%B6%E2%80%9D%E5%90%8E%E7%9A%84-Layer2-%E6%84%BF%E6%99%AF"><span class="toc-text">4. Danksharding 与以太坊“合并”后的 Layer2 愿景</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-Danksharding-%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-text">4.1 Danksharding 的作用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-EIP-4844-Proto-Danksharding"><span class="toc-text">4.2 EIP-4844 (Proto-Danksharding)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-Layer2-%E4%B8%8E%E4%BB%A5%E5%A4%AA%E5%9D%8A%E6%9C%AA%E6%9D%A5%E5%8F%91%E5%B1%95%E8%93%9D%E5%9B%BE"><span class="toc-text">4.3 Layer2 与以太坊未来发展蓝图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-Layer2-%E7%9A%84%E6%8C%91%E6%88%98%E4%B8%8E%E9%A3%8E%E9%99%A9"><span class="toc-text">5. Layer2 的挑战与风险</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%A2%8E%E7%89%87%E5%8C%96%E4%B8%8E%E4%BA%92%E6%93%8D%E4%BD%9C%E6%80%A7"><span class="toc-text">5.1 碎片化与互操作性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-%E4%B8%AD%E5%BF%83%E5%8C%96%E9%A3%8E%E9%99%A9-%E6%8E%92%E5%BA%8F%E5%99%A8%E3%80%81%E5%A4%9A%E7%AD%BE%E7%AD%89"><span class="toc-text">5.2 中心化风险 (排序器、多签等)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-%E7%94%A8%E6%88%B7%E4%BD%93%E9%AA%8C%E4%B8%8E%E5%AD%A6%E4%B9%A0%E6%88%90%E6%9C%AC"><span class="toc-text">5.3 用户体验与学习成本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-%E6%BF%80%E5%8A%B1%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8F%AF%E6%8C%81%E7%BB%AD%E5%8F%91%E5%B1%95"><span class="toc-text">5.4 激励机制与可持续发展</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E6%80%BB%E7%BB%93"><span class="toc-text">6. 总结</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/2025-10-16_%E5%B8%B8%E7%94%A8%E9%99%90%E6%B5%81%E7%AE%97%E6%B3%95%E7%9A%84Go%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0%E8%AF%A6%E8%A7%A3/" title="常用限流算法的Go语言实现详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-12.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="常用限流算法的Go语言实现详解"/></a><div class="content"><a class="title" href="/2025/2025-10-16_%E5%B8%B8%E7%94%A8%E9%99%90%E6%B5%81%E7%AE%97%E6%B3%95%E7%9A%84Go%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0%E8%AF%A6%E8%A7%A3/" title="常用限流算法的Go语言实现详解">常用限流算法的Go语言实现详解</a><time datetime="2025-10-15T22:24:00.000Z" title="发表于 2025-10-16 06:24:00">2025-10-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/2025-10-10_NativeScript-Vue3%E8%AF%A6%E8%A7%A3/" title="NativeScript-Vue3详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-04.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="NativeScript-Vue3详解"/></a><div class="content"><a class="title" href="/2025/2025-10-10_NativeScript-Vue3%E8%AF%A6%E8%A7%A3/" title="NativeScript-Vue3详解">NativeScript-Vue3详解</a><time datetime="2025-10-09T22:24:00.000Z" title="发表于 2025-10-10 06:24:00">2025-10-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/2025-10-08_Hyper-V%20%E6%B7%B1%E5%BA%A6%E8%AF%A6%E8%A7%A3%EF%BC%9AWindows%20%E5%B9%B3%E5%8F%B0%E4%B8%8A%E7%9A%84%E4%B8%93%E4%B8%9A%E7%BA%A7%E8%99%9A%E6%8B%9F%E5%8C%96%E6%8A%80%E6%9C%AF/" title="Hyper-V 深度详解：Windows 平台上的专业级虚拟化技术"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-01.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hyper-V 深度详解：Windows 平台上的专业级虚拟化技术"/></a><div class="content"><a class="title" href="/2025/2025-10-08_Hyper-V%20%E6%B7%B1%E5%BA%A6%E8%AF%A6%E8%A7%A3%EF%BC%9AWindows%20%E5%B9%B3%E5%8F%B0%E4%B8%8A%E7%9A%84%E4%B8%93%E4%B8%9A%E7%BA%A7%E8%99%9A%E6%8B%9F%E5%8C%96%E6%8A%80%E6%9C%AF/" title="Hyper-V 深度详解：Windows 平台上的专业级虚拟化技术">Hyper-V 深度详解：Windows 平台上的专业级虚拟化技术</a><time datetime="2025-10-07T22:24:00.000Z" title="发表于 2025-10-08 06:24:00">2025-10-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/2025-10-06_TresJS%E8%AF%A6%E8%A7%A3%EF%BC%9A%E7%94%A8Vue%E7%9A%84%E6%96%B9%E5%BC%8F%E6%9E%84%E5%BB%BAThree.js%E5%9C%BA%E6%99%AF/" title="TresJS详解：用Vue的方式构建Three.js场景"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-15.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="TresJS详解：用Vue的方式构建Three.js场景"/></a><div class="content"><a class="title" href="/2025/2025-10-06_TresJS%E8%AF%A6%E8%A7%A3%EF%BC%9A%E7%94%A8Vue%E7%9A%84%E6%96%B9%E5%BC%8F%E6%9E%84%E5%BB%BAThree.js%E5%9C%BA%E6%99%AF/" title="TresJS详解：用Vue的方式构建Three.js场景">TresJS详解：用Vue的方式构建Three.js场景</a><time datetime="2025-10-05T22:24:00.000Z" title="发表于 2025-10-06 06:24:00">2025-10-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/2025-10-01_Go%E8%AF%AD%E8%A8%80%E6%8C%87%E5%90%91%E6%8C%87%E9%92%88%E7%9A%84%E6%8C%87%E9%92%88(Pointer%20to%20Pointer)%E8%AF%A6%E8%A7%A3/" title="Go语言指向指针的指针(Pointer to Pointer)详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-06.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go语言指向指针的指针(Pointer to Pointer)详解"/></a><div class="content"><a class="title" href="/2025/2025-10-01_Go%E8%AF%AD%E8%A8%80%E6%8C%87%E5%90%91%E6%8C%87%E9%92%88%E7%9A%84%E6%8C%87%E9%92%88(Pointer%20to%20Pointer)%E8%AF%A6%E8%A7%A3/" title="Go语言指向指针的指针(Pointer to Pointer)详解">Go语言指向指针的指针(Pointer to Pointer)详解</a><time datetime="2025-09-30T22:24:00.000Z" title="发表于 2025-10-01 06:24:00">2025-10-01</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/img/cover/default_cover-09.jpg);"><div class="footer-flex"><div class="footer-flex-items"><div class="footer-flex-item"><div class="footer-flex-title">我的轨迹</div><div class="footer-flex-content"><a href="/tags/2023/" target="_blank" title="📌 2023">📌 2023</a><a href="/tags/2024/" target="_blank" title="❓ 2024">❓ 2024</a><a href="/tags/2025/" target="_blank" title="🚀 2025">🚀 2025</a></div></div></div><div class="footer-flex-items"><div class="footer-flex-item"><div class="footer-flex-title">维度</div><div class="footer-flex-content"><a href="/categories/" target="_blank" title="分类">分类</a><a href="/tags/" target="_blank" title="标签">标签</a><a href="/categories/" target="_blank" title="时间线">时间线</a></div></div></div><div class="footer-flex-items"><div class="footer-flex-item"><div class="footer-flex-title">其他</div><div class="footer-flex-content"><a href="/shuoshuo" target="_blank" title="说说">说说</a></div></div></div></div><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2021 - 2025 By TeaTang</span><span class="framework-info"><span class="footer-separator">|</span><span>框架 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.1"></script><script src="/js/main.js?v=5.5.1"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.0.33/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@19.1.3/dist/lazyload.iife.min.js"></script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = `%%{init:{ 'theme':'${theme}'}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid@11.12.0/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>(() => {
  const applyThemeDefaultsConfig = theme => {
    if (theme === 'dark-mode') {
      Chart.defaults.color = "rgba(255, 255, 255, 0.8)"
      Chart.defaults.borderColor = "rgba(255, 255, 255, 0.2)"
      Chart.defaults.scale.ticks.backdropColor = "transparent"
    } else {
      Chart.defaults.color = "rgba(0, 0, 0, 0.8)"
      Chart.defaults.borderColor = "rgba(0, 0, 0, 0.1)"
      Chart.defaults.scale.ticks.backdropColor = "transparent"
    }
  }

  // Recursively traverse the config object and automatically apply theme-specific color schemes
  const applyThemeConfig = (obj, theme) => {
    if (typeof obj !== 'object' || obj === null) return

    Object.keys(obj).forEach(key => {
      const value = obj[key]
      // If the property is an object and has theme-specific options, apply them
      if (typeof value === 'object' && value !== null) {
        if (value[theme]) {
          obj[key] = value[theme] // Apply the value for the current theme
        } else {
          // Recursively process child objects
          applyThemeConfig(value, theme)
        }
      }
    })
  }

  const runChartJS = ele => {
    window.loadChartJS = true

    Array.from(ele).forEach((item, index) => {
      const chartSrc = item.firstElementChild
      const chartID = item.getAttribute('data-chartjs-id') || ('chartjs-' + index) // Use custom ID or default ID
      const width = item.getAttribute('data-width')
      const existingCanvas = document.getElementById(chartID)

      // If a canvas already exists, remove it to avoid rendering duplicates
      if (existingCanvas) {
          existingCanvas.parentNode.remove()
      }

      const chartDefinition = chartSrc.textContent
      const canvas = document.createElement('canvas')
      canvas.id = chartID

      const div = document.createElement('div')
      div.className = 'chartjs-wrap'

      if (width) {
        div.style.width = width
      }

      div.appendChild(canvas)
      chartSrc.insertAdjacentElement('afterend', div)

      const ctx = document.getElementById(chartID).getContext('2d')

      const config = JSON.parse(chartDefinition)

      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark-mode' : 'light-mode'

      // Set default styles (initial setup)
      applyThemeDefaultsConfig(theme)

      // Automatically traverse the config and apply dual-mode color schemes
      applyThemeConfig(config, theme)

      new Chart(ctx, config)
    })
  }

  const loadChartJS = () => {
    const chartJSEle = document.querySelectorAll('#article-container .chartjs-container')
    if (chartJSEle.length === 0) return

    window.loadChartJS ? runChartJS(chartJSEle) : btf.getScript('https://cdn.jsdelivr.net/npm/chart.js@4.5.0/dist/chart.umd.min.js').then(() => runChartJS(chartJSEle))
  }

  // Listen for theme change events
  btf.addGlobalFn('themeChange', loadChartJS, 'chartjs')
  btf.addGlobalFn('encrypt', loadChartJS, 'chartjs')

  window.pjax ? loadChartJS() : document.addEventListener('DOMContentLoaded', loadChartJS)
})()</script></div><script data-pjax src="/self/btf.js"></script><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/fireworks.min.js"></script><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="ture"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-fluttering-ribbon.min.js"></script><script id="canvas_nest" defer="defer" color="0,200,200" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script><script>(() => {
  const pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => {
      try {
        fn()
      } catch (err) {
        console.debug('Pjax callback failed:', err)
      }
    })
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      const usePjax = true
      true
        ? (usePjax ? pjax.loadUrl('/404.html') : window.location.href = '/404.html')
        : window.location.href = e.request.responseURL
    }
  })
})()</script><script>(() => {
  const option = null
  const config = {"site_uv":true,"site_pv":true,"page_pv":true,"token":"qTvz1SkmPDt785fgh6BpiA5qiFFIVUwxj8Ft+rPW+cdN59v1hXjwRgSmy0+ji9m+oLlcxvo2NfDSMa6epVl3NTlsN3ejCIwWeP8Y51aEJ0Sbem4UexGmJLspB7AkOBId2SdtT6QWEBlGmFIIQgchQ2zAKYxTmc/kpBED5aLSr+3uvmQ9/G7FJQeVFpveDkK0xM1hu36xq4a6/FSeROxtoEp5zabzTWiYTlLsQzIl/NlELnCq3nxK+oo/vl3UQo/oM/rae/gJX/MaVKsgIUCd2ABJogNkx2KTenBIBpbPki5FzOgPh6/z4GPa4HvhNO51DDVG1SEQZooqEYmt/gnybLBWFbN+7liZWw=="}

  const runTrack = () => {
    if (typeof umami !== 'undefined' && typeof umami.track === 'function') {
      umami.track(props => ({ ...props, url: window.location.pathname, title: GLOBAL_CONFIG_SITE.title }))
    } else {
      console.warn('Umami Analytics: umami.track is not available')
    }
  }

  const loadUmamiJS = () => {
    btf.getScript('https://umami.012700.xyz/script.js', {
      'data-website-id': '2a796d6c-6499-42d8-8eb4-d9a2930b0ff3',
      'data-auto-track': 'false',
      ...option
    }).then(() => {
      runTrack()
    }).catch(error => {
      console.error('Umami Analytics: Error loading script', error)
    })
  }

  const getData = async (isPost) => {
    try {
      const now = Date.now()
      const keyUrl = isPost ? `&url=${window.location.pathname}` : ''
      const headerList = { 'Accept': 'application/json' }

      if (true) {
        headerList['Authorization'] = `Bearer ${config.token}`
      } else {
        headerList['x-umami-api-key'] = config.token
      }

      const res = await fetch(`https://umami.012700.xyz/api/websites/2a796d6c-6499-42d8-8eb4-d9a2930b0ff3/stats?startAt=0000000000&endAt=${now}${keyUrl}`, {
        method: "GET",
        headers: headerList
      })

      if (!res.ok) {
        throw new Error(`HTTP error! status: ${res.status}`)
      }

      return await res.json()
    } catch (error) {
      console.error('Umami Analytics: Failed to fetch data', error)
      throw error
    }
  }

  const insertData = async () => {
    try {
      if (GLOBAL_CONFIG_SITE.pageType === 'post' && config.page_pv) {
        const pagePV = document.getElementById('umamiPV')
        if (pagePV) {
          const data = await getData(true)
          if (data && data.pageviews && typeof data.pageviews.value !== 'undefined') {
            pagePV.textContent = data.pageviews.value
          } else {
            console.warn('Umami Analytics: Invalid page view data received')
          }
        }
      }

      if (config.site_uv || config.site_pv) {
        const data = await getData(false)

        if (config.site_uv) {
          const siteUV = document.getElementById('umami-site-uv')
          if (siteUV && data && data.visitors && typeof data.visitors.value !== 'undefined') {
            siteUV.textContent = data.visitors.value
          } else if (siteUV) {
            console.warn('Umami Analytics: Invalid site UV data received')
          }
        }

        if (config.site_pv) {
          const sitePV = document.getElementById('umami-site-pv')
          if (sitePV && data && data.pageviews && typeof data.pageviews.value !== 'undefined') {
            sitePV.textContent = data.pageviews.value
          } else if (sitePV) {
            console.warn('Umami Analytics: Invalid site PV data received')
          }
        }
      }
    } catch (error) {
      console.error('Umami Analytics: Failed to insert data', error)
    }
  }

  btf.addGlobalFn('pjaxComplete', runTrack, 'umami_analytics_run_track')
  btf.addGlobalFn('pjaxComplete', insertData, 'umami_analytics_insert')


  loadUmamiJS()

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', insertData)
  } else {
    setTimeout(insertData, 100)
  }
})()</script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden="hidden"></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="local-search-input"><input placeholder="搜索文章" type="text"/></div><hr/><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none;"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=5.5.1"></script></div></div></body></html>