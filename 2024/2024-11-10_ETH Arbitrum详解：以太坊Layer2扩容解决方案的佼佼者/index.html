<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>ETH Arbitrum详解：以太坊Layer2扩容解决方案的佼佼者 | 1024 维度</title><meta name="author" content="TeaTang"><meta name="copyright" content="TeaTang"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Arbitrum 是以太坊上一个领先的 Layer 2 (L2) 扩容解决方案，也是第一个实际运行的 Optimistic Rollup。它旨在通过将大量交易的计算和存储移到二层网络上进行处理，然后将 L2 交易结果汇总并提交到以太坊主网 (Layer 1)，从而显著提高以太坊的交易吞吐量、降低交易费用，同时继承以太坊的安全性。  核心思想：在二层网络处理交易，批量提交摘要到一层网络，通过欺诈证">
<meta property="og:type" content="article">
<meta property="og:title" content="ETH Arbitrum详解：以太坊Layer2扩容解决方案的佼佼者">
<meta property="og:url" content="https://blog.tbf1211.xx.kg/2024/2024-11-10_ETH%20Arbitrum%E8%AF%A6%E8%A7%A3%EF%BC%9A%E4%BB%A5%E5%A4%AA%E5%9D%8ALayer2%E6%89%A9%E5%AE%B9%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E7%9A%84%E4%BD%BC%E4%BD%BC%E8%80%85/index.html">
<meta property="og:site_name" content="1024 维度">
<meta property="og:description" content="Arbitrum 是以太坊上一个领先的 Layer 2 (L2) 扩容解决方案，也是第一个实际运行的 Optimistic Rollup。它旨在通过将大量交易的计算和存储移到二层网络上进行处理，然后将 L2 交易结果汇总并提交到以太坊主网 (Layer 1)，从而显著提高以太坊的交易吞吐量、降低交易费用，同时继承以太坊的安全性。  核心思想：在二层网络处理交易，批量提交摘要到一层网络，通过欺诈证">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blog.tbf1211.xx.kg/img/cover/default_cover-13.jpg">
<meta property="article:published_time" content="2024-11-09T22:24:00.000Z">
<meta property="article:modified_time" content="2025-10-23T10:07:11.575Z">
<meta property="article:author" content="TeaTang">
<meta property="article:tag" content="Web3.0">
<meta property="article:tag" content="区块链">
<meta property="article:tag" content="去中心化">
<meta property="article:tag" content="ETH">
<meta property="article:tag" content="2024">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog.tbf1211.xx.kg/img/cover/default_cover-13.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "ETH Arbitrum详解：以太坊Layer2扩容解决方案的佼佼者",
  "url": "https://blog.tbf1211.xx.kg/2024/2024-11-10_ETH%20Arbitrum%E8%AF%A6%E8%A7%A3%EF%BC%9A%E4%BB%A5%E5%A4%AA%E5%9D%8ALayer2%E6%89%A9%E5%AE%B9%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E7%9A%84%E4%BD%BC%E4%BD%BC%E8%80%85/",
  "image": "https://blog.tbf1211.xx.kg/img/cover/default_cover-13.jpg",
  "datePublished": "2024-11-09T22:24:00.000Z",
  "dateModified": "2025-10-23T10:07:11.575Z",
  "author": [
    {
      "@type": "Person",
      "name": "TeaTang",
      "url": "https://blog.tbf1211.xx.kg"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon-1.ico"><link rel="canonical" href="https://blog.tbf1211.xx.kg/2024/2024-11-10_ETH%20Arbitrum%E8%AF%A6%E8%A7%A3%EF%BC%9A%E4%BB%A5%E5%A4%AA%E5%9D%8ALayer2%E6%89%A9%E5%AE%B9%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E7%9A%84%E4%BD%BC%E4%BD%BC%E8%80%85/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><meta name="google-site-verification" content="NdIUXAOVyGnnBhcrip0ksCawbdAzT0hlBZDE9u4jx6k"/><meta name="msvalidate.01" content="567E47D75E8DCF1282B9623AD914701E"/><meta name="baidu-site-verification" content="code-pE5rnuxcfD"/><link rel="stylesheet" href="/css/index.css?v=5.5.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          const mediaQueryDark = window.matchMedia('(prefers-color-scheme: dark)')
          const mediaQueryLight = window.matchMedia('(prefers-color-scheme: light)')

          if (theme === undefined) {
            if (mediaQueryLight.matches) activateLightMode()
            else if (mediaQueryDark.matches) activateDarkMode()
            else {
              const hour = new Date().getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            mediaQueryDark.addEventListener('change', () => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else {
            theme === 'light' ? activateLightMode() : activateDarkMode()
          }
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":false,"top_n_per_article":1,"unescape":false,"pagination":{"enable":true,"hitsPerPage":8},"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":400,"highlightFullpage":true,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":150,"languages":{"author":"作者: TeaTang","link":"链接: ","source":"来源: 1024 维度","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ETH Arbitrum详解：以太坊Layer2扩容解决方案的佼佼者',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="preconnect" href="https://jsd.012700.xyz"><link href="/self/btf.css" rel="stylesheet"><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="1024 维度" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/loading.gif" data-lazy-src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">166</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">160</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">55</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 我的轨迹</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/2023/"><i class="fa-fw fa-solid fa-bug"></i><span> 2023</span></a></li><li><a class="site-page child" href="/archives/2024/"><i class="fa-fw fa-solid fa-code"></i><span> 2024</span></a></li><li><a class="site-page child" href="/archives/2025/"><i class="fa-fw fa-solid fa-network-wired"></i><span> 2025</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa-solid fa-calendar-days"></i><span> 时间线</span></a></div><div class="menus_item"><a class="site-page" href="/shuoshuo"><i class="fa-fw fas fa-comment"></i><span> 说说</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image: url(/img/cover/default_cover-13.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">1024 维度</span></a><a class="nav-page-title" href="/"><span class="site-name">ETH Arbitrum详解：以太坊Layer2扩容解决方案的佼佼者</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 我的轨迹</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/2023/"><i class="fa-fw fa-solid fa-bug"></i><span> 2023</span></a></li><li><a class="site-page child" href="/archives/2024/"><i class="fa-fw fa-solid fa-code"></i><span> 2024</span></a></li><li><a class="site-page child" href="/archives/2025/"><i class="fa-fw fa-solid fa-network-wired"></i><span> 2025</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa-solid fa-calendar-days"></i><span> 时间线</span></a></div><div class="menus_item"><a class="site-page" href="/shuoshuo"><i class="fa-fw fas fa-comment"></i><span> 说说</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">ETH Arbitrum详解：以太坊Layer2扩容解决方案的佼佼者</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon far fa-calendar-alt"></i><span class="post-meta-label">发表于</span><time datetime="2024-11-09T22:24:00.000Z" title="发表于 2024-11-10 06:24:00">2024-11-10</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Web3-0/">Web3.0</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Web3-0/ETH/">ETH</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">2.8k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>9分钟</span></span><span class="post-meta-separator">|</span><span id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="umamiPV" data-path="/2024/2024-11-10_ETH%20Arbitrum%E8%AF%A6%E8%A7%A3%EF%BC%9A%E4%BB%A5%E5%A4%AA%E5%9D%8ALayer2%E6%89%A9%E5%AE%B9%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E7%9A%84%E4%BD%BC%E4%BD%BC%E8%80%85/"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><blockquote>
<p><strong>Arbitrum</strong> 是以太坊上一个领先的 Layer 2 (L2) 扩容解决方案，也是第一个实际运行的 Optimistic Rollup。它旨在通过将大量交易的计算和存储移到二层网络上进行处理，然后将 L2 交易结果汇总并提交到以太坊主网 (Layer 1)，从而显著提高以太坊的交易吞吐量、降低交易费用，同时继承以太坊的安全性。</p>
</blockquote>
<div class="note info flat"><p>核心思想：在二层网络处理交易，批量提交摘要到一层网络，通过<strong>欺诈证明 (Fraud Proof)</strong> 在一段时间内允许质疑，保证最终一致性。</p>
</div>

<h2 id="一、为什么需要-Arbitrum？以太坊的扩容困境"><a href="#一、为什么需要-Arbitrum？以太坊的扩容困境" class="headerlink" title="一、为什么需要 Arbitrum？以太坊的扩容困境"></a>一、为什么需要 Arbitrum？以太坊的扩容困境</h2><p>以太坊是目前最去中心化且安全的智能合约平台之一，但其当前（特别是 PoW 或早期的 PoS 阶段）面临着严重的扩容问题：</p>
<ol>
<li><strong>低吞吐量 (Scalability)</strong>：每秒交易量（Tx&#x2F;s）有限（约 15-30 Tx&#x2F;s），无法满足大规模应用的需求。</li>
<li><strong>高 Gas 费用 (High Fees)</strong>：网络拥堵直接导致交易成本飙升，使得普通用户难以负担。</li>
<li><strong>交易确认慢 (Latency)</strong>：在网络繁忙时，交易可能需要等待较长时间才能被确认。</li>
</ol>
<p><strong>Layer 2 解决方案</strong>应运而生，旨在不牺牲以太坊去中心化和安全性的前提下，提升其性能。Arbitrum 就是其中的佼佼者，属于 <strong>Rollup 方案</strong>中的一个子类。</p>
<h2 id="二、Rollup-的核心逻辑"><a href="#二、Rollup-的核心逻辑" class="headerlink" title="二、Rollup 的核心逻辑"></a>二、Rollup 的核心逻辑</h2><p>Rollup 技术将交易的<strong>执行</strong>放到 Layer 2，而将<strong>数据</strong>发布到 Layer 1。具体而言：</p>
<ol>
<li><strong>L2 状态转换</strong>：所有的交易都在 L2 上执行，产生新的 L2 状态。</li>
<li><strong>L1 数据可用性</strong>：L2 将所有交易数据（或数据压缩后的摘要）发布到 L1 的一个特殊智能合约中，确保这些数据对所有网络参与者都是可公开验证的。</li>
<li><strong>L1 状态根</strong>：L2 将批量交易执行后的最终状态根（State Root）提交到 L1。</li>
</ol>
<p>通过这种方式，以太坊主网只需验证少量的数据，就能确保 L2 交易的最终正确性，而不需要重复执行所有 L2 交易。</p>
<h2 id="三、Arbitrum：Optimistic-Rollup-的实现"><a href="#三、Arbitrum：Optimistic-Rollup-的实现" class="headerlink" title="三、Arbitrum：Optimistic Rollup 的实现"></a>三、Arbitrum：Optimistic Rollup 的实现</h2><p>Arbitrum 是一种 <strong>Optimistic Rollup</strong>，其名称中的 “Optimistic” 暗示了其核心假设：<strong>L2 验证者默认 L2 上的所有交易都是有效且正确的</strong>。</p>
<h3 id="3-1-工作原理概览"><a href="#3-1-工作原理概览" class="headerlink" title="3.1 工作原理概览"></a>3.1 工作原理概览</h3><div class="mermaid-wrap"><pre class="mermaid-src" hidden>
    graph TD
    A[用户&#x2F;DApp] --&gt; B{在 Arbitrum One &lt;br&gt;执行交易}
    B -- 区块生成 --&gt; C[排序器 &lt;br&gt;（Sequencer）]
    C -- 批量提交 &lt;br&gt;压缩交易数据 &amp; 状态根 --&gt; D[以太坊主网 &lt;br&gt;（Layer 1）]
    D -- 公开数据可用性 &amp; DApp智能合约 --&gt; E[断言者&#x2F;验证者 &lt;br&gt;（Assertions&#x2F;Validators）]
    E -- 欺诈挑战期 --&gt; F[如果发现欺诈 &lt;br&gt;执行欺诈证明]
    F -- 挑战成功 --&gt; G[L1 回滚错误状态]
    F -- 挑战失败 --&gt; H[L1 确认当前状态]
  </pre></div>

<h4 id="具体步骤："><a href="#具体步骤：" class="headerlink" title="具体步骤："></a>具体步骤：</h4><ol>
<li><p><strong>交易提交 (Transaction Submission)</strong>：</p>
<ul>
<li>用户或 DApp 将交易提交到 Arbitrum 网络。</li>
<li>Arbitrum 的<strong>排序器 (Sequencer)</strong> 接收这些交易。排序器负责将 L2 交易排序、打包成块，并执行它们，更新 L2 的状态。</li>
</ul>
</li>
<li><p><strong>批量提交到 L1 (Batching to L1)</strong>：</p>
<ul>
<li>排序器会定期地将一批 L2 交易的<strong>压缩数据</strong>和一个<strong>新的 L2 状态根 (State Root)</strong> 提交到以太坊主网上的 Arbitrum 桥接合约。</li>
<li>这些交易数据是公开的，在 L1 上可供任何人下载和验证其有效性（数据可用性）。</li>
</ul>
</li>
<li><p><strong>欺诈挑战期 (Challenge Period)</strong>：</p>
<ul>
<li>一旦新的 L2 状态根提交到 L1，Arbitrum 会进入一个“<strong>挑战期 (Dispute Period)</strong>”，通常是 7 天。</li>
<li>在这个挑战期内，任何人（<strong>观察者&#x2F;验证者</strong>）都可以通过提交<strong>欺诈证明 (Fraud Proof)</strong> 来质疑排序器提交的 L2 状态根是否正确。他们会重新执行 L2 交易数据，如果发现与排序器提交的结果不符，就发起挑战。</li>
</ul>
</li>
<li><p><strong>欺诈证明 (Fraud Proof Mechanism)</strong>：</p>
<ul>
<li>如果有人发起欺诈挑战，Arbitrum 会在一个特殊的 L1 合约中执行一个<strong>交互式欺诈证明 (Interactive Fraud Proof)</strong> 过程。</li>
<li>挑战者和被挑战者（排序器）会进行多轮的交互，逐步缩小分歧点，直到找到导致状态不一致的最小操作。</li>
<li>这个最小分歧点会在 L1 上通过以太坊虚拟机（EVM）<strong>仲裁</strong>。如果挑战者胜出，说明排序器提交了错误的状态，这个错误的状态会被回滚，排序器会受到惩罚（罚没抵押的 ETH），挑战者会获得奖励。</li>
<li>如果排序器胜出，挑战者会受到惩罚。</li>
</ul>
</li>
<li><p><strong>最终确定性 (Finality)</strong>：</p>
<ul>
<li>如果在一个挑战期内，没有任何人成功挑战 L2 状态根，那么这个 L2 状态根就被认为是最终确定的，并永久地在 L1 上确认。这是 Optimistic Rollup 的“乐观”所在。</li>
</ul>
</li>
</ol>
<h3 id="3-2-关键组件"><a href="#3-2-关键组件" class="headerlink" title="3.2 关键组件"></a>3.2 关键组件</h3><ul>
<li><p><strong>排序器 (Sequencer)</strong>：</p>
<ul>
<li><strong>职责</strong>：接收 L2 交易、打包、执行、更新 L2 状态、将交易批量提交到 L1。</li>
<li><strong>中心化</strong>：目前的 Arbitrum One 排序器由 Offchain Labs 运行，这是其最大弱点之一。但 Arbitrum 正在向去中心化排序器发展。</li>
<li><strong>好处</strong>：中心化排序器可以提供即时交易确认和软终结性（Soft Finality），改善用户体验。</li>
</ul>
</li>
<li><p><strong>桥接合约 (Bridge Contracts)</strong>：</p>
<ul>
<li>部署在以太坊主网，用于在 L1 和 L2 之间进行资产的存取。</li>
<li>用户将 ETH 或 ERC-20 代币存入 L1 桥接合约，L2 上会铸造对应的代表性代币。</li>
<li>用户将 L2 代币销毁，L1 释放对应代币。</li>
</ul>
</li>
<li><p><strong>挑战期 (Challenge&#x2F;Dispute Period)</strong>：</p>
<ul>
<li><strong>作用</strong>：是 Optimistic Rollup 安全模型的基石。给予所有验证者足够的时间来检测和挑战潜在的恶意行为。</li>
<li><strong>限制</strong>：导致从 L2 提款到 L1 需要等待至少 7 天，用户体验不如 L1 即时。</li>
</ul>
</li>
</ul>
<h3 id="3-3-欺诈证明-Fraud-Proof"><a href="#3-3-欺诈证明-Fraud-Proof" class="headerlink" title="3.3 欺诈证明 (Fraud Proof)"></a>3.3 欺诈证明 (Fraud Proof)</h3><p><strong>工作原理图：</strong></p>
<div class="mermaid-wrap"><pre class="mermaid-src" hidden>
    graph TD
    A[Sequencer 提交 L2 状态根 S1 到 L1]
    B[开始挑战期 （如 7天）]
    C{是否有 Validator 质疑 S1}
    C -- 是 --&gt; D[质疑者提交 Fraud Proof 请求&lt;br&gt; （指出 L2 交易序列中哪一步是错的）]
    D --&gt; E{L1 上执行交互式仲裁}
    E -- 仲裁结果一致 --&gt; F[Sequencer 被罚没, S1 无效, 回滚状态]
    E -- 仲裁结果不一致 --&gt; G[质疑者被罚没, S1 有效]
    C -- 否 (挑战期结束) --&gt; H[S1 在 L1 上最终确认]
  </pre></div>

<p>欺诈证明使得 Arbitrum 在不重复执行所有交易的情况下，继承了以太坊主网的安全性。即使只有一个诚实的验证者，也能确保整个 Rollup 的安全性。</p>
<h2 id="四、Arbitrum-的优势"><a href="#四、Arbitrum-的优势" class="headerlink" title="四、Arbitrum 的优势"></a>四、Arbitrum 的优势</h2><ol>
<li><strong>高吞吐量与低费用</strong>：显著提高了交易速度和降低了交易成本，目前是 ETH L2 领域使用量最大的网络之一。</li>
<li><strong>EVM 兼容性</strong>：Arbitrum One 是“EVM 兼容”的，这意味着现有的以太坊智能合约代码可以几乎不加修改地部署到 Arbitrum 上，开发者迁移成本低。</li>
<li><strong>安全性</strong>：通过将交易数据发布到以太坊主网，并采用欺诈证明机制，继承了以太坊主网的强大安全性。</li>
<li><strong>活跃的生态系统</strong>：拥有庞大且不断增长的 DApp 数量、用户和资产，形成良性循环。</li>
<li><strong>成熟的技术</strong>：Arbitrum 是第一个实际运行的 Optimistic Rollup，技术经过较长时间的测试和优化。</li>
<li><strong>治理代币 (<code>ARB</code>)</strong>：通过 <code>ARB</code> 代币实现 DAO 治理，使社区参与到 Arbitrum 网络的未来发展中。</li>
</ol>
<h2 id="五、Arbitrum-的局限性与挑战"><a href="#五、Arbitrum-的局限性与挑战" class="headerlink" title="五、Arbitrum 的局限性与挑战"></a>五、Arbitrum 的局限性与挑战</h2><ol>
<li><strong>提款延迟 (Withdrawal Delays)</strong>：由于欺诈挑战期的存在，从 Arbitrum One 提款到以太坊主网通常需要等待 7 天，极大地影响了资金的流动性。<ul>
<li><strong>解决方案</strong>：出现了第三方流动性提供商（如 Hop Protocol、Across Protocol），它们通过承担部分风险来提供即时提款服务，但通常会收取费用。</li>
</ul>
</li>
<li><strong>中心化排序器</strong>：目前 Arbitrum One 的排序器由 Offchain Labs 运营，存在单点故障和潜在的审查风险，也可能提取 MEV（矿工可提取价值）。<ul>
<li><strong>计划</strong>：Offchain Labs 正在努力去中心化排序器，例如通过引入多方排序器网络，并逐步开放。</li>
</ul>
</li>
<li><strong>桥接风险</strong>：跨链桥的安全漏洞一直是区块链领域的主要风险来源。虽然 Arbitrum 自身的桥接机制设计得当，但任何智能合约都有潜在风险。</li>
</ol>
<h2 id="六、Arbitrum-的未来发展与生态"><a href="#六、Arbitrum-的未来发展与生态" class="headerlink" title="六、Arbitrum 的未来发展与生态"></a>六、Arbitrum 的未来发展与生态</h2><h3 id="6-1-Arbitrum-Nova"><a href="#6-1-Arbitrum-Nova" class="headerlink" title="6.1 Arbitrum Nova"></a>6.1 Arbitrum Nova</h3><p>Arbitrum Nova 是另一个基于 Arbitrum AnyTrust 技术构建的链，专为<strong>高吞吐量、极低成本</strong>的 DApp 设计（如游戏、社交应用）。与 Arbitrum One 主要区别在于其数据可用性是如何处理的：</p>
<ul>
<li><strong>Arbitrum One</strong>：将所有交易数据发布到 L1，提供最高安全性。</li>
<li><strong>Arbitrum Nova</strong>：将数据可用性委托给一个<strong>数据可用性委员会 (DAC)</strong>。DAC 承诺在链下存储数据，并提供给需要验证 L2 状态的任何人。如果 DAC 不可用，L2 可以强制将数据提交到 L1，继承 L1 的安全性。<ul>
<li><strong>特点</strong>：安全性略低于 Arbitrum One，但成本极低，吞吐量更高。</li>
</ul>
</li>
</ul>
<h3 id="6-2-Stylus"><a href="#6-2-Stylus" class="headerlink" title="6.2 Stylus"></a>6.2 Stylus</h3><p>Stylus 是一种新的 EVM+ 执行环境，允许开发者使用 C、C++、Rust 等流行编程语言编写智能合约，并在 Arbitrum 链上部署，同时实现与 EVM 相同的互操作性。它旨在显著提高程序的执行效率。</p>
<h3 id="6-3-Arbitrum-Orbit-Chains"><a href="#6-3-Arbitrum-Orbit-Chains" class="headerlink" title="6.3 Arbitrum Orbit Chains"></a>6.3 Arbitrum Orbit Chains</h3><p>Arbitrum Orbit 允许开发者使用 Arbitrum 技术栈部署自己的<strong>定制化 Layer 3 (L3) 或独立链</strong>。这些链可以是：</p>
<ul>
<li><strong>L2 链</strong>：直接结算到以太坊主网，与 Arbitrum One 类似。</li>
<li><strong>L3 链</strong>：结算到 Arbitrum One 或 Arbitrum Nova，形成一个模块化的三层架构。<ul>
<li><strong>优势</strong>：极低的费用、高度可定制化、专用吞吐量。</li>
<li><strong>适用场景</strong>：游戏链、企业级 DApp、特定应用链 (App-chains)。</li>
</ul>
</li>
</ul>
<h3 id="6-4-生态系统"><a href="#6-4-生态系统" class="headerlink" title="6.4 生态系统"></a>6.4 生态系统</h3><p>Arbitrum 已经建立了一个非常庞大和多元化的生态系统，涵盖了 DeFi、NFT、GameFi、SocialFi 等多个领域，吸引了大量项目和用户。知名的项目包括 GMX、Camelot、Radiant Capital 等。</p>
<h2 id="七、总结"><a href="#七、总结" class="headerlink" title="七、总结"></a>七、总结</h2><p>Arbitrum 作为以太坊 Optimistic Rollup 的领导者，通过其创新的欺诈证明机制，成功地在不牺牲去中心化和安全性的前提下，显著提升了以太坊的吞吐量并降低了交易成本。尽管存在提款延迟和排序器中心化等问题，但其活跃的开发团队正在通过技术创新（如 Nova, Stylus）和架构演进（如 Orbit L3）不断完善和拓展其能力。Arbitrum 在推动以太坊扩容方面发挥了至关重要的作用，是理解未来区块链发展方向的关键一环。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://blog.tbf1211.xx.kg">TeaTang</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://blog.tbf1211.xx.kg/2024/2024-11-10_ETH%20Arbitrum%E8%AF%A6%E8%A7%A3%EF%BC%9A%E4%BB%A5%E5%A4%AA%E5%9D%8ALayer2%E6%89%A9%E5%AE%B9%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E7%9A%84%E4%BD%BC%E4%BD%BC%E8%80%85/">https://blog.tbf1211.xx.kg/2024/2024-11-10_ETH%20Arbitrum%E8%AF%A6%E8%A7%A3%EF%BC%9A%E4%BB%A5%E5%A4%AA%E5%9D%8ALayer2%E6%89%A9%E5%AE%B9%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E7%9A%84%E4%BD%BC%E4%BD%BC%E8%80%85/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://blog.tbf1211.xx.kg" target="_blank">1024 维度</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Web3-0/">Web3.0</a><a class="post-meta__tags" href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/">区块链</a><a class="post-meta__tags" href="/tags/%E5%8E%BB%E4%B8%AD%E5%BF%83%E5%8C%96/">去中心化</a><a class="post-meta__tags" href="/tags/ETH/">ETH</a><a class="post-meta__tags" href="/tags/2024/">2024</a></div><div class="post-share"><div class="social-share" data-image="/img/cover/default_cover-13.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2024/2024-11-18_PostCSS%E8%AF%A6%E8%A7%A3%EF%BC%9A%E4%B8%80%E4%B8%AA%E7%94%A8JavaScript%E8%BD%AC%E6%8D%A2CSS%E7%9A%84%E5%B7%A5%E5%85%B7/" title="PostCSS详解：一个用JavaScript转换CSS的工具"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-15.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">PostCSS详解：一个用JavaScript转换CSS的工具</div></div><div class="info-2"><div class="info-item-1"> PostCSS 是一个使用 JavaScript 工具和插件来转换 CSS 代码的平台。它本身不是一个 CSS 预处理器（如 Sass、Less），也不是一个 CSS 后处理器，而是一个CSS 处理引擎。它的强大之处在于其插件生态系统，能够让你根据需求自定义 CSS 的转换流程。  PostCSS 的核心理念：提供 CSS 的 AST (Abstract Syntax Tree)，让开发者可以通过插件以 JavaScript 的强大能力处理 CSS。   一、什么是 PostCSS？想象一下，你有一个工具箱，里面有各种功能不同的螺丝刀、扳手、锤子。PostCSS 就是这个工具箱本身，它提供了一个开放的结构，你可以往里面放各种插件（工具）。每个插件都负责一个特定的任务，比如给 CSS 属性自动添加浏览器前缀、将未来的 CSS 语法转换为当前可用的语法、优化 CSS 代码等等。 PostCSS 的工作流程大致如下：  解析 (Parse)：PostCSS 接收原始 CSS 代码字符串。 生成 AST (Abstract Syntax Tree)：将 CSS 代码解析成一个抽象语法树...</div></div></div></a><a class="pagination-related" href="/2024/2024-11-07_%E4%BB%A5%E5%A4%AA%E5%9D%8ALayer2%E6%89%A9%E5%AE%B9%E6%96%B9%E6%A1%88%E8%AF%A6%E8%A7%A3%EF%BC%9AWeb3%E8%A7%84%E6%A8%A1%E5%8C%96%E7%9A%84%E5%85%B3%E9%94%AE%E8%B7%AF%E5%BE%84/" title="以太坊Layer2扩容方案详解：Web3规模化的关键路径"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-12.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">以太坊Layer2扩容方案详解：Web3规模化的关键路径</div></div><div class="info-2"><div class="info-item-1"> 以太坊，作为全球最具影响力的智能合约平台，承载了绝大多数的去中心化应用 (dApps)。然而，其底层主链 (Layer1) 的设计在保证去中心化和安全性的同时，也带来了扩展性瓶颈：有限的交易吞吐量（约 15-30 TPS）和高峰期高昂的交易费用（Gas Fee）。这些限制严重阻碍了以太坊生态的进一步发展和 Web3 的大规模普及。 为此，Layer2 扩容方案应运而生，成为了解决以太坊扩展性问题的核心策略。Layer2 是构建在以太坊主链之上的一层网络，它通过在链下处理大部分交易，并将处理结果定期提交回 Layer1，从而大幅提升交易速度并降低成本，同时继承 Layer1 的安全性。   1. 引言：Layer1 的局限与 Layer2 的诞生1.1 以太坊 Layer1 的“不可能三角”区块链技术面临着著名的“不可能三角”困境：去中心化 (Decentralization)、安全性 (Security)、可扩展性 (Scalability) 三者难以同时兼顾。以太坊 Layer1 优先选择了去中心化和安全性，这意味着其在可扩展性上做出了牺牲。  低吞吐量：平均约 15-30 ...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2024/2024-11-07_%E4%BB%A5%E5%A4%AA%E5%9D%8ALayer2%E6%89%A9%E5%AE%B9%E6%96%B9%E6%A1%88%E8%AF%A6%E8%A7%A3%EF%BC%9AWeb3%E8%A7%84%E6%A8%A1%E5%8C%96%E7%9A%84%E5%85%B3%E9%94%AE%E8%B7%AF%E5%BE%84/" title="以太坊Layer2扩容方案详解：Web3规模化的关键路径"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-12.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-11-07</div><div class="info-item-2">以太坊Layer2扩容方案详解：Web3规模化的关键路径</div></div><div class="info-2"><div class="info-item-1"> 以太坊，作为全球最具影响力的智能合约平台，承载了绝大多数的去中心化应用 (dApps)。然而，其底层主链 (Layer1) 的设计在保证去中心化和安全性的同时，也带来了扩展性瓶颈：有限的交易吞吐量（约 15-30 TPS）和高峰期高昂的交易费用（Gas Fee）。这些限制严重阻碍了以太坊生态的进一步发展和 Web3 的大规模普及。 为此，Layer2 扩容方案应运而生，成为了解决以太坊扩展性问题的核心策略。Layer2 是构建在以太坊主链之上的一层网络，它通过在链下处理大部分交易，并将处理结果定期提交回 Layer1，从而大幅提升交易速度并降低成本，同时继承 Layer1 的安全性。   1. 引言：Layer1 的局限与 Layer2 的诞生1.1 以太坊 Layer1 的“不可能三角”区块链技术面临着著名的“不可能三角”困境：去中心化 (Decentralization)、安全性 (Security)、可扩展性 (Scalability) 三者难以同时兼顾。以太坊 Layer1 优先选择了去中心化和安全性，这意味着其在可扩展性上做出了牺牲。  低吞吐量：平均约 15-30 ...</div></div></div></a><a class="pagination-related" href="/2023/2023-05-18_%E4%BB%A5%E5%A4%AA%E5%9D%8A%E4%B8%8EVitalik%20Buterin%EF%BC%9A%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E4%B8%8E%E5%8E%BB%E4%B8%AD%E5%BF%83%E5%8C%96%E4%B8%96%E7%95%8C%E7%9A%84%E5%BC%80%E5%88%9B/" title="以太坊与Vitalik Buterin：智能合约与去中心化世界的开创"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-04.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-05-18</div><div class="info-item-2">以太坊与Vitalik Buterin：智能合约与去中心化世界的开创</div></div><div class="info-2"><div class="info-item-1"> 以太坊（Ethereum） 是一个开源的、全球分布式的区块链平台，它不仅是数字货币，更是一个可编程的区块链，被称为“世界计算机”。相对于比特币的单一数字黄金功能，以太坊通过引入智能合约（Smart Contracts） 的概念，使得开发者可以在其上构建和部署各种去中心化应用程序（DApps），从而开创了区块链技术更广阔的应用前景。而这一切的起点，都离不开其天才般的创始人——维塔利克·布特林（Vitalik Buterin）。  核心意义：以太坊通过图灵完备的智能合约，将区块链从单一的数字货币系统扩展为灵活的计算平台，开启了去中心化应用的时代。   一、Vitalik Buterin 的早期：从游戏玩家到比特币布道者1.1 少年的困惑与比特币的启发 出生与成长：Vitalik Buterin 于 1994 年出生在俄罗斯，6 岁时随家人移居加拿大。他从小就展现出非凡的数学和编程天赋，以及对社会科学和经济学的浓厚兴趣。 魔兽世界的启示：少年时期，Vitalik 沉迷于《魔兽世界》。当暴雪公司在一次更新中修改了他角色的技能，他感到非常愤怒，这次经历让他第一次认识到中心化系统可能带来的...</div></div></div></a><a class="pagination-related" href="/2023/2023-07-20_%E4%BB%A5%E5%A4%AA%E5%9D%8A%EF%BC%88Ethereum%EF%BC%89%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E6%B7%B1%E5%BA%A6%E8%A7%A3%E6%9E%90/" title="以太坊（Ethereum）智能合约深度解析"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-09.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-07-20</div><div class="info-item-2">以太坊（Ethereum）智能合约深度解析</div></div><div class="info-2"><div class="info-item-1"> 以太坊（Ethereum）作为全球领先的智能合约平台，开创了“可编程区块链”的时代。智能合约是其核心基石，它让开发者能够在区块链上构建去中心化应用（DApp），实现各种复杂的逻辑而无需信任第三方。本文将深入探讨以太坊智能合约的各个层面，包括其定义、工作原理、开发语言、生命周期以及关键特性。  “智能合约是运行在区块链上的代码，它在特定条件下自动执行预设的协议条款。”   一、什么是智能合约？智能合约（Smart Contract）由尼克·萨博（Nick Szabo）在1994年首次提出，他将其描述为“一个数字化的，可以自我执行协议的计算机交易协议”。在区块链语境下，特别是以太坊中，智能合约的含义更为具体：  代码与数据：智能合约是一段存储在以太坊区块链上的代码（用高级语言如 Solidity 编写，编译为 EVM 字节码）和一个地址，这个地址还存储着该合约的当前状态（数据）。 不可篡改：一旦部署到区块链上，合约的代码和数据都是不可篡改的。 自动执行：当满足预设的条件时，合约会根据其代码逻辑自动执行，无需人工干预。 无需信任：合约的执行结果由区块链网络中的所有节点共同验证，保证了...</div></div></div></a><a class="pagination-related" href="/2024/2024-11-05_Web3%E8%A7%84%E6%A8%A1%E5%8C%96%E8%AF%A6%E8%A7%A3%EF%BC%9A%E5%AE%9E%E7%8E%B0%E4%B8%8B%E4%B8%80%E4%BB%A3%E4%BA%92%E8%81%94%E7%BD%91%E6%84%BF%E6%99%AF%E7%9A%84%E6%8C%91%E6%88%98%E4%B8%8E%E8%B7%AF%E5%BE%84/" title="Web3规模化详解：实现下一代互联网愿景的挑战与路径"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-19.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-11-05</div><div class="info-item-2">Web3规模化详解：实现下一代互联网愿景的挑战与路径</div></div><div class="info-2"><div class="info-item-1"> Web3，作为下一代互联网的愿景，承载着去中心化、用户所有权和开放性等核心理念。它旨在打破少数中心化巨头对数据和权力垄断的格局，将互联网的控制权重新交还给用户。然而，要实现 Web3 的大规模普及和应用，仅仅有理想是远远不够的，其底层技术（主要是区块链）目前在规模化 (Scalability) 方面仍面临严峻挑战。  Web3 规模化，指的是区块链网络和去中心化应用 (dApps) 在保持去中心化和安全性的前提下，处理海量用户和交易的能力。它是 Web3 从小众技术走向主流应用，从概念走向实际落地的必经之路。   目录 引言：Web3 愿景与规模化困境 1.1 Web3 的核心理念 1.2 现有 Web3 基础设施的局限性   Web3 规模化的核心挑战 2.1 区块链的“不可能三角” 2.2 高昂的交易成本 (Gas Fee) 2.3 低下的交易吞吐量 (TPS) 2.4 糟糕的用户体验 (UX) 2.5 数据存储与可用性问题   Web3 规模化的主要技术路径 3.1 Layer1 (主链) 优化 3.1.1 共识机制改进 (PoS、DPoS) 3.1.2 分片技术 (Sh...</div></div></div></a><a class="pagination-related" href="/2023/2023-04-19_%E6%AF%94%E7%89%B9%E5%B8%81%E4%B8%8E%E4%B8%AD%E6%9C%AC%E8%81%AA%EF%BC%9A%E4%B8%80%E5%9C%BA%E5%8A%A0%E5%AF%86%E4%B8%96%E7%95%8C%E7%9A%84%E5%88%9B%E4%B8%96%E7%BA%AA/" title="比特币与中本聪：一场加密世界的创世纪"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-21.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-04-19</div><div class="info-item-2">比特币与中本聪：一场加密世界的创世纪</div></div><div class="info-2"><div class="info-item-1"> 比特币（Bitcoin）是人类历史上第一个、也是最成功的去中心化数字货币。它的诞生不仅开创了一个全新的加密经济时代，更在全球范围内引发了一场关于货币、信任和权力本质的深刻讨论。而其神秘的创造者——中本聪（Satoshi Nakamoto），则成为了21世纪最富有传奇色彩的人物之一。  核心意义：比特币首次在没有中央机构的情况下，实现了可信的、点对点的数字现金系统，解决了数字货币的双重支付问题。   一、比特币诞生前的思想土壤：密码朋克运动比特币并非凭空出现，其思想源泉可以追溯到上世纪 80、90 年代的“密码朋克（Cypherpunk）”运动。 1.1 密码朋克的核心理念 隐私至上：坚信隐私是不可剥夺的人权，而密码学是保护隐私的强大工具。 去中心化：对中心化的权力（政府、银行、大公司）抱有怀疑，认为它们会侵蚀个人自由和隐私。 数字自由：认为在数字世界中，个人应该拥有与现实世界同等的自由。 密码学作为解放工具：通过加密技术，实现个人自由和对抗国家监控。  1.2 比特币的先行者在比特币之前，已经有许多密码朋克尝试构建数字现金系统，但都未能成功解决“双重支付（Double Spen...</div></div></div></a><a class="pagination-related" href="/2023/2023-05-03_%E5%8C%BA%E5%9D%97%E9%93%BE%E5%8E%9F%E7%90%86%E8%AF%A6%E8%A7%A3%EF%BC%9A%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%9F%B3%E4%B8%8E%E8%BF%90%E4%BD%9C%E6%9C%BA%E5%88%B6/" title="区块链原理详解：技术基石与运作机制"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-10.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-05-03</div><div class="info-item-2">区块链原理详解：技术基石与运作机制</div></div><div class="info-2"><div class="info-item-1"> 区块链（Blockchain） 是一种分布式账本技术（Distributed Ledger Technology, DLT），它以块（Block）的形式存储数据，并通过密码学方式将这些块连接成一个链（Chain）。其核心思想是去中心化、不可篡改、公开透明，允许多个参与方在没有中央机构的情况下，共同维护一个安全、可靠、同步的数据记录系统。区块链最初作为比特币的底层技术而闻名，但其应用已远超数字货币范畴，正在变革金融、供应链、物联网等多个领域。  核心思想：区块链通过将交易数据打包成块，使用加密哈希环环相扣，并在分布式网络中通过共识机制维护这一链式结构，从而确保了数据的不可篡改性、可追溯性和去中心化特性。   一、区块链的起源与核心问题在区块链出现之前，所有数字交易系统都依赖于中心化的机构（如银行、支付平台）来验证和记录交易。这种中心化模式存在固有问题：  单点故障：中心服务器一旦出现故障或被攻击，整个系统可能瘫痪或数据丢失。 信任成本：参与方必须信任中心机构，中心机构可能存在信息不对称、权力滥用、数据篡改等风险。 效率瓶颈：中心化系统的处理能力有限，且跨机构操作可能面临协调困难。...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/loading.gif" data-lazy-src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">TeaTang</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">166</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">160</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">55</div></a></div><a id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/teatang"><i class="fab fa-github"></i><span>GitHub主页</span></a><div class="card-info-social-icons"><a class="social-icon" href="mailto:tea.tang1211@gmail.com" rel="external nofollow noreferrer" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title="RSS"><i class="fas fa-rss"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">网站更多功能即将上线，敬请期待！</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81-Arbitrum%EF%BC%9F%E4%BB%A5%E5%A4%AA%E5%9D%8A%E7%9A%84%E6%89%A9%E5%AE%B9%E5%9B%B0%E5%A2%83"><span class="toc-text">一、为什么需要 Arbitrum？以太坊的扩容困境</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81Rollup-%E7%9A%84%E6%A0%B8%E5%BF%83%E9%80%BB%E8%BE%91"><span class="toc-text">二、Rollup 的核心逻辑</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81Arbitrum%EF%BC%9AOptimistic-Rollup-%E7%9A%84%E5%AE%9E%E7%8E%B0"><span class="toc-text">三、Arbitrum：Optimistic Rollup 的实现</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%E6%A6%82%E8%A7%88"><span class="toc-text">3.1 工作原理概览</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B7%E4%BD%93%E6%AD%A5%E9%AA%A4%EF%BC%9A"><span class="toc-text">具体步骤：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%85%B3%E9%94%AE%E7%BB%84%E4%BB%B6"><span class="toc-text">3.2 关键组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E6%AC%BA%E8%AF%88%E8%AF%81%E6%98%8E-Fraud-Proof"><span class="toc-text">3.3 欺诈证明 (Fraud Proof)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81Arbitrum-%E7%9A%84%E4%BC%98%E5%8A%BF"><span class="toc-text">四、Arbitrum 的优势</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81Arbitrum-%E7%9A%84%E5%B1%80%E9%99%90%E6%80%A7%E4%B8%8E%E6%8C%91%E6%88%98"><span class="toc-text">五、Arbitrum 的局限性与挑战</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD%E3%80%81Arbitrum-%E7%9A%84%E6%9C%AA%E6%9D%A5%E5%8F%91%E5%B1%95%E4%B8%8E%E7%94%9F%E6%80%81"><span class="toc-text">六、Arbitrum 的未来发展与生态</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-Arbitrum-Nova"><span class="toc-text">6.1 Arbitrum Nova</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-Stylus"><span class="toc-text">6.2 Stylus</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-Arbitrum-Orbit-Chains"><span class="toc-text">6.3 Arbitrum Orbit Chains</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E7%94%9F%E6%80%81%E7%B3%BB%E7%BB%9F"><span class="toc-text">6.4 生态系统</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%83%E3%80%81%E6%80%BB%E7%BB%93"><span class="toc-text">七、总结</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/2025-10-23_Go%E8%AF%AD%E8%A8%80%E5%B9%B6%E5%8F%91%E4%B8%8E%E5%B9%B6%E8%A1%8C%E8%AF%A6%E8%A7%A3/" title="Go语言并发与并行详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-19.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go语言并发与并行详解"/></a><div class="content"><a class="title" href="/2025/2025-10-23_Go%E8%AF%AD%E8%A8%80%E5%B9%B6%E5%8F%91%E4%B8%8E%E5%B9%B6%E8%A1%8C%E8%AF%A6%E8%A7%A3/" title="Go语言并发与并行详解">Go语言并发与并行详解</a><time datetime="2025-10-22T22:24:00.000Z" title="发表于 2025-10-23 06:24:00">2025-10-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/2025-10-16_%E5%B8%B8%E7%94%A8%E9%99%90%E6%B5%81%E7%AE%97%E6%B3%95%E7%9A%84Go%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0%E8%AF%A6%E8%A7%A3/" title="常用限流算法的Go语言实现详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-05.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="常用限流算法的Go语言实现详解"/></a><div class="content"><a class="title" href="/2025/2025-10-16_%E5%B8%B8%E7%94%A8%E9%99%90%E6%B5%81%E7%AE%97%E6%B3%95%E7%9A%84Go%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0%E8%AF%A6%E8%A7%A3/" title="常用限流算法的Go语言实现详解">常用限流算法的Go语言实现详解</a><time datetime="2025-10-15T22:24:00.000Z" title="发表于 2025-10-16 06:24:00">2025-10-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/2025-10-10_NativeScript-Vue3%E8%AF%A6%E8%A7%A3/" title="NativeScript-Vue3详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-08.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="NativeScript-Vue3详解"/></a><div class="content"><a class="title" href="/2025/2025-10-10_NativeScript-Vue3%E8%AF%A6%E8%A7%A3/" title="NativeScript-Vue3详解">NativeScript-Vue3详解</a><time datetime="2025-10-09T22:24:00.000Z" title="发表于 2025-10-10 06:24:00">2025-10-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/2025-10-08_Hyper-V%20%E6%B7%B1%E5%BA%A6%E8%AF%A6%E8%A7%A3%EF%BC%9AWindows%20%E5%B9%B3%E5%8F%B0%E4%B8%8A%E7%9A%84%E4%B8%93%E4%B8%9A%E7%BA%A7%E8%99%9A%E6%8B%9F%E5%8C%96%E6%8A%80%E6%9C%AF/" title="Hyper-V 深度详解：Windows 平台上的专业级虚拟化技术"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-14.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hyper-V 深度详解：Windows 平台上的专业级虚拟化技术"/></a><div class="content"><a class="title" href="/2025/2025-10-08_Hyper-V%20%E6%B7%B1%E5%BA%A6%E8%AF%A6%E8%A7%A3%EF%BC%9AWindows%20%E5%B9%B3%E5%8F%B0%E4%B8%8A%E7%9A%84%E4%B8%93%E4%B8%9A%E7%BA%A7%E8%99%9A%E6%8B%9F%E5%8C%96%E6%8A%80%E6%9C%AF/" title="Hyper-V 深度详解：Windows 平台上的专业级虚拟化技术">Hyper-V 深度详解：Windows 平台上的专业级虚拟化技术</a><time datetime="2025-10-07T22:24:00.000Z" title="发表于 2025-10-08 06:24:00">2025-10-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/2025-10-06_TresJS%E8%AF%A6%E8%A7%A3%EF%BC%9A%E7%94%A8Vue%E7%9A%84%E6%96%B9%E5%BC%8F%E6%9E%84%E5%BB%BAThree.js%E5%9C%BA%E6%99%AF/" title="TresJS详解：用Vue的方式构建Three.js场景"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-13.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="TresJS详解：用Vue的方式构建Three.js场景"/></a><div class="content"><a class="title" href="/2025/2025-10-06_TresJS%E8%AF%A6%E8%A7%A3%EF%BC%9A%E7%94%A8Vue%E7%9A%84%E6%96%B9%E5%BC%8F%E6%9E%84%E5%BB%BAThree.js%E5%9C%BA%E6%99%AF/" title="TresJS详解：用Vue的方式构建Three.js场景">TresJS详解：用Vue的方式构建Three.js场景</a><time datetime="2025-10-05T22:24:00.000Z" title="发表于 2025-10-06 06:24:00">2025-10-06</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/img/cover/default_cover-13.jpg);"><div class="footer-flex"><div class="footer-flex-items"><div class="footer-flex-item"><div class="footer-flex-title">我的轨迹</div><div class="footer-flex-content"><a href="/tags/2023/" target="_blank" title="📌 2023">📌 2023</a><a href="/tags/2024/" target="_blank" title="❓ 2024">❓ 2024</a><a href="/tags/2025/" target="_blank" title="🚀 2025">🚀 2025</a></div></div></div><div class="footer-flex-items"><div class="footer-flex-item"><div class="footer-flex-title">维度</div><div class="footer-flex-content"><a href="/categories/" target="_blank" title="分类">分类</a><a href="/tags/" target="_blank" title="标签">标签</a><a href="/categories/" target="_blank" title="时间线">时间线</a></div></div></div><div class="footer-flex-items"><div class="footer-flex-item"><div class="footer-flex-title">其他</div><div class="footer-flex-content"><a href="/shuoshuo" target="_blank" title="说说">说说</a></div></div></div></div><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2021 - 2025 By TeaTang</span><span class="framework-info"><span class="footer-separator">|</span><span>框架 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.1"></script><script src="/js/main.js?v=5.5.1"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.0.33/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@19.1.3/dist/lazyload.iife.min.js"></script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = `%%{init:{ 'theme':'${theme}'}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid@11.12.0/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>(() => {
  const applyThemeDefaultsConfig = theme => {
    if (theme === 'dark-mode') {
      Chart.defaults.color = "rgba(255, 255, 255, 0.8)"
      Chart.defaults.borderColor = "rgba(255, 255, 255, 0.2)"
      Chart.defaults.scale.ticks.backdropColor = "transparent"
    } else {
      Chart.defaults.color = "rgba(0, 0, 0, 0.8)"
      Chart.defaults.borderColor = "rgba(0, 0, 0, 0.1)"
      Chart.defaults.scale.ticks.backdropColor = "transparent"
    }
  }

  // Recursively traverse the config object and automatically apply theme-specific color schemes
  const applyThemeConfig = (obj, theme) => {
    if (typeof obj !== 'object' || obj === null) return

    Object.keys(obj).forEach(key => {
      const value = obj[key]
      // If the property is an object and has theme-specific options, apply them
      if (typeof value === 'object' && value !== null) {
        if (value[theme]) {
          obj[key] = value[theme] // Apply the value for the current theme
        } else {
          // Recursively process child objects
          applyThemeConfig(value, theme)
        }
      }
    })
  }

  const runChartJS = ele => {
    window.loadChartJS = true

    Array.from(ele).forEach((item, index) => {
      const chartSrc = item.firstElementChild
      const chartID = item.getAttribute('data-chartjs-id') || ('chartjs-' + index) // Use custom ID or default ID
      const width = item.getAttribute('data-width')
      const existingCanvas = document.getElementById(chartID)

      // If a canvas already exists, remove it to avoid rendering duplicates
      if (existingCanvas) {
          existingCanvas.parentNode.remove()
      }

      const chartDefinition = chartSrc.textContent
      const canvas = document.createElement('canvas')
      canvas.id = chartID

      const div = document.createElement('div')
      div.className = 'chartjs-wrap'

      if (width) {
        div.style.width = width
      }

      div.appendChild(canvas)
      chartSrc.insertAdjacentElement('afterend', div)

      const ctx = document.getElementById(chartID).getContext('2d')

      const config = JSON.parse(chartDefinition)

      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark-mode' : 'light-mode'

      // Set default styles (initial setup)
      applyThemeDefaultsConfig(theme)

      // Automatically traverse the config and apply dual-mode color schemes
      applyThemeConfig(config, theme)

      new Chart(ctx, config)
    })
  }

  const loadChartJS = () => {
    const chartJSEle = document.querySelectorAll('#article-container .chartjs-container')
    if (chartJSEle.length === 0) return

    window.loadChartJS ? runChartJS(chartJSEle) : btf.getScript('https://cdn.jsdelivr.net/npm/chart.js@4.5.0/dist/chart.umd.min.js').then(() => runChartJS(chartJSEle))
  }

  // Listen for theme change events
  btf.addGlobalFn('themeChange', loadChartJS, 'chartjs')
  btf.addGlobalFn('encrypt', loadChartJS, 'chartjs')

  window.pjax ? loadChartJS() : document.addEventListener('DOMContentLoaded', loadChartJS)
})()</script></div><script data-pjax src="/self/btf.js"></script><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/fireworks.min.js"></script><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="ture"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-fluttering-ribbon.min.js"></script><script id="canvas_nest" defer="defer" color="0,200,200" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script><script>(() => {
  const pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => {
      try {
        fn()
      } catch (err) {
        console.debug('Pjax callback failed:', err)
      }
    })
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      const usePjax = true
      true
        ? (usePjax ? pjax.loadUrl('/404.html') : window.location.href = '/404.html')
        : window.location.href = e.request.responseURL
    }
  })
})()</script><script>(() => {
  const option = null
  const config = {"site_uv":true,"site_pv":true,"page_pv":true,"token":"qTvz1SkmPDt785fgh6BpiA5qiFFIVUwxj8Ft+rPW+cdN59v1hXjwRgSmy0+ji9m+oLlcxvo2NfDSMa6epVl3NTlsN3ejCIwWeP8Y51aEJ0Sbem4UexGmJLspB7AkOBId2SdtT6QWEBlGmFIIQgchQ2zAKYxTmc/kpBED5aLSr+3uvmQ9/G7FJQeVFpveDkK0xM1hu36xq4a6/FSeROxtoEp5zabzTWiYTlLsQzIl/NlELnCq3nxK+oo/vl3UQo/oM/rae/gJX/MaVKsgIUCd2ABJogNkx2KTenBIBpbPki5FzOgPh6/z4GPa4HvhNO51DDVG1SEQZooqEYmt/gnybLBWFbN+7liZWw=="}

  const runTrack = () => {
    if (typeof umami !== 'undefined' && typeof umami.track === 'function') {
      umami.track(props => ({ ...props, url: window.location.pathname, title: GLOBAL_CONFIG_SITE.title }))
    } else {
      console.warn('Umami Analytics: umami.track is not available')
    }
  }

  const loadUmamiJS = () => {
    btf.getScript('https://umami.012700.xyz/script.js', {
      'data-website-id': '2a796d6c-6499-42d8-8eb4-d9a2930b0ff3',
      'data-auto-track': 'false',
      ...option
    }).then(() => {
      runTrack()
    }).catch(error => {
      console.error('Umami Analytics: Error loading script', error)
    })
  }

  const getData = async (isPost) => {
    try {
      const now = Date.now()
      const keyUrl = isPost ? `&url=${window.location.pathname}` : ''
      const headerList = { 'Accept': 'application/json' }

      if (true) {
        headerList['Authorization'] = `Bearer ${config.token}`
      } else {
        headerList['x-umami-api-key'] = config.token
      }

      const res = await fetch(`https://umami.012700.xyz/api/websites/2a796d6c-6499-42d8-8eb4-d9a2930b0ff3/stats?startAt=0000000000&endAt=${now}${keyUrl}`, {
        method: "GET",
        headers: headerList
      })

      if (!res.ok) {
        throw new Error(`HTTP error! status: ${res.status}`)
      }

      return await res.json()
    } catch (error) {
      console.error('Umami Analytics: Failed to fetch data', error)
      throw error
    }
  }

  const insertData = async () => {
    try {
      if (GLOBAL_CONFIG_SITE.pageType === 'post' && config.page_pv) {
        const pagePV = document.getElementById('umamiPV')
        if (pagePV) {
          const data = await getData(true)
          if (data && data.pageviews && typeof data.pageviews.value !== 'undefined') {
            pagePV.textContent = data.pageviews.value
          } else {
            console.warn('Umami Analytics: Invalid page view data received')
          }
        }
      }

      if (config.site_uv || config.site_pv) {
        const data = await getData(false)

        if (config.site_uv) {
          const siteUV = document.getElementById('umami-site-uv')
          if (siteUV && data && data.visitors && typeof data.visitors.value !== 'undefined') {
            siteUV.textContent = data.visitors.value
          } else if (siteUV) {
            console.warn('Umami Analytics: Invalid site UV data received')
          }
        }

        if (config.site_pv) {
          const sitePV = document.getElementById('umami-site-pv')
          if (sitePV && data && data.pageviews && typeof data.pageviews.value !== 'undefined') {
            sitePV.textContent = data.pageviews.value
          } else if (sitePV) {
            console.warn('Umami Analytics: Invalid site PV data received')
          }
        }
      }
    } catch (error) {
      console.error('Umami Analytics: Failed to insert data', error)
    }
  }

  btf.addGlobalFn('pjaxComplete', runTrack, 'umami_analytics_run_track')
  btf.addGlobalFn('pjaxComplete', insertData, 'umami_analytics_insert')


  loadUmamiJS()

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', insertData)
  } else {
    setTimeout(insertData, 100)
  }
})()</script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden="hidden"></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="local-search-input"><input placeholder="搜索文章" type="text"/></div><hr/><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none;"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=5.5.1"></script></div></div></body></html>