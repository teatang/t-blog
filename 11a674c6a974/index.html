<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>NativeScript-Vue3详解 | 1024 维度</title><meta name="author" content="TeaTang"><meta name="copyright" content="TeaTang"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="NativeScript-Vue 3 是一个强大的框架组合，它允许开发者使用熟悉的 Vue 3 语法和工具链来构建真正的原生 iOS 和 Android 移动应用程序。与传统 Hybrid 应用（如 Cordova 或 Ionic）不同，NativeScript 直接操作原生 UI 组件，因此能够提供一流的性能和用户体验，同时避免了 Web 视图的性能瓶颈。  核心亮点：使用 Vue 3 渲染原">
<meta property="og:type" content="article">
<meta property="og:title" content="NativeScript-Vue3详解">
<meta property="og:url" content="https://blog.tbf1211.xx.kg/11a674c6a974/index.html">
<meta property="og:site_name" content="1024 维度">
<meta property="og:description" content="NativeScript-Vue 3 是一个强大的框架组合，它允许开发者使用熟悉的 Vue 3 语法和工具链来构建真正的原生 iOS 和 Android 移动应用程序。与传统 Hybrid 应用（如 Cordova 或 Ionic）不同，NativeScript 直接操作原生 UI 组件，因此能够提供一流的性能和用户体验，同时避免了 Web 视图的性能瓶颈。  核心亮点：使用 Vue 3 渲染原">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blog.tbf1211.xx.kg/img/cover/default_cover-06.jpg">
<meta property="article:published_time" content="2025-10-09T22:24:00.000Z">
<meta property="article:modified_time" content="2026-02-25T10:07:56.080Z">
<meta property="article:author" content="TeaTang">
<meta property="article:tag" content="TypeScript">
<meta property="article:tag" content="JavaScript">
<meta property="article:tag" content="Vue">
<meta property="article:tag" content="2025">
<meta property="article:tag" content="移动开发">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog.tbf1211.xx.kg/img/cover/default_cover-06.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "NativeScript-Vue3详解",
  "url": "https://blog.tbf1211.xx.kg/11a674c6a974/",
  "image": "https://blog.tbf1211.xx.kg/img/cover/default_cover-06.jpg",
  "datePublished": "2025-10-09T22:24:00.000Z",
  "dateModified": "2026-02-25T10:07:56.080Z",
  "author": [
    {
      "@type": "Person",
      "name": "TeaTang",
      "url": "https://blog.tbf1211.xx.kg"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon-1.ico"><link rel="canonical" href="https://blog.tbf1211.xx.kg/11a674c6a974/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><meta name="google-site-verification" content="NdIUXAOVyGnnBhcrip0ksCawbdAzT0hlBZDE9u4jx6k"/><meta name="msvalidate.01" content="567E47D75E8DCF1282B9623AD914701E"/><meta name="baidu-site-verification" content="code-pE5rnuxcfD"/><link rel="stylesheet" href="/css/index.css?v=5.5.4"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.1.9/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          const mediaQueryDark = window.matchMedia('(prefers-color-scheme: dark)')
          const mediaQueryLight = window.matchMedia('(prefers-color-scheme: light)')

          if (theme === undefined) {
            if (mediaQueryLight.matches) activateLightMode()
            else if (mediaQueryDark.matches) activateDarkMode()
            else {
              const hour = new Date().getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            mediaQueryDark.addEventListener('change', () => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else {
            theme === 'light' ? activateLightMode() : activateDarkMode()
          }
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":false,"top_n_per_article":1,"unescape":false,"pagination":{"enable":true,"hitsPerPage":8},"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":400,"highlightFullpage":true,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":150,"languages":{"author":"作者: TeaTang","link":"链接: ","source":"来源: 1024 维度","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.13.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'NativeScript-Vue3详解',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="preconnect" href="https://jsd.012700.xyz"><link href="/self/btf.css" rel="stylesheet"><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="1024 维度" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/loading.gif" data-lazy-src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">555</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">232</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">86</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 我的轨迹</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/2023/"><i class="fa-fw fa-solid fa-bug"></i><span> 2023</span></a></li><li><a class="site-page child" href="/archives/2024/"><i class="fa-fw fa-solid fa-code"></i><span> 2024</span></a></li><li><a class="site-page child" href="/archives/2025/"><i class="fa-fw fa-solid fa-network-wired"></i><span> 2025</span></a></li><li><a class="site-page child" href="/archives/2026/"><i class="fa-fw fa-solid fa-code-branch"></i><span> 2026</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa-solid fa-calendar-days"></i><span> 时间线</span></a></div><div class="menus_item"><a class="site-page" href="/shuoshuo"><i class="fa-fw fas fa-comment"></i><span> 说说</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image: url(/img/cover/default_cover-06.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">1024 维度</span></a><a class="nav-page-title" href="/"><span class="site-name">NativeScript-Vue3详解</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 我的轨迹</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/2023/"><i class="fa-fw fa-solid fa-bug"></i><span> 2023</span></a></li><li><a class="site-page child" href="/archives/2024/"><i class="fa-fw fa-solid fa-code"></i><span> 2024</span></a></li><li><a class="site-page child" href="/archives/2025/"><i class="fa-fw fa-solid fa-network-wired"></i><span> 2025</span></a></li><li><a class="site-page child" href="/archives/2026/"><i class="fa-fw fa-solid fa-code-branch"></i><span> 2026</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa-solid fa-calendar-days"></i><span> 时间线</span></a></div><div class="menus_item"><a class="site-page" href="/shuoshuo"><i class="fa-fw fas fa-comment"></i><span> 说说</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">NativeScript-Vue3详解</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon far fa-calendar-alt"></i><span class="post-meta-label">发表于</span><time datetime="2025-10-09T22:24:00.000Z" title="发表于 2025-10-10 06:24:00">2025-10-10</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/">前端技术</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91/">移动开发</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">2.7k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>10分钟</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><blockquote>
<p><strong>NativeScript-Vue 3</strong> 是一个强大的框架组合，它允许开发者使用熟悉的 <strong>Vue 3 语法和工具链</strong>来构建<strong>真正的原生 iOS 和 Android 移动应用程序</strong>。与传统 Hybrid 应用（如 Cordova 或 Ionic）不同，NativeScript 直接操作原生 UI 组件，因此能够提供一流的性能和用户体验，同时避免了 Web 视图的性能瓶颈。</p>
</blockquote>
<div class="note info flat"><p><strong>核心亮点</strong>：使用 Vue 3 渲染原生 UI 组件，实现高性能、媲美原生体验的跨平台移动应用开发。</p>
</div>
<hr>
<h2 id="一、什么是-NativeScript-Vue-3？"><a href="#一、什么是-NativeScript-Vue-3？" class="headerlink" title="一、什么是 NativeScript-Vue 3？"></a>一、什么是 NativeScript-Vue 3？</h2><h3 id="1-1-NativeScript-简介"><a href="#1-1-NativeScript-简介" class="headerlink" title="1.1 NativeScript 简介"></a>1.1 NativeScript 简介</h3><p><strong>NativeScript</strong> 是一个开源框架，用于使用 JavaScript、TypeScript 或其他编译到 JavaScript 的语言来构建原生移动应用程序。它的核心能力在于：</p>
<ul>
<li><strong>直接访问原生 API</strong>：无需编写任何 Objective-C&#x2F;Swift 或 Java&#x2F;Kotlin 代码，开发者可以直接从 JavaScript 访问设备的所有原生 API。</li>
<li><strong>原生 UI 渲染</strong>：不使用 WebView，而是将 JavaScript 代码编译成直接操作原生 UI 组件（如 <code>UILabel</code>、<code>UIButton</code> 在 iOS 上，<code>TextView</code>、<code>Button</code> 在 Android 上）的指令。</li>
<li><strong>跨平台</strong>：一套代码库可以编译成 iOS 和 Android 两个平台的原生应用。</li>
</ul>
<h3 id="1-2-Vue-js-简介"><a href="#1-2-Vue-js-简介" class="headerlink" title="1.2 Vue.js 简介"></a>1.2 Vue.js 简介</h3><p><strong>Vue.js</strong> 是一个流行的渐进式 JavaScript 框架，用于构建用户界面。以其易学易用、性能高效和灵活的组件化开发而闻名。<strong>Vue 3</strong> 作为其最新主要版本，带来了更好的性能、TypeScript 支持、Composition API 等特性。</p>
<h3 id="1-3-NativeScript-Vue-3-的整合"><a href="#1-3-NativeScript-Vue-3-的整合" class="headerlink" title="1.3 NativeScript-Vue 3 的整合"></a>1.3 NativeScript-Vue 3 的整合</h3><p><strong>NativeScript-Vue 3</strong> 是 NativeScript 框架中专门用于与 Vue 3 生态系统集成的插件。它提供了一个 Vue 渲染器，将 Vue 组件映射到 NativeScript 的原生 UI 组件上。这意味着开发者可以使用 Vue 3 的所有优点（如响应式数据、组件化、生命周期钩子、Composition API）来构建原生移动应用。</p>
<h2 id="二、NativeScript-Vue-3-的工作原理"><a href="#二、NativeScript-Vue-3-的工作原理" class="headerlink" title="二、NativeScript-Vue 3 的工作原理"></a>二、NativeScript-Vue 3 的工作原理</h2><p>当一个 NativeScript-Vue 应用程序运行时：</p>
<ol>
<li><strong>JavaScript 引擎</strong>：应用程序代码在设备上的 JavaScript 虚拟机（如 iOS 上的 JavaScriptCore，Android 上的 V8）中运行。</li>
<li><strong>NativeScript Runtime</strong>：这是 NativeScript 的核心。它在运行时动态地将 JavaScript 调用转换为原生的 API 调用，并提供一个桥接层，使得 JavaScript 能够直接操作原生 UI 和访问原生功能。</li>
<li><strong>Vue 渲染器</strong>：NativeScript-Vue 提供了一个自定义的 Vue 渲染器。它拦截 Vue 的虚拟 DOM 更新，并将其转换为 NativeScript 能够理解的原生 UI 操作。例如，一个 <code>&lt;Label&gt;</code> Vue 组件会被渲染成一个原生的 <code>UILabel</code> (iOS) 或 <code>TextView</code> (Android)。</li>
<li><strong>原生 UI (Native UI)</strong>：最终，屏幕上呈现的是纯粹的原生 UI 元素，而不是 WebView 中的网页内容。</li>
</ol>
<div class="mermaid-wrap"><pre class="mermaid-src" data-config="{}" hidden>
    graph TD
    A[Vue 3 Application Code] --&gt; B{Vue Renderer for NativeScript}
    B --&gt; C[NativeScript Runtime]
    C --&gt; D[Native iOS&#x2F;Android APIs]
    D --&gt; E[Native UI Components]
    D --&gt; F[Device Features e.g., Camera, GPS]
  </pre></div>

<h2 id="三、核心特性与优势"><a href="#三、核心特性与优势" class="headerlink" title="三、核心特性与优势"></a>三、核心特性与优势</h2><h3 id="3-1-真正的原生-UI-与性能"><a href="#3-1-真正的原生-UI-与性能" class="headerlink" title="3.1 真正的原生 UI 与性能"></a>3.1 真正的原生 UI 与性能</h3><ul>
<li><strong>原生组件</strong>：直接使用原生 UI 组件，如 <code>&lt;Button&gt;</code>, <code>&lt;Label&gt;</code>, <code>&lt;Image&gt;</code>, <code>&lt;ListView&gt;</code> 等，而非 Web 元素。</li>
<li><strong>高性能</strong>：由于避免了 Web 视图的开销，应用程序启动更快，UI 响应更流畅，动画更自然。</li>
</ul>
<h3 id="3-2-熟悉的-Vue-3-开发体验"><a href="#3-2-熟悉的-Vue-3-开发体验" class="headerlink" title="3.2 熟悉的 Vue 3 开发体验"></a>3.2 熟悉的 Vue 3 开发体验</h3><ul>
<li><strong>Vue SFC (Single File Components)</strong>：使用 <code>.vue</code> 文件进行组件开发，包含 <code>&lt;template&gt;</code>, <code>&lt;script&gt;</code>, <code>&lt;style&gt;</code>。</li>
<li><strong>Composition API</strong>：充分利用 Vue 3 的 Composition API 来组织逻辑，提高代码可维护性和复用性。</li>
<li><strong>响应式系统</strong>：Vue 3 强大的响应式系统在原生应用中同样有效。</li>
<li><strong>Vue Router</strong> (或 NativeScript 自己的导航系统)：可用于管理应用内的页面导航。</li>
<li><strong>Vuex &#x2F; Pinia</strong>：可以集成 Vue 生态中的状态管理库。</li>
</ul>
<h3 id="3-3-100-原生-API-访问"><a href="#3-3-100-原生-API-访问" class="headerlink" title="3.3 100% 原生 API 访问"></a>3.3 100% 原生 API 访问</h3><ul>
<li><strong>不妥协</strong>：无需插件或桥接，直接调用底层 iOS 和 Android 平台的任何 API。这使得 Lottie 动画、支付集成、蓝牙通信等高级功能变得轻而易举。</li>
<li><strong>跨平台 ABI</strong>：NativeScript 提供了一个运行时 ABI (Application Binary Interface)，让 JavaScript 代码能够直接与原生二进制库进行交互。</li>
</ul>
<h3 id="3-4-共享代码的能力"><a href="#3-4-共享代码的能力" class="headerlink" title="3.4 共享代码的能力"></a>3.4 共享代码的能力</h3><ul>
<li><strong>高复用性</strong>：如果你同时开发 Web 应用，通常可以共享大量的 Vue 逻辑 (Vuex stores, Composition API 组合函数, 工具类)。核心业务逻辑可以完全复用。</li>
<li><strong>样式分离</strong>：虽然 UI 组件是原生的，但样式是使用 CSS-like 语法定义的，并可以像 Web 一样通过 <code>scoped</code> 样式或预处理器 (Sass&#x2F;Less) 进行管理。</li>
</ul>
<h3 id="3-5-强大的工具链"><a href="#3-5-强大的工具链" class="headerlink" title="3.5 强大的工具链"></a>3.5 强大的工具链</h3><ul>
<li><strong>CLI (命令行接口)</strong>：NativeScript CLI 提供了创建、运行、调试、打包应用程序的完整工具集。</li>
<li><strong>热更新 (Hot Reload)</strong>：开发过程中，代码修改可以实时反映到设备上，无需重新编译和部署。</li>
<li><strong>调试</strong>：可以使用传统的 Chrome DevTools (Android) 或 Safari Web Inspector (iOS) 进行调试。</li>
</ul>
<h2 id="四、与其它跨平台方案的对比"><a href="#四、与其它跨平台方案的对比" class="headerlink" title="四、与其它跨平台方案的对比"></a>四、与其它跨平台方案的对比</h2><table>
<thead>
<tr>
<th align="left">特性</th>
<th align="left">NativeScript-Vue 3</th>
<th align="left">React Native</th>
<th align="left">Flutter</th>
<th align="left">Cordova&#x2F;Ionic (Hybrid)</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>UI 渲染</strong></td>
<td align="left">原生 UI 组件 (<code>UILabel</code>, <code>TextView</code>)</td>
<td align="left">原生 UI 组件 (<code>RCTView</code>, <code>RCTText</code>)</td>
<td align="left">自绘 UI (Skia 引擎)</td>
<td align="left">Web 视图 (WebView)</td>
</tr>
<tr>
<td align="left"><strong>性能</strong></td>
<td align="left">优异 (媲美原生)</td>
<td align="left">优异 (媲美原生)</td>
<td align="left">优异 (媲美原生)</td>
<td align="left">良好 (受 WebView 限制)</td>
</tr>
<tr>
<td align="left"><strong>语言&#x2F;框架</strong></td>
<td align="left">Vue 3 + JS&#x2F;TS</td>
<td align="left">React + JS&#x2F;TS</td>
<td align="left">Dart</td>
<td align="left">Web 技术 (HTML, CSS, JS) + 框架</td>
</tr>
<tr>
<td align="left"><strong>原生 API 访问</strong></td>
<td align="left">100% 直接访问</td>
<td align="left">需要 JSI 或 FFI 桥接</td>
<td align="left">需要 FFI 桥接</td>
<td align="left">需要插件 &#x2F; Bridge</td>
</tr>
<tr>
<td align="left"><strong>生态系统</strong></td>
<td align="left">Vue 生态 + NativeScript 特有</td>
<td align="left">React 生态 + React Native 特有</td>
<td align="left">独立 Dart 生态，Google 强力支持</td>
<td align="left">Web 生态 + Cordova&#x2F;Ionic 特有</td>
</tr>
<tr>
<td align="left"><strong>学习曲线</strong></td>
<td align="left">熟悉 Vue 开发者低</td>
<td align="left">熟悉 React 开发者低</td>
<td align="left">学习 Dart 新语言和框架</td>
<td align="left">熟悉 Web 开发者低</td>
</tr>
<tr>
<td align="left"><strong>打包大小</strong></td>
<td align="left">相对较大 (包含运行时)</td>
<td align="left">相对较大</td>
<td align="left">相对较小 (无原生运行时依赖，AOT 编译)</td>
<td align="left">相对较小 (应用仅是 WebView Wrapper)</td>
</tr>
</tbody></table>
<h2 id="五、如何入门-NativeScript-Vue-3"><a href="#五、如何入门-NativeScript-Vue-3" class="headerlink" title="五、如何入门 NativeScript-Vue 3"></a>五、如何入门 NativeScript-Vue 3</h2><h3 id="5-1-安装-NativeScript-CLI"><a href="#5-1-安装-NativeScript-CLI" class="headerlink" title="5.1 安装 NativeScript CLI"></a>5.1 安装 NativeScript CLI</h3><p>首先，你需要安装 Node.js 和 NativeScript CLI：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g nativescript <span class="comment"># 或 yarn global add nativescript</span></span><br></pre></td></tr></table></figure>

<h3 id="5-2-创建新项目"><a href="#5-2-创建新项目" class="headerlink" title="5.2 创建新项目"></a>5.2 创建新项目</h3><p>使用 NativeScript CLI 创建一个基于 Vue 的新项目：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ns create my-vue-app --template @nativescript/template-vue</span><br><span class="line"></span><br><span class="line"><span class="comment"># 或者如果你想使用 TypeScript</span></span><br><span class="line"><span class="comment"># ns create my-vue-app --template @nativescript/template-vue-ts</span></span><br></pre></td></tr></table></figure>

<p>进入项目目录：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> my-vue-app</span><br></pre></td></tr></table></figure>

<h3 id="5-3-运行应用程序"><a href="#5-3-运行应用程序" class="headerlink" title="5.3 运行应用程序"></a>5.3 运行应用程序</h3><ul>
<li><p>在模拟器或连接的 Android 设备上运行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ns run android</span><br></pre></td></tr></table></figure>
</li>
<li><p>在模拟器或连接的 iOS 设备上运行 (macOS 上且需要 Xcode)：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ns run ios</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="5-4-项目结构概览"><a href="#5-4-项目结构概览" class="headerlink" title="5.4 项目结构概览"></a>5.4 项目结构概览</h3><p>一个典型的 NativeScript-Vue 3 项目结构：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">my-vue-app/</span><br><span class="line">├── app/</span><br><span class="line">│   ├── components/       # 可复用组件</span><br><span class="line">│   ├── pages/            # 应用程序页面</span><br><span class="line">│   ├── App.vue           # 应用程序入口组件</span><br><span class="line">│   ├── app.ts            # (或 app.js) 应用启动逻辑</span><br><span class="line">│   ├── main.ts           # (或 main.js) Vue 应用程序创建</span><br><span class="line">│   └── styles/           # 全局样式</span><br><span class="line">├── platforms/            # 原生项目文件 (通常不手动修改)</span><br><span class="line">├── node_modules/</span><br><span class="line">├── package.json</span><br><span class="line">├── tsconfig.json         # TypeScript 配置</span><br><span class="line">└── webpack.config.js     # Webpack 配置 (用于构建)</span><br></pre></td></tr></table></figure>

<h3 id="5-5-一个基本的-Vue-组件示例-pages-HomePage-vue"><a href="#5-5-一个基本的-Vue-组件示例-pages-HomePage-vue" class="headerlink" title="5.5 一个基本的 Vue 组件示例 (pages/HomePage.vue)"></a>5.5 一个基本的 Vue 组件示例 (<code>pages/HomePage.vue</code>)</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;Page&gt;</span><br><span class="line">    &lt;ActionBar title=&quot;我的 NativeScript-Vue 应用&quot;&gt;</span><br><span class="line">      &lt;!-- 可选的 ActionBar 标题和操作 --&gt;</span><br><span class="line">    &lt;/ActionBar&gt;</span><br><span class="line"></span><br><span class="line">    &lt;FlexboxLayout class=&quot;page-content&quot;&gt;</span><br><span class="line">      &lt;Label class=&quot;title&quot; text=&quot;欢迎使用 NativeScript-Vue 3！&quot; /&gt;</span><br><span class="line">      &lt;Button class=&quot;btn&quot; text=&quot;点击我！&quot; @tap=&quot;onButtonTap&quot; /&gt;</span><br><span class="line">      &lt;Label class=&quot;message&quot; :text=&quot;message&quot; textWrap=&quot;true&quot; /&gt;</span><br><span class="line">    &lt;/FlexboxLayout&gt;</span><br><span class="line">  &lt;/Page&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">import &#123; ref &#125; from &#x27;vue&#x27;;</span><br><span class="line"></span><br><span class="line">const message = ref(&#x27;这是一个由 Vue 3 驱动的原生应用！&#x27;);</span><br><span class="line"></span><br><span class="line">function onButtonTap() &#123;</span><br><span class="line">  message.value = &#x27;按钮已被点击！更新原生 UI 视图！&#x27;;</span><br><span class="line">  // 可以在这里访问原生 API，例如：</span><br><span class="line">  // console.log(&quot;Current OS:&quot;, Application.android ? &quot;Android&quot; : &quot;iOS&quot;);</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.page-content &#123;</span><br><span class="line">  flex-direction: column;</span><br><span class="line">  justify-content: center;</span><br><span class="line">  align-items: center;</span><br><span class="line">  padding: 20;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.title &#123;</span><br><span class="line">  font-size: 24;</span><br><span class="line">  font-weight: bold;</span><br><span class="line">  margin-bottom: 20;</span><br><span class="line">  text-align: center;</span><br><span class="line">  color: #333;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.btn &#123;</span><br><span class="line">  background-color: #42b983; /* Vue 的绿色 */</span><br><span class="line">  color: white;</span><br><span class="line">  padding: 10 20;</span><br><span class="line">  border-radius: 5;</span><br><span class="line">  font-size: 18;</span><br><span class="line">  margin-bottom: 20;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.message &#123;</span><br><span class="line">  font-size: 16;</span><br><span class="line">  text-align: center;</span><br><span class="line">  color: #555;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p><strong>关键点</strong>：</p>
<ul>
<li><strong><code>&lt;Page&gt;</code></strong>：NativeScript 中的根 UI 容器。</li>
<li><strong><code>&lt;ActionBar&gt;</code></strong>：应用顶部导航栏。</li>
<li><strong>布局容器</strong>：<code>&lt;StackLayout&gt;</code>, <code>&lt;FlexboxLayout&gt;</code>, <code>&lt;GridLayout&gt;</code> 等，这些都是 NativeScript 的原生布局组件。</li>
<li><strong>UI 组件</strong>：<code>&lt;Label&gt;</code>, <code>&lt;Button&gt;</code>, <code>&lt;Image&gt;</code>, <code>&lt;TextField&gt;</code>, <code>&lt;Switch&gt;</code>, <code>&lt;ListView&gt;</code> 等，直接映射到原生组件。</li>
<li><strong>CSS-like 样式</strong>：使用 <code>font-size</code>, <code>background-color</code>, <code>padding</code> 等 CSS 属性进行样式。但请记住，这些最终会转换为原生视图的属性。</li>
<li><strong><code>@tap</code></strong>： NativeScript 中事件绑定的语法，对应原生控件的点击&#x2F;触摸事件。</li>
</ul>
<h2 id="六、高级话题与注意事项"><a href="#六、高级话题与注意事项" class="headerlink" title="六、高级话题与注意事项"></a>六、高级话题与注意事项</h2><h3 id="6-1-主题与样式"><a href="#6-1-主题与样式" class="headerlink" title="6.1 主题与样式"></a>6.1 主题与样式</h3><p>NativeScript 提供了强大的主题系统，你可以使用 CSS-like 语法来定义全局或组件 scoped 样式。它还支持 Sass&#x2F;Less 预处理器。</p>
<h3 id="6-2-插件生态系统"><a href="#6-2-插件生态系统" class="headerlink" title="6.2 插件生态系统"></a>6.2 插件生态系统</h3><p>NativeScript 拥有一个活跃的插件生态系统，可以通过 <code>ns plugin add &lt;plugin-name&gt;</code> 安装社区贡献的插件，以方便地访问不属于核心 NativeScript 的原生功能（如条形码扫描、特定的传感器）。</p>
<h3 id="6-3-内存管理和性能优化"><a href="#6-3-内存管理和性能优化" class="headerlink" title="6.3 内存管理和性能优化"></a>6.3 内存管理和性能优化</h3><p>虽然是原生 UI，但 JavaScript 的垃圾回收机制仍然需要注意。在处理大量数据或复杂动画时，需要注意内存泄漏和性能优化。NativeScript 提供了工具来分析性能瓶颈。</p>
<h3 id="6-4-升级与维护"><a href="#6-4-升级与维护" class="headerlink" title="6.4 升级与维护"></a>6.4 升级与维护</h3><p>保持 NativeScript CLI 和框架依赖的更新非常重要，以便利用最新功能和安全补丁。</p>
<h3 id="6-5-WebAssembly-Flutter-React-Native-的选择"><a href="#6-5-WebAssembly-Flutter-React-Native-的选择" class="headerlink" title="6.5 WebAssembly &#x2F; Flutter &#x2F; React Native 的选择"></a>6.5 WebAssembly &#x2F; Flutter &#x2F; React Native 的选择</h3><p>选择合适的跨平台框架取决于项目需求、团队技能栈和优先级。</p>
<ul>
<li>如果你是 Vue 开发者，且追求原生性能和 100% 原生 API 访问，NativeScript-Vue 是一个极佳的选择。</li>
<li>React Native：如果你或团队熟悉 React。</li>
<li>Flutter：如果你不介意学习 Dart 语言，并且追求像素级控制的 UI 表现。</li>
<li>Web-based 方案 (Capacitor&#x2F;Ionic)：如果你优先考虑 Web 开发的流程和更小的包体积，对原生性能要求不是极致。</li>
</ul>
<h2 id="七、总结"><a href="#七、总结" class="headerlink" title="七、总结"></a>七、总结</h2><p>NativeScript-Vue 3 为广大的 Vue 开发者打开了通向原生移动应用开发的大门。它消除了传统 Web-based 跨平台方案的性能和原生能力限制，让你能够用熟悉的 Vue 语法和工具链，创建出真正高性能、高体验的 iOS 和 Android 应用。凭借其直接访问原生 API 的能力、丰富的组件集和活跃的社区支持，NativeScript-Vue 3 已成为构建下一代移动应用的一个强有力候选者。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://blog.tbf1211.xx.kg">TeaTang</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://blog.tbf1211.xx.kg/11a674c6a974/">https://blog.tbf1211.xx.kg/11a674c6a974/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://blog.tbf1211.xx.kg" target="_blank">1024 维度</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/TypeScript/">TypeScript</a><a class="post-meta__tags" href="/tags/JavaScript/">JavaScript</a><a class="post-meta__tags" href="/tags/Vue/">Vue</a><a class="post-meta__tags" href="/tags/2025/">2025</a><a class="post-meta__tags" href="/tags/%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91/">移动开发</a></div><div class="post-share"><div class="social-share" data-image="/img/cover/default_cover-06.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/3201b8057954/" title="LangChain 详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-14.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">LangChain 详解</div></div><div class="info-2"><div class="info-item-1"> LangChain 是一个用于开发由大型语言模型 (LLMs) 驱动的应用程序的框架。它提供了一套模块化、灵活的工具和抽象，使得开发者能够将 LLMs 与外部数据源、计算逻辑以及其他工具进行结合，从而构建出更复杂、更强大的应用程序。LangChain 的核心思想是链式化 (Chaining) 不同的组件，以实现复杂的逻辑。  核心思想：将大型语言模型 (LLMs) 的能力与其他数据源和计算逻辑解耦、模块化，并通过链 (Chains)、代理 (Agents) 等机制进行编排，以创建高度智能且可扩展的应用程序。 Python 作为 AI 和数据科学领域的主流语言，提供了功能全面且易于使用的 LangChain 库实现。   一、LangChain 核心概念与组件LangChain 的设计是围绕一系列可组合的抽象组件构建的，这些组件可以独立使用，也可以通过“链”的方式连接起来，形成复杂的工作流。以下是 LangChain 的主要核心组件：  Models (模型)：与各种大型语言模型 (LLMs) 进行交互的接口。 LLMs (Large Language Models)：用于文本生...</div></div></div></a><a class="pagination-related" href="/6d6856b2b7ad/" title="Hyper-V 深度详解：Windows 平台上的专业级虚拟化技术"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-20.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">Hyper-V 深度详解：Windows 平台上的专业级虚拟化技术</div></div><div class="info-2"><div class="info-item-1"> Hyper-V 是微软提供的一款基于 Hypervisor 的虚拟化技术，它允许用户在单一物理服务器上运行多个独立的虚拟机 (Virtual Machines, VMs)。作为 Windows Server 操作系统的一个角色功能，以及 Windows 客户端操作系统（Pro、Enterprise、Education 版本）的一个可选功能，Hyper-V 提供了一个可靠、高效且可扩展的平台，用于创建、运行和管理虚拟机。它支持运行多种操作系统，包括 Windows、Linux 以及其他变体，是企业级数据中心、开发测试环境以及个人专业用户不可或缺的工具。  核心思想：Hyper-V 在硬件和操作系统之间插入一个薄薄的虚拟化层——Hypervisor (管理程序)。这个 Hypervisor 直接管理物理硬件资源，并高效地分配给多个虚拟机，每个虚拟机都像一台独立的物理机器一样运行，拥有自己的操作系统和应用程序，从而实现资源的隔离和高效利用。   一、虚拟化技术概述与 Hyper-V 的定位1.1 什么是虚拟化？虚拟化是一种创建事物虚拟版本（而不是物理版本）的技术，通常指创建虚拟计算机...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/7a02193c3680/" title="React Native 详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-30.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-09-08</div><div class="info-item-2">React Native 详解</div></div><div class="info-2"><div class="info-item-1"> React Native 是 Facebook（现 Meta）于 2015 年推出的一个开源移动应用开发框架。它允许开发者使用 JavaScript 和 React 编写代码，同时将应用编译为原生 (Native) 的 iOS 和 Android 应用。其核心理念是“Learn once, write anywhere”——开发者只需学习一套技术栈（React 和 JavaScript），即可构建在多个平台运行的移动应用。  核心思想： React Native 并非将 Web 应用打包为移动应用（如 Cordova&#x2F;Ionic），而是通过 JavaScript 桥接，将 React 组件转换为真正的原生 UI 组件，从而提供接近原生应用的性能和用户体验，同时享受前端开发的高效率。   一、为什么选择 React Native？传统的移动应用开发通常需要为 iOS（使用 Swift&#x2F;Objective-C）和 Android（使用 Java&#x2F;Kotlin）分别编写两套代码，维护成本高昂。React Native 旨在解决这一痛点，提供以下核心优势：...</div></div></div></a><a class="pagination-related" href="/3f37cea80940/" title="Expo 详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-11.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-09-10</div><div class="info-item-2">Expo 详解</div></div><div class="info-2"><div class="info-item-1"> Expo 是一个开源框架和平台，旨在简化 React Native 应用的开发过程。它提供了一套工具和服务，使得开发者无需直接接触原生代码（如 Objective-C&#x2F;Swift 或 Java&#x2F;Kotlin），就能快速构建、部署和迭代 iOS、Android 以及 Web 应用。Expo 致力于降低 React Native 的学习曲线和开发门槛，让前端开发者可以更专注于业务逻辑和用户界面。  核心思想：通过提供一套预配置的开发环境、丰富的原生模块集合、便捷的预览和发布工具链，Expo 极大地简化了 React Native 的开发，使得开发者能够用纯 JavaScript&#x2F;TypeScript 快速构建跨平台应用，而无需深入原生开发细节。   一、为什么选择 Expo？React Native 允许开发者使用 JavaScript&#x2F;TypeScript 构建原生移动应用，但其开发环境配置、原生模块集成和构建发布过程仍可能对新手造成挑战。Expo 的出现就是为了解决这些痛点：  快速启动，零配置： Expo CLI 提供 expo ini...</div></div></div></a><a class="pagination-related" href="/b25babd84514/" title="Vue3 defineModel详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-23.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-08-03</div><div class="info-item-2">Vue3 defineModel详解</div></div><div class="info-2"><div class="info-item-1"> defineModel 是 Vue 3.4 版本中引入的一个新的宏 (macro)，旨在简化组件中双向绑定 v-model 的实现。在 Composition API 的 setup 语法糖 (&lt;script setup&gt;) 中使用时，它极大地减少了为组件实现 v-model 所需的样板代码，使其更加直观和便捷。  核心思想：defineModel 是 defineProps 和 defineEmits 的语法糖，它声明了一个可双向绑定的 props，并自动处理了 modelValue prop 的接收和相应的 update:modelValue 事件的触发，让自定义组件的 v-model 用法变得和原生表单元素一样简洁。   一、为什么需要 defineModel？在 defineModel 出现之前，如果你想在 Vue 3 的自定义组件中实现 v-model 双向绑定，你需要手动完成以下步骤：  通过 defineProps 声明一个名为 modelValue 的 prop 来接收父组件传递的值。 通过 defineEmits 声明一个名为 update:mod...</div></div></div></a><a class="pagination-related" href="/f1d2005549f2/" title="HTMX详解：用HTML属性直接驱动AJAX、CSS过渡和WebSocket"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-12.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-09-28</div><div class="info-item-2">HTMX详解：用HTML属性直接驱动AJAX、CSS过渡和WebSocket</div></div><div class="info-2"><div class="info-item-1"> 在过去十年中，前端开发领域由 JavaScript 框架（如 React, Vue, Angular）占据主导地位，它们将整个用户界面放在客户端，通过 API 与后端交互。然而，这种“单页应用 (SPA)”模式并非总是最佳选择，它带来了复杂的构建流程、初始加载性能问题、SEO 挑战以及较高的开发和维护成本。 HTMX 的出现，挑战了这一主流范式。它主张将交互逻辑回归到服务器端，通过简单的 HTML 属性就能实现 AJAX 请求、CSS 过渡、WebSocket 和服务器发送事件 (SSE)，在不编写一行 JavaScript 代码的情况下，实现丰富的动态用户体验。  本文将深入探讨 HTMX 的核心理念、工作原理、主要特性、优缺点以及适用场景，帮助你理解这个“返璞归真”但又极具创新力的工具。   一、 HTMX 是什么？核心理念与哲学HTMX 是一个小型 (约 15KB gzipped) 的 JavaScript 库，它通过扩展 HTML 原生能力，允许你在 HTML 元素上直接指定 AJAX 请求、CSS 动画、WebSocket 和服务器发送事件 (SSE) 行为。 其核心...</div></div></div></a><a class="pagination-related" href="/309197e65213/" title="DOM Clobbering 漏洞详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-07.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-06-07</div><div class="info-item-2">DOM Clobbering 漏洞详解</div></div><div class="info-2"><div class="info-item-1"> DOM Clobbering (DOM 覆盖) 是一种特殊的 Web 安全漏洞，它允许攻击者通过可控的 HTML 片段，意外地覆盖（”clobber”）或修改网页中的全局 JavaScript 变量、对象或属性。这种攻击方式利用了浏览器对带有 id 或 name 属性的 HTML 元素在全局 window 对象上创建引用或在 document 对象上创建属性的机制，从而篡改前端脚本的执行逻辑，最终可能导致 XSS (Cross-Site Scripting) 或其他客户端逻辑问题。  核心思想：通过注入特定的 HTML 元素（通常带有 id 或 name 属性），欺骗浏览器，使其将这些 HTML 元素作为 JavaScript 代码中预期的全局变量或对象属性来处理，从而导致类型混淆或值替换。   一、为什么会存在 DOM Clobbering？DOM Clobbering 漏洞的根源在于浏览器的一些遗留特性 (Legacy Features) 和 JavaScript 的设计原则：  全局命名空间污染：浏览器为了方便，将具有 id 属性的 HTML 元素自动作为 window ...</div></div></div></a><a class="pagination-related" href="/c86d0a022c83/" title="React入门教程：快速构建交互式用户界面"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-30.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-01</div><div class="info-item-2">React入门教程：快速构建交互式用户界面</div></div><div class="info-2"><div class="info-item-1"> React (通常称为 React.js 或 ReactJS) 是一个用于构建用户界面的 JavaScript 库，由 Facebook (现为 Meta) 创建和维护。它允许开发者声明式地创建复杂的、交互式的 UI，其核心思想是组件化和响应式更新。React 专注于视图层，与传统 MVC 模式中的 V (View) 相对应。  核心思想：“声明式地”构建组件化的 UI。开发者描述 UI 在给定状态下的样子，React 负责高效地更新 DOM 以匹配该状态。    重要提示: React 主要使用 TypeScript 或 JavaScript (JSX) 进行开发。本文档中的所有代码示例都将使用 TypeScript (TSX) 语言，以满足类型安全的需求。  一、为什么需要 React？在现代 Web 开发中，构建复杂的用户界面面临诸多挑战：  DOM 操作的复杂性与性能瓶颈：直接操作 DOM 繁琐且容易出错，尤其是在数据频繁变化时，手动优化 DOM 更新的性能极其困难。 代码组织与复用性：随着应用规模的增长，UI 代码变得难以管理，组件之间的逻辑耦合高，复用性差。 状态管...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/loading.gif" data-lazy-src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">TeaTang</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">555</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">232</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">86</div></a></div><a id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/teatang"><i class="fab fa-github"></i><span>GitHub主页</span></a><div class="card-info-social-icons"><a class="social-icon" href="mailto:tea.tang1211@gmail.com" rel="external nofollow noreferrer" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title="RSS"><i class="fas fa-rss"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">网站更多功能即将上线，敬请期待！</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AF-NativeScript-Vue-3%EF%BC%9F"><span class="toc-text">一、什么是 NativeScript-Vue 3？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-NativeScript-%E7%AE%80%E4%BB%8B"><span class="toc-text">1.1 NativeScript 简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-Vue-js-%E7%AE%80%E4%BB%8B"><span class="toc-text">1.2 Vue.js 简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-NativeScript-Vue-3-%E7%9A%84%E6%95%B4%E5%90%88"><span class="toc-text">1.3 NativeScript-Vue 3 的整合</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81NativeScript-Vue-3-%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="toc-text">二、NativeScript-Vue 3 的工作原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E6%A0%B8%E5%BF%83%E7%89%B9%E6%80%A7%E4%B8%8E%E4%BC%98%E5%8A%BF"><span class="toc-text">三、核心特性与优势</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E7%9C%9F%E6%AD%A3%E7%9A%84%E5%8E%9F%E7%94%9F-UI-%E4%B8%8E%E6%80%A7%E8%83%BD"><span class="toc-text">3.1 真正的原生 UI 与性能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E7%86%9F%E6%82%89%E7%9A%84-Vue-3-%E5%BC%80%E5%8F%91%E4%BD%93%E9%AA%8C"><span class="toc-text">3.2 熟悉的 Vue 3 开发体验</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-100-%E5%8E%9F%E7%94%9F-API-%E8%AE%BF%E9%97%AE"><span class="toc-text">3.3 100% 原生 API 访问</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E5%85%B1%E4%BA%AB%E4%BB%A3%E7%A0%81%E7%9A%84%E8%83%BD%E5%8A%9B"><span class="toc-text">3.4 共享代码的能力</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E5%BC%BA%E5%A4%A7%E7%9A%84%E5%B7%A5%E5%85%B7%E9%93%BE"><span class="toc-text">3.5 强大的工具链</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E4%B8%8E%E5%85%B6%E5%AE%83%E8%B7%A8%E5%B9%B3%E5%8F%B0%E6%96%B9%E6%A1%88%E7%9A%84%E5%AF%B9%E6%AF%94"><span class="toc-text">四、与其它跨平台方案的对比</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E5%A6%82%E4%BD%95%E5%85%A5%E9%97%A8-NativeScript-Vue-3"><span class="toc-text">五、如何入门 NativeScript-Vue 3</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E5%AE%89%E8%A3%85-NativeScript-CLI"><span class="toc-text">5.1 安装 NativeScript CLI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-%E5%88%9B%E5%BB%BA%E6%96%B0%E9%A1%B9%E7%9B%AE"><span class="toc-text">5.2 创建新项目</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-%E8%BF%90%E8%A1%8C%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F"><span class="toc-text">5.3 运行应用程序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E6%A6%82%E8%A7%88"><span class="toc-text">5.4 项目结构概览</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E4%B8%80%E4%B8%AA%E5%9F%BA%E6%9C%AC%E7%9A%84-Vue-%E7%BB%84%E4%BB%B6%E7%A4%BA%E4%BE%8B-pages-HomePage-vue"><span class="toc-text">5.5 一个基本的 Vue 组件示例 (pages&#x2F;HomePage.vue)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E9%AB%98%E7%BA%A7%E8%AF%9D%E9%A2%98%E4%B8%8E%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-text">六、高级话题与注意事项</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-%E4%B8%BB%E9%A2%98%E4%B8%8E%E6%A0%B7%E5%BC%8F"><span class="toc-text">6.1 主题与样式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-%E6%8F%92%E4%BB%B6%E7%94%9F%E6%80%81%E7%B3%BB%E7%BB%9F"><span class="toc-text">6.2 插件生态系统</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%92%8C%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96"><span class="toc-text">6.3 内存管理和性能优化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E5%8D%87%E7%BA%A7%E4%B8%8E%E7%BB%B4%E6%8A%A4"><span class="toc-text">6.4 升级与维护</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-5-WebAssembly-Flutter-React-Native-%E7%9A%84%E9%80%89%E6%8B%A9"><span class="toc-text">6.5 WebAssembly &#x2F; Flutter &#x2F; React Native 的选择</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%83%E3%80%81%E6%80%BB%E7%BB%93"><span class="toc-text">七、总结</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/cd5b6fd178d8/" title="go.sum 文件中特殊哈希计算详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-20.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="go.sum 文件中特殊哈希计算详解"/></a><div class="content"><a class="title" href="/cd5b6fd178d8/" title="go.sum 文件中特殊哈希计算详解">go.sum 文件中特殊哈希计算详解</a><time datetime="2026-02-23T22:24:00.000Z" title="发表于 2026-02-24 06:24:00">2026-02-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/4e3b0c5d197a/" title="Web Components 详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-08.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Web Components 详解"/></a><div class="content"><a class="title" href="/4e3b0c5d197a/" title="Web Components 详解">Web Components 详解</a><time datetime="2026-02-07T22:24:00.000Z" title="发表于 2026-02-08 06:24:00">2026-02-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/ecb44ccf1b04/" title="婴儿早期语音发展中的“Mama”与“Baba”现象探究"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-21.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="婴儿早期语音发展中的“Mama”与“Baba”现象探究"/></a><div class="content"><a class="title" href="/ecb44ccf1b04/" title="婴儿早期语音发展中的“Mama”与“Baba”现象探究">婴儿早期语音发展中的“Mama”与“Baba”现象探究</a><time datetime="2026-02-05T22:24:00.000Z" title="发表于 2026-02-06 06:24:00">2026-02-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/10349b09ff78/" title="Signal Protocol 详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-07.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Signal Protocol 详解"/></a><div class="content"><a class="title" href="/10349b09ff78/" title="Signal Protocol 详解">Signal Protocol 详解</a><time datetime="2026-02-03T22:24:00.000Z" title="发表于 2026-02-04 06:24:00">2026-02-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/f81355a662b8/" title="ECMAScript ShadowRealm 详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-17.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ECMAScript ShadowRealm 详解"/></a><div class="content"><a class="title" href="/f81355a662b8/" title="ECMAScript ShadowRealm 详解">ECMAScript ShadowRealm 详解</a><time datetime="2026-02-01T22:24:00.000Z" title="发表于 2026-02-02 06:24:00">2026-02-02</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/img/cover/default_cover-06.jpg);"><div class="footer-flex"><div class="footer-flex-items"><div class="footer-flex-item"><div class="footer-flex-title">我的轨迹</div><div class="footer-flex-content"><a href="/archives/2023/" target="_blank" title="🆕 2023">🆕 2023</a><a href="/archives/2024/" target="_blank" title="🆒 2024">🆒 2024</a><a href="/archives/2025/" target="_blank" title="👨‍👩‍👦 2025">👨‍👩‍👦 2025</a><a href="/archives/2026/" target="_blank" title="🆙 2026">🆙 2026</a></div></div></div><div class="footer-flex-items"><div class="footer-flex-item"><div class="footer-flex-title">维度</div><div class="footer-flex-content"><a href="/categories/" target="_blank" title="📁 分类">📁 分类</a><a href="/tags/" target="_blank" title="🔖 标签">🔖 标签</a><a href="/categories/" target="_blank" title="📽️ 时间线">📽️ 时间线</a></div></div></div><div class="footer-flex-items"><div class="footer-flex-item"><div class="footer-flex-title">其他</div><div class="footer-flex-content"><a href="/shuoshuo" target="_blank" title="💬 说说">💬 说说</a></div></div></div></div><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2023 - 2026 By TeaTang</span><span class="framework-info"><span class="footer-separator">|</span><span>框架 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.4"></script><script src="/js/main.js?v=5.5.4"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.1.9/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@19.1.3/dist/lazyload.iife.min.js"></script><div class="js-pjax"><script>(() => {
  const parseViewBox = viewBox => {
    if (!viewBox) return null
    const parts = viewBox.trim().split(/[\s,]+/).map(n => Number(n))
    if (parts.length !== 4 || parts.some(n => Number.isNaN(n))) return null
    return parts
  }

  const getSvgViewBox = svg => {
    const attr = parseViewBox(svg.getAttribute('viewBox'))
    if (attr) return attr

    // Fallback: use bbox to build a viewBox
    try {
      const bbox = svg.getBBox()
      if (bbox && bbox.width && bbox.height) return [bbox.x, bbox.y, bbox.width, bbox.height]
    } catch (e) {
      // getBBox may fail on some edge cases; ignore
    }

    const w = Number(svg.getAttribute('width')) || 0
    const h = Number(svg.getAttribute('height')) || 0
    if (w > 0 && h > 0) return [0, 0, w, h]
    return [0, 0, 100, 100]
  }

  const setSvgViewBox = (svg, vb) => {
    svg.setAttribute('viewBox', `${vb[0]} ${vb[1]} ${vb[2]} ${vb[3]}`)
  }

  const clamp = (v, min, max) => Math.max(min, Math.min(max, v))

  const openSvgInNewTab = ({ source, initViewBox }) => {
    const getClonedSvg = () => {
      if (typeof source === 'string') {
        const template = document.createElement('template')
        template.innerHTML = source.trim()
        const svg = template.content.querySelector('svg')
        return svg ? svg.cloneNode(true) : null
      }
      if (source && typeof source.cloneNode === 'function') {
        return source.cloneNode(true)
      }
      return null
    }

    const clone = getClonedSvg()
    if (!clone) return
    if (initViewBox && initViewBox.length === 4) {
      clone.setAttribute('viewBox', initViewBox.join(' '))
    }
    if (!clone.getAttribute('xmlns')) clone.setAttribute('xmlns', 'http://www.w3.org/2000/svg')
    if (!clone.getAttribute('xmlns:xlink') && clone.outerHTML.includes('xlink:')) {
      clone.setAttribute('xmlns:xlink', 'http://www.w3.org/1999/xlink')
    }
    // inject background to match current theme
    const isDark = document.documentElement.getAttribute('data-theme') === 'dark'
    const bg = getComputedStyle(document.body).backgroundColor || (isDark ? '#1e1e1e' : '#ffffff')
    if (!clone.style.background) clone.style.background = bg

    const serializer = new XMLSerializer()
    const svgSource = serializer.serializeToString(clone)
    const htmlSource = `<!doctype html><html><head><meta charset="utf-8" />
      <style>
        html, body { width: 100%; height: 100%; margin: 0; display: flex; align-items: center; justify-content: center; background: ${bg}; }
        svg { max-width: 100%; max-height: 100%; height: auto; width: auto; }
      </style>
      </head><body>${svgSource}</body></html>`
    const blob = new Blob([htmlSource], { type: 'text/html;charset=utf-8' })
    const url = URL.createObjectURL(blob)
    window.open(url, '_blank', 'noopener')
    setTimeout(() => URL.revokeObjectURL(url), 30000)
  }

  const attachMermaidViewerButton = wrap => {
    let btn = wrap.querySelector('.mermaid-open-btn')
    if (!btn) {
      btn = document.createElement('button')
      btn.type = 'button'
      btn.className = 'mermaid-open-btn'
      wrap.appendChild(btn)
    }

    btn.innerHTML = '<i class="fa fa-search fa-fw" aria-hidden="true"></i>'

    if (!btn.__mermaidViewerBound) {
      btn.addEventListener('click', e => {
        e.preventDefault()
        e.stopPropagation()
        const svg = wrap.__mermaidOriginalSvg || wrap.querySelector('svg')
        if (!svg) return
        const initViewBox = wrap.__mermaidInitViewBox
        if (typeof svg === 'string') {
          openSvgInNewTab({ source: svg, initViewBox })
          return
        }
        openSvgInNewTab({ source: svg, initViewBox })
      })
      btn.__mermaidViewerBound = true
    }
  }

  // Zoom around a point (px, py) in the SVG viewport (in viewBox coordinates)
  const zoomAtPoint = (vb, factor, px, py) => {
    const w = vb[2] * factor
    const h = vb[3] * factor
    const nx = px - (px - vb[0]) * factor
    const ny = py - (py - vb[1]) * factor
    return [nx, ny, w, h]
  }

  const initMermaidGestures = wrap => {
    const svg = wrap.querySelector('svg')
    if (!svg) return

    // Ensure viewBox exists so gestures always work
    const initVb = getSvgViewBox(svg)
    wrap.__mermaidInitViewBox = initVb
    wrap.__mermaidCurViewBox = initVb.slice()
    setSvgViewBox(svg, initVb)

    // Avoid binding multiple times on themeChange/pjax
    if (wrap.__mermaidGestureBound) return
    wrap.__mermaidGestureBound = true

    // Helper: map client (viewport) coordinate -> viewBox coordinate
    const clientToViewBox = (clientX, clientY) => {
      const rect = svg.getBoundingClientRect()
      const vb = wrap.__mermaidCurViewBox || getSvgViewBox(svg)
      const x = vb[0] + (clientX - rect.left) * (vb[2] / rect.width)
      const y = vb[1] + (clientY - rect.top) * (vb[3] / rect.height)
      return { x, y, rect, vb }
    }

    const state = {
      pointers: new Map(),
      startVb: null,
      startDist: 0,
      startCenter: null
    }

    const clampVb = vb => {
      const init = wrap.__mermaidInitViewBox || vb
      const minW = init[2] * 0.1
      const maxW = init[2] * 10
      const minH = init[3] * 0.1
      const maxH = init[3] * 10
      vb[2] = clamp(vb[2], minW, maxW)
      vb[3] = clamp(vb[3], minH, maxH)
      return vb
    }

    const setCurVb = vb => {
      vb = clampVb(vb)
      wrap.__mermaidCurViewBox = vb
      setSvgViewBox(svg, vb)
    }

    const onPointerDown = e => {
      // Allow only primary button for mouse
      if (e.pointerType === 'mouse' && e.button !== 0) return
      svg.setPointerCapture(e.pointerId)
      state.pointers.set(e.pointerId, { x: e.clientX, y: e.clientY })

      if (state.pointers.size === 1) {
        state.startVb = (wrap.__mermaidCurViewBox || getSvgViewBox(svg)).slice()
      } else if (state.pointers.size === 2) {
        const pts = [...state.pointers.values()]
        const dx = pts[0].x - pts[1].x
        const dy = pts[0].y - pts[1].y
        state.startDist = Math.hypot(dx, dy)
        state.startVb = (wrap.__mermaidCurViewBox || getSvgViewBox(svg)).slice()
        state.startCenter = { x: (pts[0].x + pts[1].x) / 2, y: (pts[0].y + pts[1].y) / 2 }
      }
    }

    const onPointerMove = e => {
      if (!state.pointers.has(e.pointerId)) return
      state.pointers.set(e.pointerId, { x: e.clientX, y: e.clientY })

      // Pan with 1 pointer
      if (state.pointers.size === 1 && state.startVb) {
        const p = [...state.pointers.values()][0]
        const prev = { x: e.clientX - e.movementX, y: e.clientY - e.movementY }
        // movementX/Y unreliable on touch, compute from stored last position
        const last = wrap.__mermaidLastSinglePointer || p
        const dxClient = p.x - last.x
        const dyClient = p.y - last.y
        wrap.__mermaidLastSinglePointer = p

        const { rect } = clientToViewBox(p.x, p.y)
        const vb = (wrap.__mermaidCurViewBox || getSvgViewBox(svg)).slice()
        const dx = dxClient * (vb[2] / rect.width)
        const dy = dyClient * (vb[3] / rect.height)
        setCurVb([vb[0] - dx, vb[1] - dy, vb[2], vb[3]])
        return
      }

      // Pinch zoom with 2 pointers
      if (state.pointers.size === 2 && state.startVb && state.startDist > 0) {
        const pts = [...state.pointers.values()]
        const dx = pts[0].x - pts[1].x
        const dy = pts[0].y - pts[1].y
        const dist = Math.hypot(dx, dy)
        if (!dist) return
        const factor = state.startDist / dist // dist bigger => zoom in (viewBox smaller)

        const cx = (pts[0].x + pts[1].x) / 2
        const cy = (pts[0].y + pts[1].y) / 2
        const centerClient = { x: cx, y: cy }

        const pxy = clientToViewBox(centerClient.x, centerClient.y)
        const cpx = pxy.x
        const cpy = pxy.y

        const vb = zoomAtPoint(state.startVb, factor, cpx, cpy)
        setCurVb(vb)
      }
    }

    const onPointerUpOrCancel = e => {
      state.pointers.delete(e.pointerId)
      if (state.pointers.size === 0) {
        state.startVb = null
        state.startDist = 0
        state.startCenter = null
        wrap.__mermaidLastSinglePointer = null
      } else if (state.pointers.size === 1) {
        // reset single pointer baseline to avoid jump
        wrap.__mermaidLastSinglePointer = [...state.pointers.values()][0]
      }
    }

    // Wheel zoom (mouse/trackpad)
    const onWheel = e => {
      // ctrlKey on mac trackpad pinch; we treat both as zoom
      e.preventDefault()
      const delta = e.deltaY
      const zoomFactor = delta > 0 ? 1.1 : 0.9
      const { x, y } = clientToViewBox(e.clientX, e.clientY)
      const vb = (wrap.__mermaidCurViewBox || getSvgViewBox(svg)).slice()
      setCurVb(zoomAtPoint(vb, zoomFactor, x, y))
    }

    const onDblClick = () => {
      const init = wrap.__mermaidInitViewBox
      if (!init) return
      wrap.__mermaidCurViewBox = init.slice()
      setSvgViewBox(svg, init)
    }

    svg.addEventListener('pointerdown', onPointerDown)
    svg.addEventListener('pointermove', onPointerMove)
    svg.addEventListener('pointerup', onPointerUpOrCancel)
    svg.addEventListener('pointercancel', onPointerUpOrCancel)
    svg.addEventListener('wheel', onWheel, { passive: false })
    svg.addEventListener('dblclick', onDblClick)
  }

  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild

      // Clear old render (themeChange/pjax will rerun)
      const oldSvg = item.querySelector('svg')
      if (oldSvg) oldSvg.remove()
      item.__mermaidGestureBound = false

      const config = mermaidSrc.dataset.config ? JSON.parse(mermaidSrc.dataset.config) : {}
      if (!config.theme) {
        config.theme = theme
      }
      const mermaidThemeConfig = `%%{init: ${JSON.stringify(config)}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
        if (false) initMermaidGestures(item)
        item.__mermaidOriginalSvg = svg
        if (true) attachMermaidViewerButton(item)
      }


      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid@11.12.2/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>(() => {
  const applyThemeDefaultsConfig = theme => {
    if (theme === 'dark-mode') {
      Chart.defaults.color = "rgba(255, 255, 255, 0.8)"
      Chart.defaults.borderColor = "rgba(255, 255, 255, 0.2)"
      Chart.defaults.scale.ticks.backdropColor = "transparent"
    } else {
      Chart.defaults.color = "rgba(0, 0, 0, 0.8)"
      Chart.defaults.borderColor = "rgba(0, 0, 0, 0.1)"
      Chart.defaults.scale.ticks.backdropColor = "transparent"
    }
  }

  // Recursively traverse the config object and automatically apply theme-specific color schemes
  const applyThemeConfig = (obj, theme) => {
    if (typeof obj !== 'object' || obj === null) return

    Object.keys(obj).forEach(key => {
      const value = obj[key]
      // If the property is an object and has theme-specific options, apply them
      if (typeof value === 'object' && value !== null) {
        if (value[theme]) {
          obj[key] = value[theme] // Apply the value for the current theme
        } else {
          // Recursively process child objects
          applyThemeConfig(value, theme)
        }
      }
    })
  }

  const runChartJS = ele => {
    window.loadChartJS = true

    Array.from(ele).forEach((item, index) => {
      const chartSrc = item.firstElementChild
      const chartID = item.getAttribute('data-chartjs-id') || ('chartjs-' + index) // Use custom ID or default ID
      const width = item.getAttribute('data-width')
      const existingCanvas = document.getElementById(chartID)

      // If a canvas already exists, remove it to avoid rendering duplicates
      if (existingCanvas) {
          existingCanvas.parentNode.remove()
      }

      const chartDefinition = chartSrc.textContent
      const canvas = document.createElement('canvas')
      canvas.id = chartID

      const div = document.createElement('div')
      div.className = 'chartjs-wrap'

      if (width) {
        div.style.width = width
      }

      div.appendChild(canvas)
      chartSrc.insertAdjacentElement('afterend', div)

      const ctx = document.getElementById(chartID).getContext('2d')

      const config = JSON.parse(chartDefinition)

      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark-mode' : 'light-mode'

      // Set default styles (initial setup)
      applyThemeDefaultsConfig(theme)

      // Automatically traverse the config and apply dual-mode color schemes
      applyThemeConfig(config, theme)

      new Chart(ctx, config)
    })
  }

  const loadChartJS = () => {
    const chartJSEle = document.querySelectorAll('#article-container .chartjs-container')
    if (chartJSEle.length === 0) return

    window.loadChartJS ? runChartJS(chartJSEle) : btf.getScript('https://cdn.jsdelivr.net/npm/chart.js@4.5.1/dist/chart.umd.min.js').then(() => runChartJS(chartJSEle))
  }

  // Listen for theme change events
  btf.addGlobalFn('themeChange', loadChartJS, 'chartjs')
  btf.addGlobalFn('encrypt', loadChartJS, 'chartjs')

  window.pjax ? loadChartJS() : document.addEventListener('DOMContentLoaded', loadChartJS)
})()</script></div><script data-pjax src="/self/btf.js"></script><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/fireworks.min.js"></script><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="ture"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-fluttering-ribbon.min.js"></script><script id="canvas_nest" defer="defer" color="0,200,200" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js" defer="defer"></script><script>document.addEventListener('DOMContentLoaded', () => {
  const pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => {
      try {
        fn()
      } catch (err) {
        console.debug('Pjax callback failed:', err)
      }
    })
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      true
        ? pjax.loadUrl('/404.html')
        : window.location.href = e.request.responseURL
    }
  })
})</script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden="hidden"></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="local-search-input"><input placeholder="搜索文章" type="text"/></div><hr/><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none;"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=5.5.4"></script></div></div></body></html>