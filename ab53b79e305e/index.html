<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>PHP this, self, static 详解 | 1024 维度</title><meta name="author" content="TeaTang"><meta name="copyright" content="TeaTang"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="在 PHP 面向对象编程中，$this、self 和 static 是三个至关重要的关键词，它们用于在类内部访问成员属性和方法。理解它们之间的区别和用法是掌握 PHP 对象模型，特别是后期静态绑定 (Late Static Binding) 的关键。  核心思想：$this 指向当前对象实例，self 指向当前类，static 结合后期静态绑定机制，根据运行时调用者来确定指向的类。    一、$">
<meta property="og:type" content="article">
<meta property="og:title" content="PHP this, self, static 详解">
<meta property="og:url" content="https://blog.tbf1211.xx.kg/ab53b79e305e/index.html">
<meta property="og:site_name" content="1024 维度">
<meta property="og:description" content="在 PHP 面向对象编程中，$this、self 和 static 是三个至关重要的关键词，它们用于在类内部访问成员属性和方法。理解它们之间的区别和用法是掌握 PHP 对象模型，特别是后期静态绑定 (Late Static Binding) 的关键。  核心思想：$this 指向当前对象实例，self 指向当前类，static 结合后期静态绑定机制，根据运行时调用者来确定指向的类。    一、$">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blog.tbf1211.xx.kg/img/cover/default_cover-25.jpg">
<meta property="article:published_time" content="2023-10-05T22:24:00.000Z">
<meta property="article:modified_time" content="2025-12-30T03:02:39.208Z">
<meta property="article:author" content="TeaTang">
<meta property="article:tag" content="2023">
<meta property="article:tag" content="PHP">
<meta property="article:tag" content="编码规范">
<meta property="article:tag" content="程序设计">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog.tbf1211.xx.kg/img/cover/default_cover-25.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "PHP this, self, static 详解",
  "url": "https://blog.tbf1211.xx.kg/ab53b79e305e/",
  "image": "https://blog.tbf1211.xx.kg/img/cover/default_cover-25.jpg",
  "datePublished": "2023-10-05T22:24:00.000Z",
  "dateModified": "2025-12-30T03:02:39.208Z",
  "author": [
    {
      "@type": "Person",
      "name": "TeaTang",
      "url": "https://blog.tbf1211.xx.kg"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon-1.ico"><link rel="canonical" href="https://blog.tbf1211.xx.kg/ab53b79e305e/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><meta name="google-site-verification" content="NdIUXAOVyGnnBhcrip0ksCawbdAzT0hlBZDE9u4jx6k"/><meta name="msvalidate.01" content="567E47D75E8DCF1282B9623AD914701E"/><meta name="baidu-site-verification" content="code-pE5rnuxcfD"/><link rel="stylesheet" href="/css/index.css?v=5.5.3"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.1.7/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          const mediaQueryDark = window.matchMedia('(prefers-color-scheme: dark)')
          const mediaQueryLight = window.matchMedia('(prefers-color-scheme: light)')

          if (theme === undefined) {
            if (mediaQueryLight.matches) activateLightMode()
            else if (mediaQueryDark.matches) activateDarkMode()
            else {
              const hour = new Date().getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            mediaQueryDark.addEventListener('change', () => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else {
            theme === 'light' ? activateLightMode() : activateDarkMode()
          }
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":false,"top_n_per_article":1,"unescape":false,"pagination":{"enable":true,"hitsPerPage":8},"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":400,"highlightFullpage":true,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":150,"languages":{"author":"作者: TeaTang","link":"链接: ","source":"来源: 1024 维度","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'PHP this, self, static 详解',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="preconnect" href="https://jsd.012700.xyz"><link href="/self/btf.css" rel="stylesheet"><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="1024 维度" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/loading.gif" data-lazy-src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">445</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">225</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">80</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 我的轨迹</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/2023/"><i class="fa-fw fa-solid fa-bug"></i><span> 2023</span></a></li><li><a class="site-page child" href="/archives/2024/"><i class="fa-fw fa-solid fa-code"></i><span> 2024</span></a></li><li><a class="site-page child" href="/archives/2025/"><i class="fa-fw fa-solid fa-network-wired"></i><span> 2025</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa-solid fa-calendar-days"></i><span> 时间线</span></a></div><div class="menus_item"><a class="site-page" href="/shuoshuo"><i class="fa-fw fas fa-comment"></i><span> 说说</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image: url(/img/cover/default_cover-25.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">1024 维度</span></a><a class="nav-page-title" href="/"><span class="site-name">PHP this, self, static 详解</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 我的轨迹</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/2023/"><i class="fa-fw fa-solid fa-bug"></i><span> 2023</span></a></li><li><a class="site-page child" href="/archives/2024/"><i class="fa-fw fa-solid fa-code"></i><span> 2024</span></a></li><li><a class="site-page child" href="/archives/2025/"><i class="fa-fw fa-solid fa-network-wired"></i><span> 2025</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa-solid fa-calendar-days"></i><span> 时间线</span></a></div><div class="menus_item"><a class="site-page" href="/shuoshuo"><i class="fa-fw fas fa-comment"></i><span> 说说</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">PHP this, self, static 详解</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon far fa-calendar-alt"></i><span class="post-meta-label">发表于</span><time datetime="2023-10-05T22:24:00.000Z" title="发表于 2023-10-06 06:24:00">2023-10-06</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/PHP/">PHP</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">2.2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>8分钟</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><blockquote>
<p>在 PHP 面向对象编程中，<code>$this</code>、<code>self</code> 和 <code>static</code> 是三个至关重要的关键词，它们用于在类内部访问成员属性和方法。理解它们之间的区别和用法是掌握 PHP 对象模型，特别是后期静态绑定 (Late Static Binding) 的关键。</p>
</blockquote>
<div class="note info flat"><p>核心思想：<strong><code>$this</code> 指向当前对象实例，<code>self</code> 指向当前类，<code>static</code> 结合后期静态绑定机制，根据运行时调用者来确定指向的类。</strong></p>
</div>

<hr>
<h2 id="一、-this-关键字"><a href="#一、-this-关键字" class="headerlink" title="一、$this 关键字"></a>一、<code>$this</code> 关键字</h2><h3 id="1-1-定义与用途"><a href="#1-1-定义与用途" class="headerlink" title="1.1 定义与用途"></a>1.1 定义与用途</h3><p><code>$this</code> 关键字用于<strong>引用当前对象实例</strong>。它只能在<strong>非静态方法</strong>中使用，用于访问当前对象实例的<strong>非静态属性</strong>和<strong>非静态方法</strong>。</p>
<p>当一个类被实例化为一个对象后，<code>$this</code> 就代表了该对象。</p>
<h3 id="1-2-访问方式"><a href="#1-2-访问方式" class="headerlink" title="1.2 访问方式"></a>1.2 访问方式</h3><p>通过 <code>-&gt;</code> 运算符访问：<code>$this-&gt;propertyName</code> 或 <code>$this-&gt;methodName()</code>。</p>
<h3 id="1-3-示例"><a href="#1-3-示例" class="headerlink" title="1.3 示例"></a>1.3 示例</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$color</span>; <span class="comment">// 非静态属性</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"><span class="variable">$color</span></span>) </span>&#123;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;color = <span class="variable">$color</span>; <span class="comment">// 使用 $this 访问当前对象的 color 属性</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getDescription</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;This car is &quot;</span> . <span class="variable language_">$this</span>-&gt;color . <span class="string">&quot;.&quot;</span>; <span class="comment">// 使用 $this 访问当前对象的 color 属性</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">repaint</span>(<span class="params"><span class="variable">$newColor</span></span>) </span>&#123;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;color = <span class="variable">$newColor</span>; <span class="comment">// 使用 $this 修改当前对象的 color 属性</span></span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;Car repainted to &quot;</span> . <span class="variable language_">$this</span>-&gt;color . <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$myCar</span> = <span class="keyword">new</span> <span class="title class_">Car</span>(<span class="string">&quot;red&quot;</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$myCar</span>-&gt;<span class="title function_ invoke__">getDescription</span>() . <span class="string">&quot;\n&quot;</span>; <span class="comment">// 输出: This car is red.</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$myCar</span>-&gt;<span class="title function_ invoke__">repaint</span>(<span class="string">&quot;blue&quot;</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$myCar</span>-&gt;<span class="title function_ invoke__">getDescription</span>() . <span class="string">&quot;\n&quot;</span>; <span class="comment">// 输出: This car is blue.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 尝试在静态方法中使用 $this 会报错</span></span><br><span class="line"><span class="comment">// class StaticTest &#123;</span></span><br><span class="line"><span class="comment">//     public static function test() &#123;</span></span><br><span class="line"><span class="comment">//         echo $this-&gt;name; // 错误: Using $this when not in object context</span></span><br><span class="line"><span class="comment">//     &#125;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// StaticTest::test();</span></span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="1-4-总结-this"><a href="#1-4-总结-this" class="headerlink" title="1.4 总结 $this"></a>1.4 总结 <code>$this</code></h3><ul>
<li><strong>代表</strong>：当前对象实例。</li>
<li><strong>使用范围</strong>：非静态方法。</li>
<li><strong>访问类型</strong>：非静态属性和非静态方法。</li>
<li><strong>操作符</strong>：<code>-&gt;</code>。</li>
</ul>
<h2 id="二、self-关键字"><a href="#二、self-关键字" class="headerlink" title="二、self 关键字"></a>二、<code>self</code> 关键字</h2><h3 id="2-1-定义与用途"><a href="#2-1-定义与用途" class="headerlink" title="2.1 定义与用途"></a>2.1 定义与用途</h3><p><code>self</code> 关键字用于<strong>引用当前类</strong>。它可以在<strong>静态方法和非静态方法</strong>中使用，用于访问当前类的<strong>静态属性</strong>、<strong>静态方法</strong>以及<strong>类常量</strong>。</p>
<p><code>self</code> 在编译时就确定了它所引用的类，因此它总是指向定义该常量的类，即使是在继承链中。这被称为<strong>早期绑定 (Early Binding)</strong>。</p>
<h3 id="2-2-访问方式"><a href="#2-2-访问方式" class="headerlink" title="2.2 访问方式"></a>2.2 访问方式</h3><p>通过 <code>::</code> (Scope Resolution Operator，范围解析操作符) 访问：<code>self::$staticProperty</code> 或 <code>self::staticMethod()</code> 或 <code>self::CLASS_CONSTANT</code>。</p>
<h3 id="2-3-示例"><a href="#2-3-示例" class="headerlink" title="2.3 示例"></a>2.3 示例</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MathHelper</span> </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="variable constant_">PI</span> = <span class="number">3.14159</span>; <span class="comment">// 类常量</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="variable">$name</span> = <span class="string">&quot;Math Helper&quot;</span>; <span class="comment">// 静态属性</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">getCircleArea</span>(<span class="params"><span class="variable">$radius</span></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">self</span>::<span class="variable constant_">PI</span> * <span class="variable">$radius</span> * <span class="variable">$radius</span>; <span class="comment">// 使用 self 访问类常量</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sayName</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;My name is &quot;</span> . <span class="built_in">self</span>::<span class="variable">$name</span> . <span class="string">&quot; (from non-static method).\n&quot;</span>; <span class="comment">// 在非静态方法中访问静态属性</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">getClassName</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">self</span>::<span class="variable">$name</span>; <span class="comment">// 使用 self 访问静态属性</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;PI value: &quot;</span> . <span class="title class_">MathHelper</span>::<span class="variable constant_">PI</span> . <span class="string">&quot;\n&quot;</span>; <span class="comment">// 外部访问类常量</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;Class name: &quot;</span> . <span class="title class_">MathHelper</span>::<span class="title function_ invoke__">getClassName</span>() . <span class="string">&quot;\n&quot;</span>; <span class="comment">// 外部访问静态方法</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$helper</span> = <span class="keyword">new</span> <span class="title class_">MathHelper</span>();</span><br><span class="line"><span class="variable">$helper</span>-&gt;<span class="title function_ invoke__">sayName</span>(); <span class="comment">// 输出: My name is Math Helper (from non-static method).</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;Circle area with radius 5: &quot;</span> . <span class="title class_">MathHelper</span>::<span class="title function_ invoke__">getCircleArea</span>(<span class="number">5</span>) . <span class="string">&quot;\n&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="2-4-self-与继承"><a href="#2-4-self-与继承" class="headerlink" title="2.4 self 与继承"></a>2.4 <code>self</code> 与继承</h3><p><code>self</code> 总是指向它<strong>被定义时所在的类</strong>，而不是运行时调用的类。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ParentClass</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="variable">$name</span> = <span class="string">&quot;Parent&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">getClassName</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">self</span>::<span class="variable">$name</span>; <span class="comment">// 这里的 self 永远指 ParentClass</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">getSelfAndStaticName</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;Self name: &quot;</span> . <span class="built_in">self</span>::<span class="variable">$name</span> . <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;Static name: &quot;</span> . <span class="built_in">static</span>::<span class="variable">$name</span> . <span class="string">&quot;\n&quot;</span>; <span class="comment">// 对比 static 关键字</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ChildClass</span> <span class="keyword">extends</span> <span class="title">ParentClass</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="variable">$name</span> = <span class="string">&quot;Child&quot;</span>; <span class="comment">// 子类重写静态属性</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="title class_">ParentClass</span>::<span class="title function_ invoke__">getClassName</span>() . <span class="string">&quot;\n&quot;</span>; <span class="comment">// 输出: Parent</span></span><br><span class="line"><span class="keyword">echo</span> <span class="title class_">ChildClass</span>::<span class="title function_ invoke__">getClassName</span>() . <span class="string">&quot;\n&quot;</span>;  <span class="comment">// 输出: Parent (尽管是 ChildClass 调用，self 仍然指向 ParentClass)</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">ParentClass</span>::<span class="title function_ invoke__">getSelfAndStaticName</span>();</span><br><span class="line"><span class="comment">// 输出:</span></span><br><span class="line"><span class="comment">// Self name: Parent</span></span><br><span class="line"><span class="comment">// Static name: Parent</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">ChildClass</span>::<span class="title function_ invoke__">getSelfAndStaticName</span>();</span><br><span class="line"><span class="comment">// 输出:</span></span><br><span class="line"><span class="comment">// Self name: Parent  (self 仍然指向 ParentClass)</span></span><br><span class="line"><span class="comment">// Static name: Child (static 指向 ChildClass)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>从上面的例子可以看出，<code>self::getClassName()</code> 在 <code>ChildClass</code> 中调用时，仍然返回 “Parent”，因为它绑定到了 <code>ParentClass</code>。</p>
<h3 id="2-5-总结-self"><a href="#2-5-总结-self" class="headerlink" title="2.5 总结 self"></a>2.5 总结 <code>self</code></h3><ul>
<li><strong>代表</strong>：当前类。</li>
<li><strong>使用范围</strong>：静态方法和非静态方法。</li>
<li><strong>访问类型</strong>：静态属性、静态方法、类常量。</li>
<li><strong>操作符</strong>：<code>::</code>。</li>
<li><strong>绑定</strong>：<strong>早期绑定 (Early Binding)</strong>，总是指向代码编写时所在的类。</li>
</ul>
<h2 id="三、static-关键字-后期静态绑定"><a href="#三、static-关键字-后期静态绑定" class="headerlink" title="三、static 关键字 (后期静态绑定)"></a>三、<code>static</code> 关键字 (后期静态绑定)</h2><h3 id="3-1-定义与用途"><a href="#3-1-定义与用途" class="headerlink" title="3.1 定义与用途"></a>3.1 定义与用途</h3><p><code>static</code> 关键字在上下文中使用时，提供了一种<strong>后期静态绑定 (Late Static Binding)</strong> 的机制。与 <code>self</code> 不同，<code>static</code> 关键字指向的是<strong>运行时实际调用该方法或属性的类</strong>，而不是声明该方法或属性的类。</p>
<p>这使得 <code>static</code> 在处理继承和多态时更加灵活，它允许子类重写父类的静态成员，并在运行时正确地引用到子类的实现。</p>
<h3 id="3-2-访问方式"><a href="#3-2-访问方式" class="headerlink" title="3.2 访问方式"></a>3.2 访问方式</h3><p>通过 <code>::</code> 访问：<code>static::$staticProperty</code> 或 <code>static::staticMethod()</code>。</p>
<h3 id="3-3-示例-延续-self-示例中的-ParentClass-和-ChildClass"><a href="#3-3-示例-延续-self-示例中的-ParentClass-和-ChildClass" class="headerlink" title="3.3 示例 (延续 self 示例中的 ParentClass 和 ChildClass)"></a>3.3 示例 (延续 <code>self</code> 示例中的 <code>ParentClass</code> 和 <code>ChildClass</code>)</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ParentClass</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="variable">$name</span> = <span class="string">&quot;Parent&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">getClassNameBySelf</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">self</span>::<span class="variable">$name</span>; <span class="comment">// self 早期绑定到 ParentClass</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">getClassNameByStatic</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">static</span>::<span class="variable">$name</span>; <span class="comment">// static 后期绑定，根据运行时调用者确定</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ChildClass</span> <span class="keyword">extends</span> <span class="title">ParentClass</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="variable">$name</span> = <span class="string">&quot;Child&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GrandChildClass</span> <span class="keyword">extends</span> <span class="title">ChildClass</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="variable">$name</span> = <span class="string">&quot;GrandChild&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ======================= self 的行为 =======================</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;self behavior:\n&quot;</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="title class_">ParentClass</span>::<span class="title function_ invoke__">getClassNameBySelf</span>() . <span class="string">&quot;\n&quot;</span>;   <span class="comment">// 输出: Parent</span></span><br><span class="line"><span class="keyword">echo</span> <span class="title class_">ChildClass</span>::<span class="title function_ invoke__">getClassNameBySelf</span>() . <span class="string">&quot;\n&quot;</span>;    <span class="comment">// 输出: Parent (仍然是 ParentClass)</span></span><br><span class="line"><span class="keyword">echo</span> <span class="title class_">GrandChildClass</span>::<span class="title function_ invoke__">getClassNameBySelf</span>() . <span class="string">&quot;\n&quot;</span>; <span class="comment">// 输出: Parent (仍然是 ParentClass)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// ======================= static 的行为 =======================</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;\nstatic behavior:\n&quot;</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="title class_">ParentClass</span>::<span class="title function_ invoke__">getClassNameByStatic</span>() . <span class="string">&quot;\n&quot;</span>;  <span class="comment">// 输出: Parent</span></span><br><span class="line"><span class="keyword">echo</span> <span class="title class_">ChildClass</span>::<span class="title function_ invoke__">getClassNameByStatic</span>() . <span class="string">&quot;\n&quot;</span>;   <span class="comment">// 输出: Child (后期绑定到 ChildClass)</span></span><br><span class="line"><span class="keyword">echo</span> <span class="title class_">GrandChildClass</span>::<span class="title function_ invoke__">getClassNameByStatic</span>() . <span class="string">&quot;\n&quot;</span>; <span class="comment">// 输出: GrandChild (后期绑定到 GrandChildClass)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>通过这个例子，我们可以清晰地看到 <code>static</code> 在继承链中如何动态地根据调用者来解析静态成员。</p>
<h3 id="3-4-static-的其他应用"><a href="#3-4-static-的其他应用" class="headerlink" title="3.4 static 的其他应用"></a>3.4 <code>static</code> 的其他应用</h3><ul>
<li><p><strong>工厂模式</strong>：当工厂方法需要根据子类类型创建实例时，<code>static</code> 配合 <code>new static()</code> 可以很方便地实现。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Product</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">factory</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">static</span>(); <span class="comment">// 创建调用者的实例</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConcreteProductA</span> <span class="keyword">extends</span> <span class="title">Product</span> </span>&#123;&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConcreteProductB</span> <span class="keyword">extends</span> <span class="title">Product</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$a</span> = ConcreteProductA::<span class="title function_ invoke__">factory</span>();</span><br><span class="line"><span class="variable">$b</span> = ConcreteProductB::<span class="title function_ invoke__">factory</span>();</span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">var_dump</span>(<span class="variable">$a</span>); <span class="comment">// object(ConcreteProductA)#1 (...)</span></span><br><span class="line"><span class="title function_ invoke__">var_dump</span>(<span class="variable">$b</span>); <span class="comment">// object(ConcreteProductB)#2 (...)</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>链式调用中的 <code>return static</code></strong>：在实现链式调用时，返回 <code>static</code> 而不是 <code>$this</code> 可以确保在继承链中保持正确的类型提示。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">QueryBuilder</span> </span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$query</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">select</span>(<span class="params"><span class="variable">$fields</span></span>) </span>&#123;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;query .= <span class="string">&quot;SELECT &quot;</span> . <span class="title function_ invoke__">implode</span>(<span class="string">&#x27;, &#x27;</span>, <span class="variable">$fields</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">$this</span>; <span class="comment">// 返回当前对象实例</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">where</span>(<span class="params"><span class="variable">$condition</span></span>) </span>&#123;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;query .= <span class="string">&quot; WHERE &quot;</span> . <span class="variable">$condition</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">$this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getQuery</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">$this</span>-&gt;query;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ExtendedQueryBuilder</span> <span class="keyword">extends</span> <span class="title">QueryBuilder</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">limit</span>(<span class="params"><span class="variable">$count</span></span>) </span>&#123;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;query .= <span class="string">&quot; LIMIT &quot;</span> . <span class="variable">$count</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">$this</span>; <span class="comment">// 如果这里返回的是 $this，但类型提示是 QueryBuilder，可能影响 IDE 自动补全</span></span><br><span class="line">        <span class="comment">// 更好的做法是返回 static，即使是子类方法，也能返回子类实例</span></span><br><span class="line">        <span class="comment">// return static;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$query</span> = <span class="keyword">new</span> <span class="title class_">ExtendedQueryBuilder</span>();</span><br><span class="line"><span class="comment">// $query-&gt;select([&#x27;id&#x27;, &#x27;name&#x27;])-&gt;where(&#x27;age &gt; 18&#x27;)-&gt;limit(10); // 可以链式调用</span></span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="3-5-总结-static"><a href="#3-5-总结-static" class="headerlink" title="3.5 总结 static"></a>3.5 总结 <code>static</code></h3><ul>
<li><strong>代表</strong>：运行时实际调用该静态成员的类。</li>
<li><strong>使用范围</strong>：静态方法和非静态方法。</li>
<li><strong>访问类型</strong>：静态属性、静态方法。</li>
<li><strong>操作符</strong>：<code>::</code>。</li>
<li><strong>绑定</strong>：<strong>后期静态绑定 (Late Static Binding)</strong>，动态地根据运行时调用上下文确定类。</li>
</ul>
<h2 id="四、三者的对比总结"><a href="#四、三者的对比总结" class="headerlink" title="四、三者的对比总结"></a>四、三者的对比总结</h2><table>
<thead>
<tr>
<th align="left">特性</th>
<th align="left"><code>$this</code></th>
<th align="left"><code>self</code></th>
<th align="left"><code>static</code></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>代表</strong></td>
<td align="left">当前对象实例</td>
<td align="left">当前类 (定义时的类)</td>
<td align="left">运行时调用者所在的类</td>
</tr>
<tr>
<td align="left"><strong>绑定</strong></td>
<td align="left">对象绑定 (Instance Binding)</td>
<td align="left">早期绑定 (Early Binding) &#x2F; 编译时绑定</td>
<td align="left">后期静态绑定 (Late Static Binding) &#x2F; 运行时绑定</td>
</tr>
<tr>
<td align="left"><strong>用途</strong></td>
<td align="left">访问实例属性和方法</td>
<td align="left">访问类静态属性、静态方法、类常量</td>
<td align="left">访问类静态属性、静态方法，实现多态</td>
</tr>
<tr>
<td align="left"><strong>使用范围</strong></td>
<td align="left">非静态方法</td>
<td align="left">静态方法和非静态方法</td>
<td align="left">静态方法和非静态方法</td>
</tr>
<tr>
<td align="left"><strong>操作符</strong></td>
<td align="left"><code>-&gt;</code></td>
<td align="left"><code>::</code></td>
<td align="left"><code>::</code></td>
</tr>
<tr>
<td align="left"><strong>继承中的行为</strong></td>
<td align="left">指向实例化对象本身，不受继承影响</td>
<td align="left">无论谁调用，都指向代码定义时的类 (<code>ParentClass::someMethod()</code>)</td>
<td align="left">动态指向调用者所在的类 (<code>ChildClass::someMethod()</code>)</td>
</tr>
</tbody></table>
<h2 id="五、在实际开发中的选择"><a href="#五、在实际开发中的选择" class="headerlink" title="五、在实际开发中的选择"></a>五、在实际开发中的选择</h2><ol>
<li><strong>访问对象实例成员</strong>：始终使用 <code>$this-&gt;propertyName</code> 和 <code>$this-&gt;methodName()</code>。</li>
<li><strong>访问类常量</strong>：始终使用 <code>self::CONSTANT_NAME</code>。类常量是不会被子类重写的，因此使用 <code>self</code> 是正确的选择。</li>
<li><strong>访问静态属性和静态方法</strong>：<ul>
<li>如果你确定需要引用<strong>当前定义这些静态成员的类</strong>，并且不希望子类重写时影响到这里，就使用 <code>self::$staticProperty</code> 或 <code>self::staticMethod()</code> (早期绑定)。</li>
<li>如果你希望在<strong>继承链中能够动态地引用到调用者（子类）的静态成员</strong>，实现多态性，那么就使用 <code>static::$staticProperty</code> 或 <code>static::staticMethod()</code> (后期静态绑定)。这通常是更灵活、更推荐的做法，特别是在需要子类行为覆盖父类静态行为的场景。</li>
</ul>
</li>
</ol>
<p>理解这三个关键字，特别是 <code>self</code> 和 <code>static</code> 在继承中的区别，是编写健壮、可扩展的 PHP 面向对象代码的关键。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://blog.tbf1211.xx.kg">TeaTang</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://blog.tbf1211.xx.kg/ab53b79e305e/">https://blog.tbf1211.xx.kg/ab53b79e305e/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://blog.tbf1211.xx.kg" target="_blank">1024 维度</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/2023/">2023</a><a class="post-meta__tags" href="/tags/PHP/">PHP</a><a class="post-meta__tags" href="/tags/%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/">编码规范</a><a class="post-meta__tags" href="/tags/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/">程序设计</a></div><div class="post-share"><div class="social-share" data-image="/img/cover/default_cover-25.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/51ed7e90d7c9/" title="Java 枚举类详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-08.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">Java 枚举类详解</div></div><div class="info-2"><div class="info-item-1"> Java 枚举 (Enum) 是一种特殊的类，它允许开发者定义一组固定的、预定义的常量。自 Java 5 引入以来，枚举提供了一种类型安全、可读性强且功能丰富的机制来表示一组有限的命名常量。它不仅是一个简单的常量集合，更是一个完整的类，可以拥有属性、方法，甚至实现接口。  核心思想：Java 枚举不仅是常量集合，更是功能丰富的类，提供类型安全、可读性强、可扩展的常量管理机制。    一、为什么需要枚举类？在 Java 5 之前，通常使用 public static final 变量来定义常量。这种方式存在以下问题：  类型不安全：常量本质上是 int 或 String 等基本类型。这意味着在方法参数中使用这些常量时，编译器无法检查传入的值是否是预期的常量之一，容易传入非法值。1234567// 传统常量定义public static final int SEASON_SPRING = 1;public static final int SEASON_SUMMER = 2;public void displaySeason(int season) &#123;    // ......</div></div></div></a><a class="pagination-related" href="/8258d22937ed/" title="Vue3 ref和reactive对比解析：深入理解响应式数据"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-02.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">Vue3 ref和reactive对比解析：深入理解响应式数据</div></div><div class="info-2"><div class="info-item-1"> 在 Vue 3 的 Composition API 中，ref 和 reactive 是创建响应式状态的两个核心函数。它们都旨在将普通 JavaScript 数据转换为响应式数据，以便在数据变化时自动触发视图更新。然而，它们在处理数据类型、访问方式和底层机制上存在显著差异。理解这些差异对于有效地使用 Composition API 至关重要。  核心思想：ref 用于处理原始值和对象，通过 .value 访问其内部值，而 reactive 专门用于处理对象，直接访问对象的属性，且底层基于 Proxy 实现。   一、ref：处理原始值和对象ref 函数接受一个内部值（inner value），并返回一个响应式的 ref 对象。这个 ref 对象只有一个 value 属性，用来指向内部值。 1.1 定义和用法 定义：ref 可以接收任何类型的值作为参数：原始值 (string, number, boolean, null, undefined, Symbol) 或对象 (Object, Array)。 访问：在 JavaScript 中访问 ref 对象时，需要通过其 .valu...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/80bef8aa6c96/" title="PHP 数组 (Array) 相关函数详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-27.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-10-14</div><div class="info-item-2">PHP 数组 (Array) 相关函数详解</div></div><div class="info-2"><div class="info-item-1"> PHP 数组 (Array) 是一种特殊的数据类型，可以存储多个值在一个变量中。PHP 数组是高度灵活的，既可以作为普通索引数组（数值键），也可以作为关联数组（字符串键），甚至可以两者混合使用，或者作为多维数组。PHP 提供了极其丰富和强大的内置函数来操作数组，涵盖了从创建、遍历、排序、过滤到搜索、合并等几乎所有常见的数组操作需求。深入理解并熟练运用这些函数，是高效编写 PHP 代码的关键。  核心思想：PHP 数组函数旨在提供强大、灵活且高效的方式来管理和操作复杂的数据集合，简化开发者对数据的处理。    一、数组基础知识回顾在深入函数之前，快速回顾 PHP 数组的几个核心特性：  异构性 (Heterogeneous)：数组中的元素可以是不同数据类型（字符串、数字、布尔、对象、其他数组等）。 动态大小 (Dynamic Sizing)：数组大小不是固定的，可以随时添加或删除元素。 索引与关联： 索引数组 (Indexed Array)：键是整数，默认从 0 开始。12$indexedArray = [&#x27;apple&#x27;, &#x27;banana&#x27;...</div></div></div></a><a class="pagination-related" href="/6a2e612aab63/" title="Java 常用关键字详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-06.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-30</div><div class="info-item-2">Java 常用关键字详解</div></div><div class="info-2"><div class="info-item-1"> Java 关键字 (Keywords) 是 Java 语言中被赋予特殊含义的、预定义的、保留的标识符。它们不能用作变量名、类名、方法名或其他用户自定义的标识符。理解和正确使用这些关键字是编写有效 Java 代码的基础。本文将详细介绍 Java 中最常用的关键字及其功能。  核心思想：关键字是 Java 编译器识别和理解代码结构及行为的“命令词”。    一、基本概念Java 关键字在语言语法中扮演着核心角色，它们指示编译器如何解释和处理代码的特定部分。所有 Java 关键字都是小写字母。 二、数据类型关键字这些关键字用于声明变量的数据类型。  boolean：表示布尔类型，只有 true 和 false 两个值。1boolean isActive = true; byte：表示 8 位带符号整数，范围 -128 到 127。1byte level = 10; short：表示 16 位带符号整数，范围 -32768 到 32767。1short count = 1000; int：表示 32 位带符号整数，最常用的整数类型。1int score = 100000; long：表...</div></div></div></a><a class="pagination-related" href="/4749d07931d6/" title="Java Lambda 表达式详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-12.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-09-25</div><div class="info-item-2">Java Lambda 表达式详解</div></div><div class="info-2"><div class="info-item-1"> Java Lambda 表达式 是 Java 8 引入的一个核心特性，它提供了一种简洁的方式来表示匿名函数 (Anonymous Function)。Lambda 表达式主要用于实现函数式接口 (Functional Interface)，极大地简化了代码，尤其是在处理集合、事件监听器和并发编程时，使 Java 代码更具表达力和可读性。  核心思想：将行为（一段代码逻辑）作为参数传递给方法。它实际上是函数式接口的“语法糖”，使得函数式接口的实现变得异常简洁。    一、为什么需要 Lambda 表达式？在 Java 8 之前，如果我们需要将一段行为（代码逻辑）作为参数传递给方法，通常需要依赖匿名内部类 (Anonymous Inner Class)。这种方式在某些场景下会导致代码冗长且可读性差。 例如，一个简单的 Runnable 接口的实现： 1234567// Java 8 之前：使用匿名内部类new Thread(new Runnable() &#123;    @Override    public void run() &#123;        System.out...</div></div></div></a><a class="pagination-related" href="/b965e23c1c33/" title="TypeScript 编码规范详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-03.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-08-04</div><div class="info-item-2">TypeScript 编码规范详解</div></div><div class="info-2"><div class="info-item-1"> TypeScript 编码规范 旨在提供一套指导原则和最佳实践，以确保 TypeScript 代码的一致性、可读性、可维护性、类型安全性和团队协作效率。TypeScript 作为 JavaScript 的超集，引入了静态类型和更多现代语言特性。因此，其编码规范不仅要遵循 JavaScript 的最佳实践，还要充分利用 TypeScript 独有的类型系统优势。本规范结合了社区广泛接受的实践（如 Google TypeScript Style Guide、Airbnb TypeScript Style Guide）和 TypeScript 官方建议，以帮助开发者编写高质量的 TypeScript 代码。  核心思想：充分利用 TypeScript 的类型系统，提高代码的可维护性和健壮性。保持代码简洁、明确，易于理解和调试。遵循一致的风格，减少不必要的复杂性。   一、TypeScript 编码哲学理解 TypeScript 的设计哲学对于编写高质量代码至关重要：  渐进增强 (Gradual Typing)：TypeScript 允许你在 JavaScript 代码库中逐步引入类...</div></div></div></a><a class="pagination-related" href="/832eaf04ac40/" title="Python多线程实现生产者-消费者模式详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-21.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-21</div><div class="info-item-2">Python多线程实现生产者-消费者模式详解</div></div><div class="info-2"><div class="info-item-1"> 生产者-消费者模式是并发编程中一个非常常见的设计模式，用于解决生产者和消费者之间由于生产和消费的速度不一致而导致的同步问题。在 Python 中，由于全局解释器锁 (GIL) 的存在，多线程在 CPU 密集型任务上并不能真正并行，但在 I&#x2F;O 密集型任务上，多线程仍然可以有效地提高程序的效率和响应速度。本篇将详细介绍如何使用 Python 的 threading 模块和 queue 模块实现多线程版的生产者-消费者模式。  核心思想：利用线程安全的共享队列作为缓冲，实现生产者与消费者解耦，并通过队列自带的互斥锁和条件变量进行同步，避免数据不一致和资源竞争。   一、生产者-消费者模式与多线程概述1.1 生产者-消费者模式参考 Python 多进程生产者-消费者模式详解 中的概述，其核心构成和解决的问题在多线程场景下是相同的：  生产者 (Producer)：生成数据并放入队列。 消费者 (Consumer)：从队列取出数据并处理。 缓冲区 (Queue)：共享的、线程安全的数据容器。  1.2 Python 多线程与 GIL threading 模块：Python 标...</div></div></div></a><a class="pagination-related" href="/a1d408b2ddbe/" title="Python多进程实现生产者-消费者模式详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-07.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-15</div><div class="info-item-2">Python多进程实现生产者-消费者模式详解</div></div><div class="info-2"><div class="info-item-1"> 生产者-消费者模式是并发编程中一个非常常见的设计模式，用于解决生产者和消费者之间由于生产和消费的速度不一致而导致的线程（或进程）同步问题。在 Python 中，可以使用 multiprocessing 模块实现多进程版的生产者-消费者模式，以充分利用多核 CPU 资源。  核心思想：利用共享队列作为缓冲，实现生产者与消费者解耦，并通过互斥锁和条件变量（或自带的线程安全队列）进行同步，避免数据不一致和资源竞争。   一、生产者-消费者模式概述模式构成：  生产者 (Producer)：负责生成数据，并将其放入共享的缓冲区（队列）中。 消费者 (Consumer)：负责从共享的缓冲区（队列）中取出数据进行处理。 缓冲区 (Buffer &#x2F; Queue)：一个共享的数据结构，通常是一个队列，用于存储生产者生产的数据和消费者消费的数据。它充当了生产者和消费者之间的桥梁。  解决的问题：  解耦：生产者和消费者可以独立运行，互不干扰，提高系统的灵活性。 并发：允许多个生产者和多个消费者同时存在，提高处理效率。 削峰填谷：当生产速度快于消费速度时，缓冲区可以存储多余的数据，防止数...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/loading.gif" data-lazy-src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">TeaTang</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">445</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">225</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">80</div></a></div><a id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/teatang"><i class="fab fa-github"></i><span>GitHub主页</span></a><div class="card-info-social-icons"><a class="social-icon" href="mailto:tea.tang1211@gmail.com" rel="external nofollow noreferrer" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title="RSS"><i class="fas fa-rss"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">网站更多功能即将上线，敬请期待！</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81-this-%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-text">一、$this 关键字</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E5%AE%9A%E4%B9%89%E4%B8%8E%E7%94%A8%E9%80%94"><span class="toc-text">1.1 定义与用途</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E8%AE%BF%E9%97%AE%E6%96%B9%E5%BC%8F"><span class="toc-text">1.2 访问方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-%E7%A4%BA%E4%BE%8B"><span class="toc-text">1.3 示例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-%E6%80%BB%E7%BB%93-this"><span class="toc-text">1.4 总结 $this</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81self-%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-text">二、self 关键字</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E5%AE%9A%E4%B9%89%E4%B8%8E%E7%94%A8%E9%80%94"><span class="toc-text">2.1 定义与用途</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E8%AE%BF%E9%97%AE%E6%96%B9%E5%BC%8F"><span class="toc-text">2.2 访问方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-%E7%A4%BA%E4%BE%8B"><span class="toc-text">2.3 示例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-self-%E4%B8%8E%E7%BB%A7%E6%89%BF"><span class="toc-text">2.4 self 与继承</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-%E6%80%BB%E7%BB%93-self"><span class="toc-text">2.5 总结 self</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81static-%E5%85%B3%E9%94%AE%E5%AD%97-%E5%90%8E%E6%9C%9F%E9%9D%99%E6%80%81%E7%BB%91%E5%AE%9A"><span class="toc-text">三、static 关键字 (后期静态绑定)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%AE%9A%E4%B9%89%E4%B8%8E%E7%94%A8%E9%80%94"><span class="toc-text">3.1 定义与用途</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E8%AE%BF%E9%97%AE%E6%96%B9%E5%BC%8F"><span class="toc-text">3.2 访问方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E7%A4%BA%E4%BE%8B-%E5%BB%B6%E7%BB%AD-self-%E7%A4%BA%E4%BE%8B%E4%B8%AD%E7%9A%84-ParentClass-%E5%92%8C-ChildClass"><span class="toc-text">3.3 示例 (延续 self 示例中的 ParentClass 和 ChildClass)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-static-%E7%9A%84%E5%85%B6%E4%BB%96%E5%BA%94%E7%94%A8"><span class="toc-text">3.4 static 的其他应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E6%80%BB%E7%BB%93-static"><span class="toc-text">3.5 总结 static</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E4%B8%89%E8%80%85%E7%9A%84%E5%AF%B9%E6%AF%94%E6%80%BB%E7%BB%93"><span class="toc-text">四、三者的对比总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E5%9C%A8%E5%AE%9E%E9%99%85%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E9%80%89%E6%8B%A9"><span class="toc-text">五、在实际开发中的选择</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/0c48c5fa5942/" title="CFFI (C Foreign Function Interface for Python) 详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-11.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CFFI (C Foreign Function Interface for Python) 详解"/></a><div class="content"><a class="title" href="/0c48c5fa5942/" title="CFFI (C Foreign Function Interface for Python) 详解">CFFI (C Foreign Function Interface for Python) 详解</a><time datetime="2025-12-23T22:24:00.000Z" title="发表于 2025-12-24 06:24:00">2025-12-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/03cebd3cc28a/" title="行为驱动开发 (BDD) 详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-04.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="行为驱动开发 (BDD) 详解"/></a><div class="content"><a class="title" href="/03cebd3cc28a/" title="行为驱动开发 (BDD) 详解">行为驱动开发 (BDD) 详解</a><time datetime="2025-12-21T22:24:00.000Z" title="发表于 2025-12-22 06:24:00">2025-12-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/7bb082434be0/" title="测试驱动开发 (TDD) 详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-17.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="测试驱动开发 (TDD) 详解"/></a><div class="content"><a class="title" href="/7bb082434be0/" title="测试驱动开发 (TDD) 详解">测试驱动开发 (TDD) 详解</a><time datetime="2025-12-19T22:24:00.000Z" title="发表于 2025-12-20 06:24:00">2025-12-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/24ffc0bedb41/" title="IPFS (InterPlanetary File System) 详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-28.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="IPFS (InterPlanetary File System) 详解"/></a><div class="content"><a class="title" href="/24ffc0bedb41/" title="IPFS (InterPlanetary File System) 详解">IPFS (InterPlanetary File System) 详解</a><time datetime="2025-12-16T22:24:00.000Z" title="发表于 2025-12-17 06:24:00">2025-12-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/974825c9c64f/" title="L7 负载均衡详解 (Layer 7 Load Balancing Explained)"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-25.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="L7 负载均衡详解 (Layer 7 Load Balancing Explained)"/></a><div class="content"><a class="title" href="/974825c9c64f/" title="L7 负载均衡详解 (Layer 7 Load Balancing Explained)">L7 负载均衡详解 (Layer 7 Load Balancing Explained)</a><time datetime="2025-12-14T22:24:00.000Z" title="发表于 2025-12-15 06:24:00">2025-12-15</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/img/cover/default_cover-25.jpg);"><div class="footer-flex"><div class="footer-flex-items"><div class="footer-flex-item"><div class="footer-flex-title">我的轨迹</div><div class="footer-flex-content"><a href="/archives/2023/" target="_blank" title="📌 2023">📌 2023</a><a href="/archives/2024/" target="_blank" title="❓ 2024">❓ 2024</a><a href="/archives/2025/" target="_blank" title="🚀 2025">🚀 2025</a></div></div></div><div class="footer-flex-items"><div class="footer-flex-item"><div class="footer-flex-title">维度</div><div class="footer-flex-content"><a href="/categories/" target="_blank" title="分类">分类</a><a href="/tags/" target="_blank" title="标签">标签</a><a href="/categories/" target="_blank" title="时间线">时间线</a></div></div></div><div class="footer-flex-items"><div class="footer-flex-item"><div class="footer-flex-title">其他</div><div class="footer-flex-content"><a href="/shuoshuo" target="_blank" title="说说">说说</a></div></div></div></div><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2023 - 2025 By TeaTang</span><span class="framework-info"><span class="footer-separator">|</span><span>框架 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.3"></script><script src="/js/main.js?v=5.5.3"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.1.7/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@19.1.3/dist/lazyload.iife.min.js"></script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const config = mermaidSrc.dataset.config ? JSON.parse(mermaidSrc.dataset.config) : {}
      if (!config.theme) {
        config.theme = theme
      }
      const mermaidThemeConfig = `%%{init: ${JSON.stringify(config)}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid@11.12.2/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>(() => {
  const applyThemeDefaultsConfig = theme => {
    if (theme === 'dark-mode') {
      Chart.defaults.color = "rgba(255, 255, 255, 0.8)"
      Chart.defaults.borderColor = "rgba(255, 255, 255, 0.2)"
      Chart.defaults.scale.ticks.backdropColor = "transparent"
    } else {
      Chart.defaults.color = "rgba(0, 0, 0, 0.8)"
      Chart.defaults.borderColor = "rgba(0, 0, 0, 0.1)"
      Chart.defaults.scale.ticks.backdropColor = "transparent"
    }
  }

  // Recursively traverse the config object and automatically apply theme-specific color schemes
  const applyThemeConfig = (obj, theme) => {
    if (typeof obj !== 'object' || obj === null) return

    Object.keys(obj).forEach(key => {
      const value = obj[key]
      // If the property is an object and has theme-specific options, apply them
      if (typeof value === 'object' && value !== null) {
        if (value[theme]) {
          obj[key] = value[theme] // Apply the value for the current theme
        } else {
          // Recursively process child objects
          applyThemeConfig(value, theme)
        }
      }
    })
  }

  const runChartJS = ele => {
    window.loadChartJS = true

    Array.from(ele).forEach((item, index) => {
      const chartSrc = item.firstElementChild
      const chartID = item.getAttribute('data-chartjs-id') || ('chartjs-' + index) // Use custom ID or default ID
      const width = item.getAttribute('data-width')
      const existingCanvas = document.getElementById(chartID)

      // If a canvas already exists, remove it to avoid rendering duplicates
      if (existingCanvas) {
          existingCanvas.parentNode.remove()
      }

      const chartDefinition = chartSrc.textContent
      const canvas = document.createElement('canvas')
      canvas.id = chartID

      const div = document.createElement('div')
      div.className = 'chartjs-wrap'

      if (width) {
        div.style.width = width
      }

      div.appendChild(canvas)
      chartSrc.insertAdjacentElement('afterend', div)

      const ctx = document.getElementById(chartID).getContext('2d')

      const config = JSON.parse(chartDefinition)

      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark-mode' : 'light-mode'

      // Set default styles (initial setup)
      applyThemeDefaultsConfig(theme)

      // Automatically traverse the config and apply dual-mode color schemes
      applyThemeConfig(config, theme)

      new Chart(ctx, config)
    })
  }

  const loadChartJS = () => {
    const chartJSEle = document.querySelectorAll('#article-container .chartjs-container')
    if (chartJSEle.length === 0) return

    window.loadChartJS ? runChartJS(chartJSEle) : btf.getScript('https://cdn.jsdelivr.net/npm/chart.js@4.5.1/dist/chart.umd.min.js').then(() => runChartJS(chartJSEle))
  }

  // Listen for theme change events
  btf.addGlobalFn('themeChange', loadChartJS, 'chartjs')
  btf.addGlobalFn('encrypt', loadChartJS, 'chartjs')

  window.pjax ? loadChartJS() : document.addEventListener('DOMContentLoaded', loadChartJS)
})()</script></div><script data-pjax src="/self/btf.js"></script><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/fireworks.min.js"></script><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="ture"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-fluttering-ribbon.min.js"></script><script id="canvas_nest" defer="defer" color="0,200,200" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js" defer="defer"></script><script>document.addEventListener('DOMContentLoaded', () => {
  const pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => {
      try {
        fn()
      } catch (err) {
        console.debug('Pjax callback failed:', err)
      }
    })
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      true
        ? pjax.loadUrl('/404.html')
        : window.location.href = e.request.responseURL
    }
  })
})</script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden="hidden"></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="local-search-input"><input placeholder="搜索文章" type="text"/></div><hr/><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none;"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=5.5.3"></script></div></div></body></html>