<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Scoop (Windows 命令行包管理器) 详解 | 1024 维度</title><meta name="author" content="TeaTang"><meta name="copyright" content="TeaTang"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Scoop 是一个针对 Windows 操作系统的命令行包管理器，它专注于提供一种简洁、无管理员权限、用户级别的方式来安装、更新和管理应用程序。Scoop 的设计哲学是“零副作用 (zero-side-effects)”，即不污染系统 PATH、不依赖 UAC 提示、不创建不必要的注册表项，旨在为开发者提供一个干净、可移植的环境。  核心思想：将软件安装到用户目录下的一个沙盒环境，并通过动态修改">
<meta property="og:type" content="article">
<meta property="og:title" content="Scoop (Windows 命令行包管理器) 详解">
<meta property="og:url" content="https://blog.tbf1211.xx.kg/5f4f405cbb7a/index.html">
<meta property="og:site_name" content="1024 维度">
<meta property="og:description" content="Scoop 是一个针对 Windows 操作系统的命令行包管理器，它专注于提供一种简洁、无管理员权限、用户级别的方式来安装、更新和管理应用程序。Scoop 的设计哲学是“零副作用 (zero-side-effects)”，即不污染系统 PATH、不依赖 UAC 提示、不创建不必要的注册表项，旨在为开发者提供一个干净、可移植的环境。  核心思想：将软件安装到用户目录下的一个沙盒环境，并通过动态修改">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blog.tbf1211.xx.kg/img/cover/default_cover-04.jpg">
<meta property="article:published_time" content="2025-08-22T22:24:00.000Z">
<meta property="article:modified_time" content="2025-12-08T04:06:40.754Z">
<meta property="article:author" content="TeaTang">
<meta property="article:tag" content="2025">
<meta property="article:tag" content="Windows">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog.tbf1211.xx.kg/img/cover/default_cover-04.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Scoop (Windows 命令行包管理器) 详解",
  "url": "https://blog.tbf1211.xx.kg/5f4f405cbb7a/",
  "image": "https://blog.tbf1211.xx.kg/img/cover/default_cover-04.jpg",
  "datePublished": "2025-08-22T22:24:00.000Z",
  "dateModified": "2025-12-08T04:06:40.754Z",
  "author": [
    {
      "@type": "Person",
      "name": "TeaTang",
      "url": "https://blog.tbf1211.xx.kg"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon-1.ico"><link rel="canonical" href="https://blog.tbf1211.xx.kg/5f4f405cbb7a/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><meta name="google-site-verification" content="NdIUXAOVyGnnBhcrip0ksCawbdAzT0hlBZDE9u4jx6k"/><meta name="msvalidate.01" content="567E47D75E8DCF1282B9623AD914701E"/><meta name="baidu-site-verification" content="code-pE5rnuxcfD"/><link rel="stylesheet" href="/css/index.css?v=5.5.2"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.1.4/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          const mediaQueryDark = window.matchMedia('(prefers-color-scheme: dark)')
          const mediaQueryLight = window.matchMedia('(prefers-color-scheme: light)')

          if (theme === undefined) {
            if (mediaQueryLight.matches) activateLightMode()
            else if (mediaQueryDark.matches) activateDarkMode()
            else {
              const hour = new Date().getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            mediaQueryDark.addEventListener('change', () => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else {
            theme === 'light' ? activateLightMode() : activateDarkMode()
          }
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":false,"top_n_per_article":1,"unescape":false,"pagination":{"enable":true,"hitsPerPage":8},"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":400,"highlightFullpage":true,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":150,"languages":{"author":"作者: TeaTang","link":"链接: ","source":"来源: 1024 维度","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Scoop (Windows 命令行包管理器) 详解',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="preconnect" href="https://jsd.012700.xyz"><link href="/self/btf.css" rel="stylesheet"><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="1024 维度" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/loading.gif" data-lazy-src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">354</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">208</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">74</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 我的轨迹</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/2023/"><i class="fa-fw fa-solid fa-bug"></i><span> 2023</span></a></li><li><a class="site-page child" href="/archives/2024/"><i class="fa-fw fa-solid fa-code"></i><span> 2024</span></a></li><li><a class="site-page child" href="/archives/2025/"><i class="fa-fw fa-solid fa-network-wired"></i><span> 2025</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa-solid fa-calendar-days"></i><span> 时间线</span></a></div><div class="menus_item"><a class="site-page" href="/shuoshuo"><i class="fa-fw fas fa-comment"></i><span> 说说</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image: url(/img/cover/default_cover-04.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">1024 维度</span></a><a class="nav-page-title" href="/"><span class="site-name">Scoop (Windows 命令行包管理器) 详解</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 我的轨迹</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/2023/"><i class="fa-fw fa-solid fa-bug"></i><span> 2023</span></a></li><li><a class="site-page child" href="/archives/2024/"><i class="fa-fw fa-solid fa-code"></i><span> 2024</span></a></li><li><a class="site-page child" href="/archives/2025/"><i class="fa-fw fa-solid fa-network-wired"></i><span> 2025</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa-solid fa-calendar-days"></i><span> 时间线</span></a></div><div class="menus_item"><a class="site-page" href="/shuoshuo"><i class="fa-fw fas fa-comment"></i><span> 说说</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">Scoop (Windows 命令行包管理器) 详解</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon far fa-calendar-alt"></i><span class="post-meta-label">发表于</span><time datetime="2025-08-22T22:24:00.000Z" title="发表于 2025-08-23 06:24:00">2025-08-23</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/">开发工具</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/Windows/">Windows</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">3.5k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>12分钟</span></span><span class="post-meta-separator">|</span><span id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="umamiPV" data-path="/5f4f405cbb7a/"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><blockquote>
<p><strong>Scoop</strong> 是一个针对 Windows 操作系统的<strong>命令行包管理器</strong>，它专注于提供一种简洁、无管理员权限、用户级别的方式来安装、更新和管理应用程序。Scoop 的设计哲学是“<strong>零副作用 (zero-side-effects)</strong>”，即不污染系统 PATH、不依赖 UAC 提示、不创建不必要的注册表项，旨在为开发者提供一个干净、可移植的环境。</p>
</blockquote>
<div class="note info flat"><p>核心思想：<strong>将软件安装到用户目录下的一个沙盒环境，并通过动态修改用户 PATH 来实现软件的可用性，避免全局污染和管理员权限依赖。</strong></p>
</div>
<hr>
<h2 id="一、为什么选择-Scoop？"><a href="#一、为什么选择-Scoop？" class="headerlink" title="一、为什么选择 Scoop？"></a>一、为什么选择 Scoop？</h2><p>传统的 Windows 软件安装方式常常伴随着以下问题：</p>
<ol>
<li><strong>管理员权限依赖</strong>：许多安装程序需要管理员权限才能运行，这在高安全环境或没有管理员权限的用户电脑上是问题。</li>
<li><strong>系统污染</strong>：软件通常安装到 <code>Program Files</code> 目录下，并在注册表、系统 PATH 中留下大量痕迹。卸载不彻底可能导致残留。</li>
<li><strong>环境变量管理</strong>：安装某些开发工具（如 Git, Node.js, Python, Go）时，需要手动或安装程序自动配置环境变量，这可能导致冲突或版本问题。</li>
<li><strong>更新与卸载繁琐</strong>：更新软件需要重新下载安装包，卸载可能不完全。</li>
<li><strong>版本管理复杂</strong>：在同一系统上管理多个版本的同一软件（例如 Node.js 的不同版本）通常很困难。</li>
</ol>
<p>Scoop 旨在解决这些痛点，提供以下优势：</p>
<ul>
<li><strong>无需管理员权限</strong>：所有软件都安装在用户的 <code>AppData</code> 或自定义目录中，无需 UAC 提示。</li>
<li><strong>无系统污染</strong>：不修改系统注册表，不向系统 PATH 添加条目。所有环境变量修改都是临时的或通过 Scoop 自身的 <code>shims</code> 机制管理。</li>
<li><strong>易于安装、更新和卸载</strong>：通过简单的命令行命令即可完成软件的生命周期管理。</li>
<li><strong>隔离与可移植</strong>：每个软件都有自己的安装目录，彼此隔离。整个 Scoop 环境可以在用户之间或设备之间轻松复制。</li>
<li><strong>开发者友好</strong>：特别适合安装和管理各种命令行工具、开发语言运行时和文本编辑器等。</li>
<li><strong>版本管理</strong>：支持安装和切换同一软件的不同版本。</li>
</ul>
<h2 id="二、Scoop-的核心概念"><a href="#二、Scoop-的核心概念" class="headerlink" title="二、Scoop 的核心概念"></a>二、Scoop 的核心概念</h2><h3 id="2-1-Scoop-本体"><a href="#2-1-Scoop-本体" class="headerlink" title="2.1 Scoop 本体"></a>2.1 Scoop 本体</h3><p>Scoop 是一个基于 PowerShell 脚本的应用程序，它提供了一系列命令来管理软件。其自身安装在用户目录下的一个特定位置（通常是 <code>C:\Users\&lt;YourUser&gt;\scoop</code>）。</p>
<h3 id="2-2-Buckets-桶"><a href="#2-2-Buckets-桶" class="headerlink" title="2.2 Buckets (桶)"></a>2.2 Buckets (桶)</h3><p><strong>Bucket</strong> 是 Scoop 的<strong>软件仓库</strong>。它是一个 Git 仓库，其中包含了大量软件的<strong>清单文件 (Manifests)</strong>。当用户安装软件时，Scoop 会从配置的 Bucket 中查找对应的清单。</p>
<ul>
<li><strong><code>main</code> Bucket</strong>：Scoop 默认包含的官方 Bucket，包含了大部分常用且稳定的开源工具。</li>
<li><strong><code>extras</code> Bucket</strong>：包含了更多不那么常用但仍然很受欢迎的软件。通常需要手动添加。</li>
<li><strong><code>versions</code> Bucket</strong>：用于提供同一软件的不同历史版本。</li>
<li><strong><code>nirsoft</code> Bucket</strong>：包含了 NirSoft 公司开发的一些小型免费工具。</li>
<li><strong><code>nonportable</code> Bucket</strong>：用于安装那些本身设计为需要安装器才能运行，无法完全实现“绿色”的软件，但 Scoop 仍然尝试提供更好的管理方式。</li>
<li><strong>自定义 Bucket</strong>：用户可以添加任何符合 Scoop 规范的 Git 仓库作为自己的 Bucket。</li>
</ul>
<h3 id="2-3-Manifests-清单文件"><a href="#2-3-Manifests-清单文件" class="headerlink" title="2.3 Manifests (清单文件)"></a>2.3 Manifests (清单文件)</h3><p><strong>Manifest</strong> 是位于 Bucket 中的 JSON 文件，它描述了一个软件的详细信息，包括：</p>
<ul>
<li>软件名称、版本</li>
<li>下载链接 (URL)</li>
<li>文件的哈希值 (Hash) 用于校验完整性</li>
<li>安装指令（如何解压、移动文件、创建快捷方式等）</li>
<li>可执行文件的路径 (bin)</li>
<li>环境变量设置 (env)</li>
<li>依赖项 (dependencies)</li>
<li>需要持久化的目录 (persist)</li>
</ul>
<p><strong>示例 (简化的 Manifest 结构)：</strong></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// go.json 示例</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1.21.3&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;The Go Programming Language.&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;homepage&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://go.dev&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;license&quot;</span><span class="punctuation">:</span> <span class="string">&quot;BSD-3-Clause&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;architecture&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;64bit&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;url&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://dl.google.com/go/go1.21.3.windows-amd64.zip&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;hash&quot;</span><span class="punctuation">:</span> <span class="string">&quot;c0e633d011f00889988295b9275037d40232b6e1742416b2494917631398867a&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;32bit&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;url&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://dl.google.com/go/go1.21.3.windows-386.zip&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;hash&quot;</span><span class="punctuation">:</span> <span class="string">&quot;673f47e244b79c3d49b2512f438a0f917242ee59e20a7d57f84df945c7117a52&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;extract_dir&quot;</span><span class="punctuation">:</span> <span class="string">&quot;go&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;bin&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="string">&quot;bin\\go.exe&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;bin\\gofmt.exe&quot;</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;env_set&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;GOROOT&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$dir&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;checkver&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;url&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://go.dev/dl/?mode=json&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;jsonpath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$[?(@.stable == true &amp;&amp; @.files[?(@.arch == &#x27;amd64&#x27;)].filename =~ &#x27;windows-amd64&#x27;)].version&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;autoupdate&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;architecture&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;64bit&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;url&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://dl.google.com/go/go$version.windows-amd64.zip&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;32bit&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;url&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://dl.google.com/go/go$version.windows-386.zip&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hash&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;url&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$url.sha256&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="2-4-Shims-垫片"><a href="#2-4-Shims-垫片" class="headerlink" title="2.4 Shims (垫片)"></a>2.4 Shims (垫片)</h3><p>Scoop 的核心机制之一。当安装一个软件时，Scoop 会在用户 PATH 中添加一个指向 <code>scoop\shims</code> 目录的条目。在 <code>shims</code> 目录中，Scoop 会为每个可执行文件创建一个小型的 <code>.exe</code> 文件（实际上是一个<strong>代理&#x2F;软链接</strong>）。</p>
<p>当你在命令行中运行一个 Scoop 安装的程序（例如 <code>go</code>），系统会先在 <code>shims</code> 目录找到 <code>go.exe</code> 这个垫片，然后垫片会将请求重定向到实际安装在 <code>scoop\apps\go\&lt;version&gt;\bin\go.exe</code> 路径下的程序。</p>
<ul>
<li><strong>优势</strong>：避免直接将大量软件的 <code>bin</code> 目录添加到系统 PATH，保持 PATH 的整洁，且用户可以轻松切换软件版本而无需手动修改 PATH。</li>
</ul>
<h2 id="三、Scoop-的安装与基本使用"><a href="#三、Scoop-的安装与基本使用" class="headerlink" title="三、Scoop 的安装与基本使用"></a>三、Scoop 的安装与基本使用</h2><h3 id="3-1-安装-Scoop"><a href="#3-1-安装-Scoop" class="headerlink" title="3.1 安装 Scoop"></a>3.1 安装 Scoop</h3><p><strong>前提条件：</strong></p>
<ul>
<li>Windows 7 SP1+ (Windows 10&#x2F;11 最佳体验)</li>
<li>PowerShell 5.1+ (Windows 10 默认自带)</li>
<li>.NET Framework 4.5+ (Windows 10 默认自带)</li>
</ul>
<p><strong>安装步骤：</strong></p>
<ol>
<li><p><strong>设置 PowerShell 执行策略：</strong> 默认情况下，PowerShell 的执行策略可能不允许运行本地脚本。需要修改为 <code>RemoteSigned</code> 或 <code>Bypass</code>。</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Set-ExecutionPolicy</span> RemoteSigned <span class="literal">-Scope</span> CurrentUser</span><br><span class="line"><span class="comment"># 如果遇到问题，可以尝试更宽松的 Bypass</span></span><br><span class="line"><span class="comment"># Set-ExecutionPolicy Bypass -Scope CurrentUser</span></span><br></pre></td></tr></table></figure>
<p>输入 <code>Y</code> 确认。</p>
</li>
<li><p><strong>安装 Scoop：</strong> 在 PowerShell 中执行以下命令。</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">irm</span> get.scoop.sh | <span class="built_in">iex</span></span><br></pre></td></tr></table></figure>
<p>这将下载并执行 Scoop 的安装脚本。默认情况下，Scoop 将安装到 <code>C:\Users\&lt;YourUser&gt;\scoop</code>。<br>如果想安装到自定义目录，例如 <code>D:\Scoop</code>，可以这样执行：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$env:SCOOP</span>=<span class="string">&#x27;D:\Scoop&#x27;</span></span><br><span class="line">[<span class="type">System.Environment</span>]::SetEnvironmentVariable(<span class="string">&#x27;SCOOP&#x27;</span>, <span class="variable">$env:SCOOP</span>, <span class="string">&#x27;User&#x27;</span>)</span><br><span class="line"><span class="built_in">irm</span> get.scoop.sh | <span class="built_in">iex</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>验证安装：</strong></p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scoop help</span><br></pre></td></tr></table></figure>
<p>如果显示帮助信息，则说明 Scoop 安装成功。</p>
</li>
</ol>
<h3 id="3-2-常用命令"><a href="#3-2-常用命令" class="headerlink" title="3.2 常用命令"></a>3.2 常用命令</h3><p>以下是 Scoop 的一些常用命令及其说明和示例：</p>
<ul>
<li><p><strong><code>scoop help [command]</code></strong>：</p>
<ul>
<li>显示 Scoop 的帮助信息，或特定命令的帮助信息。</li>
</ul>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scoop help</span><br><span class="line">scoop help install</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong><code>scoop install &lt;app_name&gt;</code></strong>：</p>
<ul>
<li>安装指定的应用程序。</li>
</ul>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">scoop install git         <span class="comment"># 安装 Git</span></span><br><span class="line">scoop install nodejs<span class="literal">-lts</span>  <span class="comment"># 安装 Node.js LTS 版本</span></span><br><span class="line">scoop install go          <span class="comment"># 安装 Go 语言环境</span></span><br><span class="line">scoop install vscodium    <span class="comment"># 安装 VSCodium (VS Code 的开源版本)</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong><code>scoop uninstall &lt;app_name&gt;</code></strong>：</p>
<ul>
<li>卸载指定的应用程序。</li>
</ul>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scoop uninstall git</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong><code>scoop update</code></strong>：</p>
<ul>
<li>更新 Scoop 自身以及所有已安装的应用程序。</li>
</ul>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scoop update             <span class="comment"># 更新所有应用</span></span><br><span class="line">scoop update git         <span class="comment"># 仅更新 Git</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong><code>scoop search &lt;query&gt;</code></strong>：</p>
<ul>
<li>搜索可用的应用程序。</li>
</ul>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scoop search python      <span class="comment"># 搜索所有包含 &#x27;python&#x27; 的应用</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong><code>scoop list</code></strong>：</p>
<ul>
<li>列出所有已安装的应用程序。</li>
</ul>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scoop list</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong><code>scoop status</code></strong>：</p>
<ul>
<li>显示 Scoop 的当前状态，包括更新信息、版本等。</li>
</ul>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scoop status</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong><code>scoop home &lt;app_name&gt;</code></strong>：</p>
<ul>
<li>在浏览器中打开指定应用程序的主页。</li>
</ul>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scoop home git</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong><code>scoop bucket add &lt;bucket_name&gt;</code></strong>：</p>
<ul>
<li>添加一个新的 Bucket。例如，添加 <code>extras</code> 和 <code>versions</code> 桶以获取更多软件。</li>
</ul>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scoop bucket add extras</span><br><span class="line">scoop bucket add versions</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong><code>scoop bucket list</code></strong>：</p>
<ul>
<li>列出所有已添加的 Bucket。</li>
</ul>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scoop bucket list</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong><code>scoop cache</code> &#x2F; <code>scoop cache rm</code></strong>：</p>
<ul>
<li>管理 Scoop 下载的安装包缓存。<code>scoop cache</code> 查看缓存，<code>scoop cache rm *</code> 清理所有缓存。</li>
</ul>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scoop cache        <span class="comment"># 查看缓存</span></span><br><span class="line">scoop cache <span class="built_in">rm</span> *   <span class="comment"># 清理所有缓存</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong><code>scoop config</code></strong>：</p>
<ul>
<li>配置 Scoop 的各种设置，例如代理、安装路径等。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scoop config proxy http://your.proxy.com:port # 设置代理</span><br><span class="line">scoop config rootdir C:\Apps\Scoop             # 更改 Scoop 安装根目录 (谨慎操作)</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="四、高级用法"><a href="#四、高级用法" class="headerlink" title="四、高级用法"></a>四、高级用法</h2><h3 id="4-1-管理-Buckets"><a href="#4-1-管理-Buckets" class="headerlink" title="4.1 管理 Buckets"></a>4.1 管理 Buckets</h3><p>除了 <code>main</code> 桶，<code>extras</code> 和 <code>versions</code> 桶通常是必不可少的。</p>
<ul>
<li>添加 <code>extras</code> 桶可以安装如 <code>VSCodium</code>, <code>Discord</code>, <code>Docker-Desktop</code> 等更多应用。<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scoop bucket add extras</span><br></pre></td></tr></table></figure></li>
<li>添加 <code>versions</code> 桶可以安装指定版本的软件，例如 <code>node@14</code>。<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scoop bucket add versions</span><br></pre></td></tr></table></figure></li>
<li>你也可以添加第三方的 Bucket，例如一些社区维护的。<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scoop bucket add &lt;bucket_name&gt; &lt;git_repo_url&gt;</span><br><span class="line"><span class="comment"># 例如：scoop bucket add dahlia https://github.com/dahlia/scoop-bucket</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="4-2-版本管理"><a href="#4-2-版本管理" class="headerlink" title="4.2 版本管理"></a>4.2 版本管理</h3><p>通过 <code>versions</code> 桶，可以安装同一软件的不同版本，并进行切换。</p>
<ul>
<li>安装指定版本：<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scoop install nodejs<span class="literal">-lts</span>@<span class="number">16.20</span>.<span class="number">0</span> <span class="comment"># 安装 Node.js 16.20.0 LTS</span></span><br><span class="line">scoop install nodejs<span class="literal">-lts</span>@<span class="number">18.18</span>.<span class="number">0</span> <span class="comment"># 安装 Node.js 18.18.0 LTS</span></span><br></pre></td></tr></table></figure></li>
<li>切换活动版本 (通过 <code>reset</code> 命令)：<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scoop reset nodejs<span class="literal">-lts</span>@<span class="number">16.20</span>.<span class="number">0</span> <span class="comment"># 将 Node.js 的活动版本切换到 16.20.0</span></span><br></pre></td></tr></table></figure></li>
<li>查看所有已安装版本：<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scoop list nodejs<span class="literal">-lts</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="4-3-持久化数据-persist"><a href="#4-3-持久化数据-persist" class="headerlink" title="4.3 持久化数据 (persist)"></a>4.3 持久化数据 (<code>persist</code>)</h3><p>Scoop 安装的软件默认是“沙盒化”的，当软件更新或重新安装时，其安装目录会被替换。如果某些软件需要存储用户数据、配置文件或插件，而这些数据不希望随着更新而丢失，就需要使用 <code>persist</code> 功能。</p>
<p>在软件的 Manifest 文件中，可以定义一个 <code>persist</code> 数组，指定需要保留的目录或文件。当 Scoop 安装或更新软件时，这些指定的数据会被移动到用户 <code>AppData</code> 目录下的一个持久化位置，并通过软链接链接回软件的安装目录。</p>
<ul>
<li><strong>用途</strong>：确保配置文件、插件、数据库文件等用户生成或修改的数据在软件更新或版本切换时不会丢失。</li>
<li><strong>示例</strong>：对于 <code>git</code> 来说，它的 <code>~/.gitconfig</code> 等配置文件就是通过 <code>persist</code> 来保留的。</li>
<li><strong>手动管理</strong>：对于没有定义 <code>persist</code> 的软件，或者你希望持久化特定数据，可以使用 <code>scoop persist</code> 命令手动添加或移除持久化路径。<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 为某个应用添加持久化目录 (以实际应用和路径为准)</span></span><br><span class="line">scoop persist add &lt;app_name&gt; &lt;path_relative_to_app_root&gt;</span><br><span class="line"><span class="comment"># 例如：scoop persist add myapp &#x27;data&#x27; # 将 myapp 安装目录下的 data 文件夹持久化</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="五、Scoop-的优缺点"><a href="#五、Scoop-的优缺点" class="headerlink" title="五、Scoop 的优缺点"></a>五、Scoop 的优缺点</h2><h3 id="5-1-优点："><a href="#5-1-优点：" class="headerlink" title="5.1 优点："></a>5.1 优点：</h3><ol>
<li><strong>无管理员权限</strong>：显著降低安全风险和使用门槛。</li>
<li><strong>纯净无污染</strong>：不修改系统 PATH，不创建注册表项，卸载彻底。</li>
<li><strong>绿色免安装</strong>：大多数软件都是解压即用，高度可移植。</li>
<li><strong>自动化环境变量</strong>：通过 <code>shims</code> 机制自动处理 PATH，无需手动配置。</li>
<li><strong>统一管理</strong>：通过统一的命令管理所有 Scoop 安装的软件。</li>
<li><strong>版本管理</strong>：方便安装、切换和管理同一软件的不同版本。</li>
<li><strong>开发者友好</strong>：尤其适合命令行工具、编程语言运行时、IDE 等开发工具的管理。</li>
<li><strong>Git 集成</strong>：Buckets 是 Git 仓库，方便社区协作和管理。</li>
</ol>
<h3 id="5-2-缺点："><a href="#5-2-缺点：" class="headerlink" title="5.2 缺点："></a>5.2 缺点：</h3><ol>
<li><strong>仅限命令行</strong>：没有图形用户界面，对于不习惯命令行的用户有一定学习曲线。</li>
<li><strong>软件覆盖范围</strong>：虽然 Buckets 丰富，但仍有一些大型或商业软件（如 Adobe 全家桶、Microsoft Office）不适合通过 Scoop 安装。</li>
<li><strong><code>.NET Framework</code> 依赖</strong>：Scoop 本身依赖 .NET Framework，但在现代 Windows 系统中通常已预装。</li>
<li><strong>网络依赖</strong>：安装和更新都需要从网络下载文件。</li>
<li><strong>少数软件兼容性问题</strong>：部分软件可能因为其特殊安装机制而无法完全实现“绿色”，或需要额外的配置。</li>
<li><strong>错误处理</strong>：有时安装或更新可能因为 Manifest 文件问题、网络问题或软件本身特性而失败，需要手动排查。</li>
</ol>
<h2 id="六、与-Windows-其他包管理器对比"><a href="#六、与-Windows-其他包管理器对比" class="headerlink" title="六、与 Windows 其他包管理器对比"></a>六、与 Windows 其他包管理器对比</h2><p>在 Windows 生态中，除了 Scoop，还有其他流行的包管理器：</p>
<ol>
<li><p><strong>Chocolatey</strong>：</p>
<ul>
<li><strong>特点</strong>：历史悠久，软件数量庞大，支持更多 GUI 软件和驱动程序。</li>
<li><strong>权限</strong>：通常需要<strong>管理员权限</strong>安装软件。</li>
<li><strong>安装位置</strong>：默认安装到 <code>C:\ProgramData\chocolatey</code>，并修改系统 PATH。</li>
<li><strong>适用场景</strong>：适合需要广泛软件支持、且不介意管理员权限的普通用户和企业环境。</li>
</ul>
</li>
<li><p><strong>Winget (Windows Package Manager)</strong>：</p>
<ul>
<li><strong>特点</strong>：微软官方出品，集成在 Windows 10&#x2F;11 中，支持商店应用和传统 Win32 应用。拥有 CLI 和可选的 GUI (App Installer)。</li>
<li><strong>权限</strong>：部分软件安装需要<strong>管理员权限</strong>。</li>
<li><strong>安装位置</strong>：依据软件本身的安装逻辑，通常安装到 <code>Program Files</code>。</li>
<li><strong>适用场景</strong>：微软生态内的标准解决方案，适合大多数 Windows 用户。</li>
</ul>
</li>
</ol>
<p><strong>Scoop 的定位：</strong><br>Scoop 填补了非管理员、纯命令行、高度沙盒化和开发者友好的小众市场。它不与 Chocolatey 和 Winget 构成直接竞争，而是提供了一种独特的、强调“零副作用”和“可移植性”的补充方案。对于频繁使用命令行工具、管理多种开发环境的开发者来说，Scoop 往往是首选。</p>
<h2 id="七、总结"><a href="#七、总结" class="headerlink" title="七、总结"></a>七、总结</h2><p>Scoop 是一个独特且强大的 Windows 命令行包管理器，尤其在<strong>无需管理员权限、系统无污染、易于管理开发环境</strong>方面表现出色。它通过 Bucket、Manifest 和 Shim 等核心机制，实现了软件的快速安装、更新和卸载，并有效解决了传统 Windows 软件安装的诸多痛点。</p>
<p>虽然其纯命令行的特性可能对部分用户造成一定的学习门槛，且软件覆盖范围并非无所不包，但对于追求高效、纯净、可控的开发者而言，Scoop 无疑是一个值得掌握的利器。通过理解其工作原理并熟练运用常用命令，你可以极大地提升在 Windows 环境下的软件管理效率。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://blog.tbf1211.xx.kg">TeaTang</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://blog.tbf1211.xx.kg/5f4f405cbb7a/">https://blog.tbf1211.xx.kg/5f4f405cbb7a/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://blog.tbf1211.xx.kg" target="_blank">1024 维度</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/2025/">2025</a><a class="post-meta__tags" href="/tags/Windows/">Windows</a></div><div class="post-share"><div class="social-share" data-image="/img/cover/default_cover-04.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/1cdd169d9683/" title="Cloudflare免费服务详解：守护与加速你的在线资产"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-18.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">Cloudflare免费服务详解：守护与加速你的在线资产</div></div><div class="info-2"><div class="info-item-1"> 在今天的互联网世界，网站和应用程序的性能、安全性和可用性至关重要。对于许多个人站长、小型企业和开发者而言，昂贵的基础设施和安全解决方案往往是难以承受的负担。而这正是 Cloudflare 的价值所在。Cloudflare 以其强大的全球网络和创新的技术，提供了一系列业界领先的免费服务，旨在让任何在线资产都能轻松享受到企业级的性能、安全和可靠性。  “Cloudflare 的免费套餐，不仅仅是‘入门级’，它为数百万网站提供了生产环境级别的保护和加速。对于个人站长和中小企业来说，它是构建和维护在线业务不可或缺的免费‘瑞士军刀’。”   一、Cloudflare 免费服务概述Cloudflare 成立于 2009 年，目标是“构建更好的互联网”。它通过在全球部署大量的边缘节点 (Edge Network)，将 CDN、DNS、DDoS 保护、WAF (Web Application Firewall, Web应用防火墙)、SSL&#x2F;TLS 加密等功能集成在一个平台中。其免费服务涵盖了网站运营的多个核心方面：  DNS 管理：全球最快的 DNS 解析服务。 CDN 加速：内容分...</div></div></div></a><a class="pagination-related" href="/3137f8a10771/" title="Chocolatey (Choco) 详解：Windows 上的包管理器"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-31.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">Chocolatey (Choco) 详解：Windows 上的包管理器</div></div><div class="info-2"><div class="info-item-1"> Chocolatey (通常简称为 choco) 是 Windows 操作系统上一个开源的、社区驱动的命令行包管理器。它允许用户通过命令行界面（如 PowerShell 或 cmd）自动化地安装、升级、配置和卸载软件，从而简化了 Windows 上的软件管理流程。  核心思想：将 Linux&#x2F;macOS 上包管理器的便捷性带到 Windows 平台，实现软件安装、升级、卸载的自动化和批量管理。   一、为什么需要 Chocolatey？传统的 Windows 软件管理方式通常涉及：  手动下载安装包：访问每个软件的官方网站，下载 .exe 或 .msi 安装文件。 点击向导式安装：一步步完成安装向导，可能需要关注额外的选项（如捆绑软件）。 手动升级：软件更新时需要重复上述步骤。 寻找卸载程序：在“程序和功能”中查找并手动卸载。  这些手动操作耗时、易错且效率低下，尤其对于开发者、系统管理员或需要管理多台机器的用户而言。Chocolatey 旨在解决这些痛点：  自动化安装&#x2F;升级：只需一条命令即可安装或升级软件，无需手动干预。 批量管理：可以一次性安装或升级多...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/293e3d7e94ae/" title="PowerShell 详解与使用技巧"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-19.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-08-20</div><div class="info-item-2">PowerShell 详解与使用技巧</div></div><div class="info-2"><div class="info-item-1"> PowerShell 是微软开发的一种命令行 shell 和脚本语言，专为系统管理和自动化设计。它基于 .NET Framework (Windows PowerShell) 或 .NET Core (PowerShell Core &#x2F; PowerShell 7+)，提供了比传统命令行工具（如 CMD 或 Bash）更强大、更统一且面向对象的管理体验。PowerShell 不仅限于 Windows 平台，现在已跨平台支持 Linux 和 macOS。  核心思想：“一切皆对象”。PowerShell 不像传统 shell 那样处理文本流，而是处理 .NET 对象。这意味着命令的输出可以直接作为另一个命令的输入，且数据类型和结构得以保留，极大地提升了脚本编写的效率和健壮性。   一、PowerShell 的起源与演进传统的 Windows 命令行工具（CMD）在自动化和复杂任务处理方面存在显著局限性，其主要问题是基于文本处理，使得数据解析和传递变得复杂且易出错。为了解决这些问题，微软开发了 PowerShell（最初名为 Monad），并于 2006 年发布。 1.1 ...</div></div></div></a><a class="pagination-related" href="/3137f8a10771/" title="Chocolatey (Choco) 详解：Windows 上的包管理器"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-31.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-08-22</div><div class="info-item-2">Chocolatey (Choco) 详解：Windows 上的包管理器</div></div><div class="info-2"><div class="info-item-1"> Chocolatey (通常简称为 choco) 是 Windows 操作系统上一个开源的、社区驱动的命令行包管理器。它允许用户通过命令行界面（如 PowerShell 或 cmd）自动化地安装、升级、配置和卸载软件，从而简化了 Windows 上的软件管理流程。  核心思想：将 Linux&#x2F;macOS 上包管理器的便捷性带到 Windows 平台，实现软件安装、升级、卸载的自动化和批量管理。   一、为什么需要 Chocolatey？传统的 Windows 软件管理方式通常涉及：  手动下载安装包：访问每个软件的官方网站，下载 .exe 或 .msi 安装文件。 点击向导式安装：一步步完成安装向导，可能需要关注额外的选项（如捆绑软件）。 手动升级：软件更新时需要重复上述步骤。 寻找卸载程序：在“程序和功能”中查找并手动卸载。  这些手动操作耗时、易错且效率低下，尤其对于开发者、系统管理员或需要管理多台机器的用户而言。Chocolatey 旨在解决这些痛点：  自动化安装&#x2F;升级：只需一条命令即可安装或升级软件，无需手动干预。 批量管理：可以一次性安装或升级多...</div></div></div></a><a class="pagination-related" href="/9ac45568d1c2/" title="WSL2详解：在Windows运行Linux的新标准"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-11.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-09-22</div><div class="info-item-2">WSL2详解：在Windows运行Linux的新标准</div></div><div class="info-2"><div class="info-item-1"> WSL 2 (适用于 Linux 的 Windows 子系统 2 - Windows Subsystem for Linux 2) 是微软推出的一项技术，它允许开发者在 Windows 操作系统上直接运行原生 Linux 环境，而无需双启动或传统虚拟机。WSL 2 相较于其前身 WSL 1，最大的变化是它运行在一个轻量级的虚拟机中，其中包含一个完整的 Linux 内核，这极大地提升了文件系统性能、系统调用兼容性和 Docker Desktop 的体验。  核心思想：在 Windows 内部无缝集成一个高性能、高度兼容的原生 Linux 环境，兼顾 Windows 的图形界面和 Linux 的命令行工具优势。   一、为什么需要 WSL 2？传统的 Linux 开发环境设置通常涉及以下几种方式：  双系统：需要重启电脑才能切换操作系统，且占用硬盘空间大。 虚拟机 (VirtualBox, VMWare)：性能开销大，与 Windows 系统的集成度不高，共享文件、剪贴板等操作相对繁琐。 WSL 1：提供了一个兼容层，将 Linux 系统调用转换为 Windows NT 内核调用。...</div></div></div></a><a class="pagination-related" href="/6d6856b2b7ad/" title="Hyper-V 深度详解：Windows 平台上的专业级虚拟化技术"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-11.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-10-08</div><div class="info-item-2">Hyper-V 深度详解：Windows 平台上的专业级虚拟化技术</div></div><div class="info-2"><div class="info-item-1"> Hyper-V 是微软提供的一款基于 Hypervisor 的虚拟化技术，它允许用户在单一物理服务器上运行多个独立的虚拟机 (Virtual Machines, VMs)。作为 Windows Server 操作系统的一个角色功能，以及 Windows 客户端操作系统（Pro、Enterprise、Education 版本）的一个可选功能，Hyper-V 提供了一个可靠、高效且可扩展的平台，用于创建、运行和管理虚拟机。它支持运行多种操作系统，包括 Windows、Linux 以及其他变体，是企业级数据中心、开发测试环境以及个人专业用户不可或缺的工具。  核心思想：Hyper-V 在硬件和操作系统之间插入一个薄薄的虚拟化层——Hypervisor (管理程序)。这个 Hypervisor 直接管理物理硬件资源，并高效地分配给多个虚拟机，每个虚拟机都像一台独立的物理机器一样运行，拥有自己的操作系统和应用程序，从而实现资源的隔离和高效利用。   一、虚拟化技术概述与 Hyper-V 的定位1.1 什么是虚拟化？虚拟化是一种创建事物虚拟版本（而不是物理版本）的技术，通常指创建虚拟计算机...</div></div></div></a><a class="pagination-related" href="/b6adb43b8a7d/" title="GitHub Raw Content (raw.githubusercontent.com) 详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-13.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-11-04</div><div class="info-item-2">GitHub Raw Content (raw.githubusercontent.com) 详解</div></div><div class="info-2"><div class="info-item-1"> raw.githubusercontent.com 是 GitHub 提供的一项服务，用于直接访问存储在 GitHub 仓库中的原始文件内容。当你在 GitHub 网站上查看一个文件时，你看到的是经过渲染的页面（例如，Markdown 文件会被渲染成 HTML），但 raw.githubusercontent.com 提供了该文件的原始、未经处理的版本，如同文件在本地文件系统中的字节流。它充当了一个简单的内容分发网络 (CDN)，使得开发者可以方便地将 GitHub 仓库中的文件作为静态资源直接引用到其他应用或网页中。  核心思想：提供对 GitHub 仓库中文件的原始、未经渲染内容的直接 HTTP 访问，将其作为静态资源或简单的数据源使用。   一、工作原理与 URL 结构raw.githubusercontent.com 的 URL 结构是高度规范化的，通常遵循以下格式： 1https://raw.githubusercontent.com/&#123;username&#125;/&#123;repository&#125;/&#123;branch&#125;/&#12...</div></div></div></a><a class="pagination-related" href="/2565d3c3db01/" title="Go语言embed包详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-24.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-01-12</div><div class="info-item-2">Go语言embed包详解</div></div><div class="info-2"><div class="info-item-1"> Go 标准库从 Go 1.16 版本开始引入了 embed 1 包。这个包提供了一种简单、声明式的方式，允许开发者将静态文件（如 HTML 模板、CSS、JavaScript、图片、配置文件等）直接嵌入到 Go 可执行文件中。这意味着你可以通过一个独立的二进制文件分发所有应用程序所需的资源，而无需额外管理外部文件，极大地简化了部署和分发过程。  核心思想：将应用程序的外部资源（静态文件）编译进最终的二进制文件，实现“单一二进制文件”的发布和部署，消除外部文件依赖带来的复杂性。   一、为什么需要 embed 包？在 embed 包之前，Go 语言应用程序处理静态资源通常有以下几种方式：  外部文件：将静态文件与可执行文件放在一起分发。这会带来：  部署复杂性：需要确保文件结构正确，并处理文件丢失或路径错误的问题。 文件篡改风险：外部文件容易被修改，可能影响程序的行为或安全性。 分发不便：每次更新都需要同步可执行文件和所有相关资源文件。   go:embed 第三方库：许多第三方库（如 go-bindata, packr）实现了文件嵌入功能。这些库虽然有效，但通常需要一些额外的构...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/loading.gif" data-lazy-src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">TeaTang</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">354</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">208</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">74</div></a></div><a id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/teatang"><i class="fab fa-github"></i><span>GitHub主页</span></a><div class="card-info-social-icons"><a class="social-icon" href="mailto:tea.tang1211@gmail.com" rel="external nofollow noreferrer" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title="RSS"><i class="fas fa-rss"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">网站更多功能即将上线，敬请期待！</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E4%B8%BA%E4%BB%80%E4%B9%88%E9%80%89%E6%8B%A9-Scoop%EF%BC%9F"><span class="toc-text">一、为什么选择 Scoop？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81Scoop-%E7%9A%84%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5"><span class="toc-text">二、Scoop 的核心概念</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-Scoop-%E6%9C%AC%E4%BD%93"><span class="toc-text">2.1 Scoop 本体</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-Buckets-%E6%A1%B6"><span class="toc-text">2.2 Buckets (桶)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-Manifests-%E6%B8%85%E5%8D%95%E6%96%87%E4%BB%B6"><span class="toc-text">2.3 Manifests (清单文件)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-Shims-%E5%9E%AB%E7%89%87"><span class="toc-text">2.4 Shims (垫片)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81Scoop-%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-text">三、Scoop 的安装与基本使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%AE%89%E8%A3%85-Scoop"><span class="toc-text">3.1 安装 Scoop</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-text">3.2 常用命令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95"><span class="toc-text">四、高级用法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%E7%AE%A1%E7%90%86-Buckets"><span class="toc-text">4.1 管理 Buckets</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86"><span class="toc-text">4.2 版本管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-%E6%8C%81%E4%B9%85%E5%8C%96%E6%95%B0%E6%8D%AE-persist"><span class="toc-text">4.3 持久化数据 (persist)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81Scoop-%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9"><span class="toc-text">五、Scoop 的优缺点</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E4%BC%98%E7%82%B9%EF%BC%9A"><span class="toc-text">5.1 优点：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-%E7%BC%BA%E7%82%B9%EF%BC%9A"><span class="toc-text">5.2 缺点：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E4%B8%8E-Windows-%E5%85%B6%E4%BB%96%E5%8C%85%E7%AE%A1%E7%90%86%E5%99%A8%E5%AF%B9%E6%AF%94"><span class="toc-text">六、与 Windows 其他包管理器对比</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%83%E3%80%81%E6%80%BB%E7%BB%93"><span class="toc-text">七、总结</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/28f993be5cfe/" title="Bun.js 深度解析：冷启动与边缘函数优化"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-31.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Bun.js 深度解析：冷启动与边缘函数优化"/></a><div class="content"><a class="title" href="/28f993be5cfe/" title="Bun.js 深度解析：冷启动与边缘函数优化">Bun.js 深度解析：冷启动与边缘函数优化</a><time datetime="2025-12-07T22:24:00.000Z" title="发表于 2025-12-08 06:24:00">2025-12-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/bcbe0f78ef1d/" title="Go Jaeger 深度解析：分布式追踪实践"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-16.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go Jaeger 深度解析：分布式追踪实践"/></a><div class="content"><a class="title" href="/bcbe0f78ef1d/" title="Go Jaeger 深度解析：分布式追踪实践">Go Jaeger 深度解析：分布式追踪实践</a><time datetime="2025-12-04T22:24:00.000Z" title="发表于 2025-12-05 06:24:00">2025-12-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/15920229f914/" title="Supabase 深度解析"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-11.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Supabase 深度解析"/></a><div class="content"><a class="title" href="/15920229f914/" title="Supabase 深度解析">Supabase 深度解析</a><time datetime="2025-12-02T22:24:00.000Z" title="发表于 2025-12-03 06:24:00">2025-12-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/1ae20d2726d8/" title="MiniRTC 详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-17.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MiniRTC 详解"/></a><div class="content"><a class="title" href="/1ae20d2726d8/" title="MiniRTC 详解">MiniRTC 详解</a><time datetime="2025-11-28T22:24:00.000Z" title="发表于 2025-11-29 06:24:00">2025-11-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/be24ef88e59a/" title="WebRTC 技术详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-30.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="WebRTC 技术详解"/></a><div class="content"><a class="title" href="/be24ef88e59a/" title="WebRTC 技术详解">WebRTC 技术详解</a><time datetime="2025-11-27T22:24:00.000Z" title="发表于 2025-11-28 06:24:00">2025-11-28</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/img/cover/default_cover-04.jpg);"><div class="footer-flex"><div class="footer-flex-items"><div class="footer-flex-item"><div class="footer-flex-title">我的轨迹</div><div class="footer-flex-content"><a href="/archives/2023/" target="_blank" title="📌 2023">📌 2023</a><a href="/archives/2024/" target="_blank" title="❓ 2024">❓ 2024</a><a href="/archives/2025/" target="_blank" title="🚀 2025">🚀 2025</a></div></div></div><div class="footer-flex-items"><div class="footer-flex-item"><div class="footer-flex-title">维度</div><div class="footer-flex-content"><a href="/categories/" target="_blank" title="分类">分类</a><a href="/tags/" target="_blank" title="标签">标签</a><a href="/categories/" target="_blank" title="时间线">时间线</a></div></div></div><div class="footer-flex-items"><div class="footer-flex-item"><div class="footer-flex-title">其他</div><div class="footer-flex-content"><a href="/shuoshuo" target="_blank" title="说说">说说</a></div></div></div></div><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2023 - 2025 By TeaTang</span><span class="framework-info"><span class="footer-separator">|</span><span>框架 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.2"></script><script src="/js/main.js?v=5.5.2"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.1.4/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@19.1.3/dist/lazyload.iife.min.js"></script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const config = mermaidSrc.dataset.config ? JSON.parse(mermaidSrc.dataset.config) : {}
      if (!config.theme) {
        config.theme = theme
      }
      const mermaidThemeConfig = `%%{init: ${JSON.stringify(config)}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid@11.12.1/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>(() => {
  const applyThemeDefaultsConfig = theme => {
    if (theme === 'dark-mode') {
      Chart.defaults.color = "rgba(255, 255, 255, 0.8)"
      Chart.defaults.borderColor = "rgba(255, 255, 255, 0.2)"
      Chart.defaults.scale.ticks.backdropColor = "transparent"
    } else {
      Chart.defaults.color = "rgba(0, 0, 0, 0.8)"
      Chart.defaults.borderColor = "rgba(0, 0, 0, 0.1)"
      Chart.defaults.scale.ticks.backdropColor = "transparent"
    }
  }

  // Recursively traverse the config object and automatically apply theme-specific color schemes
  const applyThemeConfig = (obj, theme) => {
    if (typeof obj !== 'object' || obj === null) return

    Object.keys(obj).forEach(key => {
      const value = obj[key]
      // If the property is an object and has theme-specific options, apply them
      if (typeof value === 'object' && value !== null) {
        if (value[theme]) {
          obj[key] = value[theme] // Apply the value for the current theme
        } else {
          // Recursively process child objects
          applyThemeConfig(value, theme)
        }
      }
    })
  }

  const runChartJS = ele => {
    window.loadChartJS = true

    Array.from(ele).forEach((item, index) => {
      const chartSrc = item.firstElementChild
      const chartID = item.getAttribute('data-chartjs-id') || ('chartjs-' + index) // Use custom ID or default ID
      const width = item.getAttribute('data-width')
      const existingCanvas = document.getElementById(chartID)

      // If a canvas already exists, remove it to avoid rendering duplicates
      if (existingCanvas) {
          existingCanvas.parentNode.remove()
      }

      const chartDefinition = chartSrc.textContent
      const canvas = document.createElement('canvas')
      canvas.id = chartID

      const div = document.createElement('div')
      div.className = 'chartjs-wrap'

      if (width) {
        div.style.width = width
      }

      div.appendChild(canvas)
      chartSrc.insertAdjacentElement('afterend', div)

      const ctx = document.getElementById(chartID).getContext('2d')

      const config = JSON.parse(chartDefinition)

      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark-mode' : 'light-mode'

      // Set default styles (initial setup)
      applyThemeDefaultsConfig(theme)

      // Automatically traverse the config and apply dual-mode color schemes
      applyThemeConfig(config, theme)

      new Chart(ctx, config)
    })
  }

  const loadChartJS = () => {
    const chartJSEle = document.querySelectorAll('#article-container .chartjs-container')
    if (chartJSEle.length === 0) return

    window.loadChartJS ? runChartJS(chartJSEle) : btf.getScript('https://cdn.jsdelivr.net/npm/chart.js@4.5.1/dist/chart.umd.min.js').then(() => runChartJS(chartJSEle))
  }

  // Listen for theme change events
  btf.addGlobalFn('themeChange', loadChartJS, 'chartjs')
  btf.addGlobalFn('encrypt', loadChartJS, 'chartjs')

  window.pjax ? loadChartJS() : document.addEventListener('DOMContentLoaded', loadChartJS)
})()</script></div><script data-pjax src="/self/btf.js"></script><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/fireworks.min.js"></script><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="ture"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-fluttering-ribbon.min.js"></script><script id="canvas_nest" defer="defer" color="0,200,200" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script><script>(() => {
  const pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => {
      try {
        fn()
      } catch (err) {
        console.debug('Pjax callback failed:', err)
      }
    })
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      const usePjax = true
      true
        ? (usePjax ? pjax.loadUrl('/404.html') : window.location.href = '/404.html')
        : window.location.href = e.request.responseURL
    }
  })
})()</script><script>(() => {
  const option = null
  const config = {"site_uv":true,"site_pv":true,"page_pv":true,"token":"qTvz1SkmPDt785fgh6BpiA5qiFFIVUwxj8Ft+rPW+cdN59v1hXjwRgSmy0+ji9m+oLlcxvo2NfDSMa6epVl3NTlsN3ejCIwWeP8Y51aEJ0Sbem4UexGmJLspB7AkOBId2SdtT6QWEBlGmFIIQgchQ2zAKYxTmc/kpBED5aLSr+3uvmQ9/G7FJQeVFpveDkK0xM1hu36xq4a6/FSeROxtoEp5zabzTWiYTlLsQzIl/NlELnCq3nxK+oo/vl3UQo/oM/rae/gJX/MaVKsgIUCd2ABJogNkx2KTenBIBpbPki5FzOgPh6/z4GPa4HvhNO51DDVG1SEQZooqEYmt/gnybLBWFbN+7liZWw=="}

  const runTrack = () => {
    if (typeof umami !== 'undefined' && typeof umami.track === 'function') {
      umami.track(props => ({ ...props, url: window.location.pathname, title: GLOBAL_CONFIG_SITE.title }))
    } else {
      console.warn('Umami Analytics: umami.track is not available')
    }
  }

  const loadUmamiJS = () => {
    btf.getScript('https://umami.012700.xyz/script.js', {
      'data-website-id': '2a796d6c-6499-42d8-8eb4-d9a2930b0ff3',
      'data-auto-track': 'false',
      ...option
    }).then(() => {
      runTrack()
    }).catch(error => {
      console.error('Umami Analytics: Error loading script', error)
    })
  }

  const getData = async (isPost) => {
    try {
      const now = Date.now()
      const keyUrl = isPost ? `&url=${window.location.pathname}` : ''
      const headerList = { 'Accept': 'application/json' }

      if (true) {
        headerList['Authorization'] = `Bearer ${config.token}`
      } else {
        headerList['x-umami-api-key'] = config.token
      }

      const res = await fetch(`https://umami.012700.xyz/api/websites/2a796d6c-6499-42d8-8eb4-d9a2930b0ff3/stats?startAt=0000000000&endAt=${now}${keyUrl}`, {
        method: "GET",
        headers: headerList
      })

      if (!res.ok) {
        throw new Error(`HTTP error! status: ${res.status}`)
      }

      return await res.json()
    } catch (error) {
      console.error('Umami Analytics: Failed to fetch data', error)
      throw error
    }
  }

  const insertData = async () => {
    try {
      if (GLOBAL_CONFIG_SITE.pageType === 'post' && config.page_pv) {
        const pagePV = document.getElementById('umamiPV')
        if (pagePV) {
          const data = await getData(true)
          if (data && data.pageviews && typeof data.pageviews.value !== 'undefined') {
            pagePV.textContent = data.pageviews.value
          } else {
            console.warn('Umami Analytics: Invalid page view data received')
          }
        }
      }

      if (config.site_uv || config.site_pv) {
        const data = await getData(false)

        if (config.site_uv) {
          const siteUV = document.getElementById('umami-site-uv')
          if (siteUV && data && data.visitors && typeof data.visitors.value !== 'undefined') {
            siteUV.textContent = data.visitors.value
          } else if (siteUV) {
            console.warn('Umami Analytics: Invalid site UV data received')
          }
        }

        if (config.site_pv) {
          const sitePV = document.getElementById('umami-site-pv')
          if (sitePV && data && data.pageviews && typeof data.pageviews.value !== 'undefined') {
            sitePV.textContent = data.pageviews.value
          } else if (sitePV) {
            console.warn('Umami Analytics: Invalid site PV data received')
          }
        }
      }
    } catch (error) {
      console.error('Umami Analytics: Failed to insert data', error)
    }
  }

  btf.addGlobalFn('pjaxComplete', runTrack, 'umami_analytics_run_track')
  btf.addGlobalFn('pjaxComplete', insertData, 'umami_analytics_insert')


  loadUmamiJS()

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', insertData)
  } else {
    setTimeout(insertData, 100)
  }
})()</script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden="hidden"></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="local-search-input"><input placeholder="搜索文章" type="text"/></div><hr/><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none;"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=5.5.2"></script></div></div></body></html>