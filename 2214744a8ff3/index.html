<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Oh My Posh 详解 - 终端提示符美化与增强 | 1024 维度</title><meta name="author" content="TeaTang"><meta name="copyright" content="TeaTang"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Oh My Posh 是一个开源的、高度可定制的命令行提示符（prompt）引擎，旨在为你的终端（Terminal）提供美观且功能丰富的提示符。它支持多种 shell，包括 PowerShell、Bash、Zsh、Cmd、Fish 等，并且能够显示 Git 状态、当前路径、用户名、系统信息、电池状态等多种上下文信息，极大地提升了终端使用的效率和体验。  核心思想：将静态、单调的命令行提示符，转换">
<meta property="og:type" content="article">
<meta property="og:title" content="Oh My Posh 详解 - 终端提示符美化与增强">
<meta property="og:url" content="https://blog.tbf1211.xx.kg/2214744a8ff3/index.html">
<meta property="og:site_name" content="1024 维度">
<meta property="og:description" content="Oh My Posh 是一个开源的、高度可定制的命令行提示符（prompt）引擎，旨在为你的终端（Terminal）提供美观且功能丰富的提示符。它支持多种 shell，包括 PowerShell、Bash、Zsh、Cmd、Fish 等，并且能够显示 Git 状态、当前路径、用户名、系统信息、电池状态等多种上下文信息，极大地提升了终端使用的效率和体验。  核心思想：将静态、单调的命令行提示符，转换">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blog.tbf1211.xx.kg/img/cover/default_cover-10.jpg">
<meta property="article:published_time" content="2025-08-28T22:24:00.000Z">
<meta property="article:modified_time" content="2025-12-30T10:31:22.360Z">
<meta property="article:author" content="TeaTang">
<meta property="article:tag" content="Linux">
<meta property="article:tag" content="macOS">
<meta property="article:tag" content="Shell">
<meta property="article:tag" content="2025">
<meta property="article:tag" content="Windows">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog.tbf1211.xx.kg/img/cover/default_cover-10.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Oh My Posh 详解 - 终端提示符美化与增强",
  "url": "https://blog.tbf1211.xx.kg/2214744a8ff3/",
  "image": "https://blog.tbf1211.xx.kg/img/cover/default_cover-10.jpg",
  "datePublished": "2025-08-28T22:24:00.000Z",
  "dateModified": "2025-12-30T10:31:22.360Z",
  "author": [
    {
      "@type": "Person",
      "name": "TeaTang",
      "url": "https://blog.tbf1211.xx.kg"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon-1.ico"><link rel="canonical" href="https://blog.tbf1211.xx.kg/2214744a8ff3/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><meta name="google-site-verification" content="NdIUXAOVyGnnBhcrip0ksCawbdAzT0hlBZDE9u4jx6k"/><meta name="msvalidate.01" content="567E47D75E8DCF1282B9623AD914701E"/><meta name="baidu-site-verification" content="code-pE5rnuxcfD"/><link rel="stylesheet" href="/css/index.css?v=5.5.3"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.1.7/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          const mediaQueryDark = window.matchMedia('(prefers-color-scheme: dark)')
          const mediaQueryLight = window.matchMedia('(prefers-color-scheme: light)')

          if (theme === undefined) {
            if (mediaQueryLight.matches) activateLightMode()
            else if (mediaQueryDark.matches) activateDarkMode()
            else {
              const hour = new Date().getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            mediaQueryDark.addEventListener('change', () => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else {
            theme === 'light' ? activateLightMode() : activateDarkMode()
          }
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":false,"top_n_per_article":1,"unescape":false,"pagination":{"enable":true,"hitsPerPage":8},"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":400,"highlightFullpage":true,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":150,"languages":{"author":"作者: TeaTang","link":"链接: ","source":"来源: 1024 维度","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Oh My Posh 详解 - 终端提示符美化与增强',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="preconnect" href="https://jsd.012700.xyz"><link href="/self/btf.css" rel="stylesheet"><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="1024 维度" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/loading.gif" data-lazy-src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">447</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">225</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">80</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 我的轨迹</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/2023/"><i class="fa-fw fa-solid fa-bug"></i><span> 2023</span></a></li><li><a class="site-page child" href="/archives/2024/"><i class="fa-fw fa-solid fa-code"></i><span> 2024</span></a></li><li><a class="site-page child" href="/archives/2025/"><i class="fa-fw fa-solid fa-network-wired"></i><span> 2025</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa-solid fa-calendar-days"></i><span> 时间线</span></a></div><div class="menus_item"><a class="site-page" href="/shuoshuo"><i class="fa-fw fas fa-comment"></i><span> 说说</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image: url(/img/cover/default_cover-10.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">1024 维度</span></a><a class="nav-page-title" href="/"><span class="site-name">Oh My Posh 详解 - 终端提示符美化与增强</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 我的轨迹</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/2023/"><i class="fa-fw fa-solid fa-bug"></i><span> 2023</span></a></li><li><a class="site-page child" href="/archives/2024/"><i class="fa-fw fa-solid fa-code"></i><span> 2024</span></a></li><li><a class="site-page child" href="/archives/2025/"><i class="fa-fw fa-solid fa-network-wired"></i><span> 2025</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa-solid fa-calendar-days"></i><span> 时间线</span></a></div><div class="menus_item"><a class="site-page" href="/shuoshuo"><i class="fa-fw fas fa-comment"></i><span> 说说</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">Oh My Posh 详解 - 终端提示符美化与增强</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon far fa-calendar-alt"></i><span class="post-meta-label">发表于</span><time datetime="2025-08-28T22:24:00.000Z" title="发表于 2025-08-29 06:24:00">2025-08-29</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/">开发工具</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/Windows/">Windows</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">3.5k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>13分钟</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><blockquote>
<p><strong>Oh My Posh</strong> 是一个开源的、高度可定制的命令行提示符（prompt）引擎，旨在为你的终端（Terminal）提供美观且功能丰富的提示符。它支持多种 shell，包括 PowerShell、Bash、Zsh、Cmd、Fish 等，并且能够显示 Git 状态、当前路径、用户名、系统信息、电池状态等多种上下文信息，极大地提升了终端使用的效率和体验。</p>
</blockquote>
<div class="note info flat"><p>核心思想：<strong>将静态、单调的命令行提示符，转换为动态、数据丰富、高度定制化且视觉友好的信息中心，从而提高工作效率和终端美观度。</strong></p>
</div>
<hr>
<h2 id="一、为什么选择-Oh-My-Posh？"><a href="#一、为什么选择-Oh-My-Posh？" class="headerlink" title="一、为什么选择 Oh My Posh？"></a>一、为什么选择 Oh My Posh？</h2><p>传统的命令行提示符通常信息量有限且外观单调，例如 <code>PS C:\Users\Username&gt;</code> 或 <code>user@host:~$</code>。在进行复杂的开发工作时，你可能经常需要：</p>
<ol>
<li><strong>查看 Git 仓库状态</strong>：当前分支、是否有未提交的更改、是否有未推送的提交。</li>
<li><strong>快速了解当前路径</strong>：路径过长时自动截断，仅显示相关部分。</li>
<li><strong>获取其他上下文信息</strong>：例如当前 Python 虚拟环境、Node.js 版本、Go 版本、电池电量等。</li>
<li><strong>视觉美观</strong>：一个漂亮的终端能让人心情愉悦，提高工作效率。</li>
<li><strong>跨平台一致性</strong>：在不同的操作系统或 shell 中保持一致的提示符风格。</li>
</ol>
<p>Oh My Posh 旨在解决这些痛点，提供以下优势：</p>
<ul>
<li><strong>信息丰富</strong>：通过“段 (Segments)”机制，可以在提示符中集成各种有用的信息。</li>
<li><strong>高度可定制</strong>：通过 JSON 格式的主题文件，可以完全控制提示符的布局、颜色、图标和显示逻辑。</li>
<li><strong>跨 Shell 支持</strong>：一套配置，多处可用，无论是 PowerShell、WSL 里的 Bash&#x2F;Zsh 还是其他 shell。</li>
<li><strong>美观性</strong>：利用 <a href="#%E4%BA%8C-2-nerd-fonts">Nerd Fonts</a> 提供的图标和颜色方案，使提示符更具视觉冲击力。</li>
<li><strong>开源活跃</strong>：社区活跃，不断有新功能和主题更新。</li>
</ul>
<h2 id="二、核心概念"><a href="#二、核心概念" class="headerlink" title="二、核心概念"></a>二、核心概念</h2><p>理解 Oh My Posh 的几个核心概念对于有效使用和定制至关重要。</p>
<h3 id="2-1-主题-Themes"><a href="#2-1-主题-Themes" class="headerlink" title="2.1 主题 (Themes)"></a>2.1 主题 (Themes)</h3><p><strong>定义</strong>：主题是 Oh My Posh 的核心，它是一个 JSON 格式的文件，定义了提示符的<strong>外观、布局和内容</strong>。一个主题包含了：</p>
<ul>
<li><strong>调色板 (Palette)</strong>：预定义的颜色名称及其对应的 RGB&#x2F;HEX 值。</li>
<li><strong>段 (Segments)</strong>：提示符中各个信息模块的定义。</li>
<li><strong>提示符模板</strong>：如何将这些段组合起来形成最终的提示符字符串。</li>
<li><strong>样式</strong>：前景色、背景色、分隔符样式等。</li>
</ul>
<p>Oh My Posh 提供了许多内置主题供选择，例如 <code>jandedobz</code>, <code>agnoster</code>, <code>atomic</code> 等。</p>
<h3 id="2-2-段-Segments"><a href="#2-2-段-Segments" class="headerlink" title="2.2 段 (Segments)"></a>2.2 段 (Segments)</h3><p><strong>定义</strong>：段是构成 Oh My Posh 提示符的基本<strong>信息单元或组件</strong>。每个段都负责收集和显示特定类型的信息。<br>常见的段类型包括：</p>
<ul>
<li><strong><code>os</code></strong>：显示操作系统图标。</li>
<li><strong><code>path</code></strong>：显示当前工作目录，支持路径截断。</li>
<li><strong><code>git</code></strong>：显示 Git 仓库信息（分支名、状态、修改）。</li>
<li><strong><code>time</code></strong>：显示当前时间。</li>
<li><strong><code>battery</code></strong>：显示电池电量和状态。</li>
<li><strong><code>user</code></strong>：显示当前用户名和主机名。</li>
<li><strong><code>go</code></strong>, <strong><code>node</code></strong>, <strong><code>python</code></strong>, <strong><code>dotnet</code></strong> 等：显示特定编程语言的工具链版本或虚拟环境。</li>
<li><strong><code>status</code></strong>：显示上一个命令的退出状态码。</li>
<li><strong><code>cmd</code></strong>：显示当前 shell 的名称。</li>
</ul>
<p>每个段都可以独立配置其前景色、背景色、图标、文本内容和显示条件。</p>
<h3 id="2-3-Nerd-Fonts"><a href="#2-3-Nerd-Fonts" class="headerlink" title="2.3 Nerd Fonts"></a>2.3 Nerd Fonts</h3><p><strong>定义</strong>：Nerd Fonts 是一个项目，它将大量的图标（glyph）注入到主流的编程字体中。s这些图标包括编程语言图标、文件类型图标、Git 状态图标等。<br><strong>为什么需要它？</strong> Oh My Posh 的主题文件大量使用了这些特殊图标来增强提示符的视觉效果。如果你的终端没有配置 Nerd Font，那么这些图标将无法正确显示，而会显示为乱码或方块。</p>
<p><strong>常见 Nerd Fonts 字体</strong>：</p>
<ul>
<li>Cascadia Code PL (PowerLine)</li>
<li>Fira Code NF</li>
<li>Meslo LG S NF</li>
<li>JetBrains Mono NF</li>
</ul>
<p><strong>重要提示</strong>：安装 Nerd Font 后，你还需要在终端模拟器（如 Windows Terminal, VS Code Terminal, iTerm2）的设置中，将字体明确配置为已安装的 Nerd Font。</p>
<h2 id="三、安装与配置-Oh-My-Posh"><a href="#三、安装与配置-Oh-My-Posh" class="headerlink" title="三、安装与配置 Oh My Posh"></a>三、安装与配置 Oh My Posh</h2><p>以 Windows PowerShell 为例，演示 Oh My Posh 的安装和基本配置。</p>
<h3 id="3-1-前提条件"><a href="#3-1-前提条件" class="headerlink" title="3.1 前提条件"></a>3.1 前提条件</h3><ol>
<li><strong>终端模拟器</strong>：推荐使用 <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.microsoft.com/zh-cn/windows/windows-terminal">Windows Terminal</a>，它对字体和颜色有更好的支持。</li>
<li><strong>PowerShell 7 (pwsh)</strong>：虽然 Oh My Posh 也支持 Windows PowerShell 5.1，但 PowerShell 7 提供了更好的性能和功能。</li>
<li><strong>安装 Git</strong>：许多 Oh My Posh 段（尤其是 Git 段）需要 Git 命令行工具。</li>
</ol>
<h3 id="3-2-安装-Nerd-Font"><a href="#3-2-安装-Nerd-Font" class="headerlink" title="3.2 安装 Nerd Font"></a>3.2 安装 Nerd Font</h3><ol>
<li><strong>下载 Nerd Font</strong>：访问 <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.nerdfonts.com/font-downloads">Nerd Fonts 官网</a> 下载你喜欢的字体，例如 Cascadia Code PL。</li>
<li><strong>安装字体</strong>：下载后，解压并双击 <code>.ttf</code> 或 <code>.otf</code> 文件进行安装。</li>
<li><strong>配置终端字体</strong>：<ul>
<li>打开 Windows Terminal。</li>
<li>点击顶部向下箭头 -&gt; <code>设置</code>。</li>
<li>在 <code>profiles</code> -&gt; <code>PowerShell</code> 或你使用的 shell 配置中，找到 <code>文本外观</code> -&gt; <code>字体系列</code>。</li>
<li>将其设置为你安装的 Nerd Font (例如 <code>Cascadia Code PL</code> 或 <code>CaskaydiaCove Nerd Font</code>).</li>
</ul>
</li>
</ol>
<h3 id="3-3-安装-Oh-My-Posh"><a href="#3-3-安装-Oh-My-Posh" class="headerlink" title="3.3 安装 Oh My Posh"></a>3.3 安装 Oh My Posh</h3><p>推荐使用 <code>winget</code> 或 <code>Install-Module</code>。</p>
<h4 id="3-3-1-使用-Winget-推荐"><a href="#3-3-1-使用-Winget-推荐" class="headerlink" title="3.3.1 使用 Winget (推荐)"></a>3.3.1 使用 Winget (推荐)</h4><p>如果你的 Windows 版本支持 <code>winget</code> (Windows 软件包管理器)，这是最简单的方式。</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">winget install JanDeDobbeleer.OhMyPosh <span class="literal">-h</span></span><br></pre></td></tr></table></figure>
<p>这将把 Oh My Posh 安装到你的用户目录，并自动添加到 PATH 中。</p>
<h4 id="3-3-2-使用-PowerShellGet-替代方案"><a href="#3-3-2-使用-PowerShellGet-替代方案" class="headerlink" title="3.3.2 使用 PowerShellGet (替代方案)"></a>3.3.2 使用 PowerShellGet (替代方案)</h4><p>如果你没有 <code>winget</code> 或者更倾向于 PowerShell 模块管理。</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 确保 PowerShellGet 是最新版本</span></span><br><span class="line"><span class="built_in">Install-Module</span> <span class="literal">-Name</span> PowerShellGet <span class="literal">-Force</span> <span class="literal">-AllowClobber</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装 Oh My Posh 模块</span></span><br><span class="line"><span class="built_in">Install-Module</span> <span class="literal">-Name</span> <span class="built_in">oh</span><span class="literal">-my-posh</span> <span class="literal">-Scope</span> CurrentUser</span><br></pre></td></tr></table></figure>

<h3 id="3-4-配置-PowerShell-配置文件-PROFILE"><a href="#3-4-配置-PowerShell-配置文件-PROFILE" class="headerlink" title="3.4 配置 PowerShell 配置文件 ($PROFILE)"></a>3.4 配置 PowerShell 配置文件 (<code>$PROFILE</code>)</h3><p>为了让 Oh My Posh 在每次启动 PowerShell 时自动加载，你需要修改 PowerShell 的配置文件。</p>
<ol>
<li><p><strong>检查配置文件路径</strong>：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$PROFILE</span></span><br></pre></td></tr></table></figure>
<p>这会显示你的当前用户配置文件路径，例如 <code>C:\Users\YourUser\Documents\PowerShell\Microsoft.PowerShell_profile.ps1</code>。</p>
</li>
<li><p><strong>创建或打开配置文件</strong>：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">notepad <span class="variable">$PROFILE</span></span><br><span class="line"><span class="comment"># 如果文件不存在，会自动创建</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>添加 Oh My Posh 初始化命令</strong>：<br>将以下两行代码添加到 <code>$PROFILE</code> 文件的末尾：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Oh My Posh 初始化</span></span><br><span class="line"><span class="comment"># 替换为你想使用的 Oh My Posh 主题路径</span></span><br><span class="line"><span class="comment"># Oh My Posh 官方主题通常位于 $env:POSH_THEMES_PATH 或 C:\Users\&lt;YourUser&gt;\AppData\Local\Programs\oh-my-posh\themes</span></span><br><span class="line"><span class="built_in">oh</span><span class="literal">-my-posh</span> init pwsh <span class="literal">--config</span> <span class="string">&quot;<span class="variable">$env:POSH_THEMES_PATH</span>/jandedobz.omp.json&quot;</span> | <span class="built_in">Invoke-Expression</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>oh-my-posh init pwsh</code>：初始化 Oh My Posh 以在 PowerShell 中运行。</li>
<li><code>--config &quot;&lt;theme_path&gt;&quot;</code>：指定要加载的主题文件。默认主题路径通常在 <code>$env:POSH_THEMES_PATH</code> 环境变量中，如果没有设置，可以手动查找。<ul>
<li>使用 <code>winget</code> 安装时，主题文件通常在 <code>C:\Users\&lt;YourUser&gt;\AppData\Local\Programs\oh-my-posh\themes</code>。</li>
<li>使用 <code>Install-Module</code> 安装时，主题文件可能在模块安装目录，可以通过 <code>Get-PoshThemes</code> 找到。</li>
</ul>
</li>
<li><code>| Invoke-Expression</code>：执行 Oh My Posh 生成的 PowerShell 代码，以设置提示符函数。</li>
</ul>
</li>
<li><p><strong>保存并重启 PowerShell</strong>：<br>保存 <code>$PROFILE</code> 文件，并关闭所有 PowerShell 窗口，然后重新打开。你应该能看到全新的提示符了。</p>
</li>
</ol>
<h3 id="3-5-其他-Shell-的安装与配置-简述"><a href="#3-5-其他-Shell-的安装与配置-简述" class="headerlink" title="3.5 其他 Shell 的安装与配置 (简述)"></a>3.5 其他 Shell 的安装与配置 (简述)</h3><p>Oh My Posh 也支持其他 shell。基本流程类似：</p>
<ol>
<li>安装 Oh My Posh 可执行文件 (例如通过 Homebrew 在 macOS 上)。</li>
<li>安装并配置 Nerd Font。</li>
<li>编辑相应 shell 的配置文件（例如 <code>~/.bashrc</code> for Bash, <code>~/.zshrc</code> for Zsh, <code>~/.config/fish/config.fish</code> for Fish）。</li>
<li>添加 Oh My Posh 的初始化命令：<ul>
<li><strong>Bash&#x2F;Zsh</strong>: <code>eval &quot;$(oh-my-posh init &lt;shell&gt; --config &lt;theme_path&gt;)&quot;</code></li>
<li><strong>Fish</strong>: <code>oh-my-posh init fish --config &lt;theme_path&gt; | source</code></li>
<li>具体请参考 <a target="_blank" rel="noopener external nofollow noreferrer" href="https://ohmyposh.dev/docs/installation">Oh My Posh 官方文档</a>。</li>
</ul>
</li>
</ol>
<h2 id="四、配置与定制主题"><a href="#四、配置与定制主题" class="headerlink" title="四、配置与定制主题"></a>四、配置与定制主题</h2><h3 id="4-1-查找与切换主题"><a href="#4-1-查找与切换主题" class="headerlink" title="4.1 查找与切换主题"></a>4.1 查找与切换主题</h3><ul>
<li><p><strong>列出可用主题</strong>：<br>如果你知道主题安装目录，可以直接查看。或者，如果通过 PowerShellGet 安装，可以使用：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Get-PoshThemes</span></span><br></pre></td></tr></table></figure>
<p>这会列出所有内置主题的名称和路径。</p>
</li>
<li><p><strong>切换主题</strong>：<br>只需修改 <code>$PROFILE</code> 文件中的 <code>--config</code> 参数，指向你想要使用的主题路径，然后重启 PowerShell 即可。</p>
</li>
</ul>
<h3 id="4-2-自定义主题"><a href="#4-2-自定义主题" class="headerlink" title="4.2 自定义主题"></a>4.2 自定义主题</h3><p>自定义主题是 Oh My Posh 的强大之处。</p>
<ol>
<li><p><strong>复制现有主题</strong>：<br>将一个你喜欢的主题文件（例如 <code>jandedobz.omp.json</code>）复制到你的用户目录下，并重命名（例如 <code>my_custom_theme.omp.json</code>）。</p>
</li>
<li><p><strong>编辑主题 JSON 文件</strong>：<br>使用任何文本编辑器打开你的自定义主题文件。主题文件通常包含以下顶级键：</p>
<ul>
<li><code>&quot;$schema&quot;</code>：JSON 模式定义，帮助编辑器提供自动补全和验证。</li>
<li><code>&quot;version&quot;</code>：主题版本。</li>
<li><code>&quot;palette&quot;</code>：定义颜色变量。</li>
<li><code>&quot;blocks&quot;</code>：定义提示符的各个部分（通常是左侧、右侧、第二行等）。每个块包含多个 <code>segments</code>。</li>
<li><code>&quot;segments&quot;</code>：定义共享的或不在 <code>blocks</code> 中的段。</li>
<li><code>&quot;transient_prompt&quot;</code>：定义当你按下回车后，显示在下一行的精简提示符。</li>
<li><code>&quot;secondary_prompt&quot;</code>：定义在多行输入时的第二行提示符。</li>
<li><code>&quot;final_space&quot;</code>：提示符末尾是否有空格。</li>
</ul>
</li>
<li><p><strong>修改段 (Segments)</strong>：<br>在 <code>blocks</code> 或 <code>segments</code> 数组中，你可以添加、删除或修改段。每个段对象通常包含：</p>
<ul>
<li><code>&quot;type&quot;</code>：段的类型（例如 <code>path</code>, <code>git</code>, <code>time</code>）。</li>
<li><code>&quot;style&quot;</code>：段的样式（例如 <code>powerline</code>, <code>plain</code>）。</li>
<li><code>&quot;foreground&quot;</code> &#x2F; <code>&quot;background&quot;</code>：前景色和背景色。</li>
<li><code>&quot;properties&quot;</code>：特定于段类型的配置（例如 <code>path</code> 段的 <code>max_depth</code>, <code>git</code> 段的 <code>ahead_icon</code>）。</li>
<li><code>&quot;template&quot;</code>：定义段的显示文本，可以使用占位符（例如 <code>&#123;&#123; .Path &#125;&#125;</code>）。</li>
</ul>
</li>
</ol>
<p><strong>示例：修改 Git 段</strong></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// my_custom_theme.omp.json (片段)</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="comment">// ... 其他主题配置</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">&quot;blocks&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;prompt&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;alignment&quot;</span><span class="punctuation">:</span> <span class="string">&quot;left&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;segments&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;git&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;style&quot;</span><span class="punctuation">:</span> <span class="string">&quot;powerline&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;foreground&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#ffffff&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;background&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#F14E32&quot;</span><span class="punctuation">,</span> <span class="comment">// 更显眼的 Git 红色</span></span><br><span class="line">          <span class="attr">&quot;template&quot;</span><span class="punctuation">:</span> <span class="string">&quot; &#123;&#123; .UpstreamIcon &#125;&#125;&#123;&#123; .BranchStatus &#125;&#125;&#123;&#123; .Working.String &#125;&#125;&#123;&#123; .Staging.String &#125;&#125;&#123;&#123; .Branch &#125;&#125; &quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;properties&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;detached_icon&quot;</span><span class="punctuation">:</span> <span class="string">&quot;\uF629&quot;</span><span class="punctuation">,</span> <span class="comment">// 定义分离头指针图标</span></span><br><span class="line">            <span class="attr">&quot;ahead_icon&quot;</span><span class="punctuation">:</span> <span class="string">&quot;↑&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;behind_icon&quot;</span><span class="punctuation">:</span> <span class="string">&quot;↓&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;commit_icon&quot;</span><span class="punctuation">:</span> <span class="string">&quot;\uF417&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;stash_icon&quot;</span><span class="punctuation">:</span> <span class="string">&quot;\uF692&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;state_separator&quot;</span><span class="punctuation">:</span> <span class="string">&quot; &quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;branch_icon&quot;</span><span class="punctuation">:</span> <span class="string">&quot;\uE0A0&quot;</span> <span class="comment">// Git 分支图标</span></span><br><span class="line">          <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="comment">// ... 其他段</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;path&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;style&quot;</span><span class="punctuation">:</span> <span class="string">&quot;powerline&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;foreground&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#ffffff&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;background&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#007ACC&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;template&quot;</span><span class="punctuation">:</span> <span class="string">&quot; &#123;&#123; .Path &#125;&#125; &quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;properties&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;style&quot;</span><span class="punctuation">:</span> <span class="string">&quot;folder&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;max_depth&quot;</span><span class="punctuation">:</span> <span class="number">2</span> <span class="comment">// 只显示最后两级路径</span></span><br><span class="line">          <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;time&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;style&quot;</span><span class="punctuation">:</span> <span class="string">&quot;powerline&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;foreground&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#ffffff&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;background&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#444444&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;template&quot;</span><span class="punctuation">:</span> <span class="string">&quot; &#123;&#123; .CurrentDate | date \&quot;15:04:05\&quot; &#125;&#125; &quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">]</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;prompt&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;alignment&quot;</span><span class="punctuation">:</span> <span class="string">&quot;right&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;segments&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="comment">// ... 右侧段</span></span><br><span class="line">      <span class="punctuation">]</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;final_space&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">  <span class="comment">// ... 其他主题配置</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>修改后，更新 <code>$PROFILE</code> 指向你的新主题文件，然后重启 PowerShell。</p>
<h3 id="4-3-工作原理示意图"><a href="#4-3-工作原理示意图" class="headerlink" title="4.3 工作原理示意图"></a>4.3 工作原理示意图</h3><div class="mermaid-wrap"><pre class="mermaid-src" data-config="{}" hidden>
    graph TD
    A[Shell 启动&#x2F;新行] --&gt; B[&quot;调用 $PROFILE 中的 &lt;br&gt;prompt 函数&quot;]
    B --&gt; C[&quot;执行 oh-my-posh init [shell]&lt;br&gt; --config [theme.json] | &lt;br&gt;Invoke-Expression&quot;]
    C --&gt; D[Oh-My-Posh Go 可执行程序]
    D -- 1. 读取主题 JSON --&gt; E[&quot;主题文件 (e.g., &lt;br&gt;jandedobz.omp.json)&quot;]
    D -- 2. 遍历主题中定义的&lt;br&gt;Segments --&gt; F[每个 Segment]
    F -- 3. 根据 Segment &lt;br&gt;类型收集数据 --&gt; G[系统API &#x2F; Git &#x2F; &lt;br&gt;Python环境等]
    D -- 4. 渲染每个 Segment &lt;br&gt;的文本和样式 --&gt; H[带颜色&#x2F;图标的 &lt;br&gt;Segment 字符串]
    D -- 5. 组合所有 Segment &lt;br&gt;生成完整提示符 --&gt; I[最终提示符字符串]
    I --&gt; J[输出到 Shell 显示]
    J --&gt; K[用户看到美化后的提示符]
  </pre></div>

<h2 id="五、优缺点与注意事项"><a href="#五、优缺点与注意事项" class="headerlink" title="五、优缺点与注意事项"></a>五、优缺点与注意事项</h2><h3 id="5-1-优点"><a href="#5-1-优点" class="headerlink" title="5.1 优点"></a>5.1 优点</h3><ol>
<li><strong>极强的视觉效果</strong>：极大地改善终端提示符的外观。</li>
<li><strong>信息量丰富</strong>：将大量有用的上下文信息直接集成到提示符中，减少手动查询的次数。</li>
<li><strong>高度可定制</strong>：通过修改 JSON 主题文件，可以实现几乎任何你想要的提示符样式和信息组合。</li>
<li><strong>跨 Shell &#x2F; 跨平台</strong>：一套工具，多端适用，保持工作环境一致性。</li>
<li><strong>易于分享</strong>：主题文件易于分享和管理。</li>
</ol>
<h3 id="5-2-缺点"><a href="#5-2-缺点" class="headerlink" title="5.2 缺点"></a>5.2 缺点</h3><ol>
<li><strong>Nerd Font 依赖</strong>：必须安装和配置 Nerd Font 才能正确显示所有图标，这对于初次使用者可能是一个小门槛。</li>
<li><strong>性能开销</strong>：由于每次显示提示符都需要 Oh My Posh 进程执行并收集信息，相比纯文本提示符，可能会有轻微的性能延迟。在较慢的机器或非常复杂的 Git 仓库中可能会更明显。</li>
<li><strong>配置复杂性</strong>：自定义主题需要理解 JSON 结构和 Oh My Posh 的各种配置选项，对于不熟悉 JSON 或命令行工具的用户可能需要学习曲线。</li>
<li><strong>可能信息过载</strong>：如果过度配置，提示符可能包含太多信息，反而分散注意力。</li>
</ol>
<h3 id="5-3-注意事项"><a href="#5-3-注意事项" class="headerlink" title="5.3 注意事项"></a>5.3 注意事项</h3><ul>
<li><strong>性能优化</strong>：如果遇到性能问题，可以尝试简化主题（减少 Segments 或复杂逻辑），或者确保你的终端模拟器和 shell 版本是最新的。</li>
<li><strong>PATH 冲突</strong>：确保 Oh My Posh 的可执行文件正确添加到 PATH 环境变量，且没有与其他同名工具冲突。</li>
<li><strong>缓存</strong>：某些段（如 Git）可能会缓存信息以提高性能。</li>
</ul>
<h2 id="六、总结"><a href="#六、总结" class="headerlink" title="六、总结"></a>六、总结</h2><p>Oh My Posh 是一个值得所有命令行用户尝试的工具，尤其是开发者和系统管理员。它通过提供高度定制化、信息丰富的终端提示符，不仅提升了终端的美观度，更重要的是，能够显著提高工作效率。虽然初始设置可能需要一些步骤（特别是 Nerd Font 的配置），但一旦配置完成，你将享受到一个更加智能、直观和愉悦的命令行体验。投入一点时间来探索和定制你的 Oh My Posh 主题，你会发现它物超所值。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://blog.tbf1211.xx.kg">TeaTang</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://blog.tbf1211.xx.kg/2214744a8ff3/">https://blog.tbf1211.xx.kg/2214744a8ff3/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://blog.tbf1211.xx.kg" target="_blank">1024 维度</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Linux/">Linux</a><a class="post-meta__tags" href="/tags/macOS/">macOS</a><a class="post-meta__tags" href="/tags/Shell/">Shell</a><a class="post-meta__tags" href="/tags/2025/">2025</a><a class="post-meta__tags" href="/tags/Windows/">Windows</a></div><div class="post-share"><div class="social-share" data-image="/img/cover/default_cover-10.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/723e73a7d735/" title="Go 语言 Array 与 Slice 深度解析：核心区别、实战指南与高效运用"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-27.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">Go 语言 Array 与 Slice 深度解析：核心区别、实战指南与高效运用</div></div><div class="info-2"><div class="info-item-1"> 在 Golang 中，数组 (Array) 和 切片 (Slice) 是两种常用的、用于存储同类型数据序列的数据结构。虽然它们在表面上看起来相似，但其底层实现、特性和用法却有着本质的区别。理解它们之间的差异对于编写高效且符合 Go 惯例的代码至关重要。  核心思想：数组是固定长度的值类型数据结构，而切片是可变长度的引用类型数据结构，它引用了一个底层数组。切片提供了更灵活、更强大的序列操作能力，是 Go 语言中推荐的动态序列类型。   在 Go 语言的世界里，数组 (Array) 和切片 (Slice) 是我们日常编程中接触最频繁的两种数据结构。它们虽然在表面上有些相似，但骨子里却有着根本性的区别，深刻理解这些差异是写出高效、可靠 Go 代码的关键。本文将带你深入剖析 Array 和 Slice 的核心原理、实战中的使用场景、常见陷阱，以及如何做出最明智的选择。 1. 基础定义：Array vs Slice1.1 数组 (Array)：编译时确定的固定长度序列数组是一种固定长度的、连续存储的相同类型元素序列。它的长度在声明时就已确定，并且是其类型的一部分。这意味着 [3]int ...</div></div></div></a><a class="pagination-related" href="/ffb632aa27a9/" title="Cloudflare Workers 代码编写详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-20.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">Cloudflare Workers 代码编写详解</div></div><div class="info-2"><div class="info-item-1"> Cloudflare Workers 是一项基于 V8 引擎的 Serverless 平台，允许开发者在 Cloudflare 的全球网络边缘部署和运行 JavaScript、TypeScript 或 WebAssembly 代码。它将计算逻辑尽可能地靠近用户，从而极大地减少延迟，提高应用响应速度。Workers 的特点是超低延迟、高并发、易于部署和扩展，是构建现代无服务器应用的强大工具。  核心思想：Cloudflare Workers 允许开发者在 Cloudflare 的全球边缘网络上运行轻量级、高性能的无服务器函数。核心开发模式是编写符合 Service Worker API 或 ES Modules 规范的 JavaScript&#x2F;TypeScript 代码，响应 HTTP 请求、与 KV 存储交互、执行自定义逻辑，并通过 Wrangler CLI 进行部署和管理。   一、Cloudflare Workers 基础概念 边缘计算 (Edge Computing)：Workers 代码运行在全球 275+ 个 Cloudflare 数据中心中的任何一个，靠近最...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/9ac45568d1c2/" title="WSL2详解：在Windows运行Linux的新标准"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-12.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-09-22</div><div class="info-item-2">WSL2详解：在Windows运行Linux的新标准</div></div><div class="info-2"><div class="info-item-1"> WSL 2 (适用于 Linux 的 Windows 子系统 2 - Windows Subsystem for Linux 2) 是微软推出的一项技术，它允许开发者在 Windows 操作系统上直接运行原生 Linux 环境，而无需双启动或传统虚拟机。WSL 2 相较于其前身 WSL 1，最大的变化是它运行在一个轻量级的虚拟机中，其中包含一个完整的 Linux 内核，这极大地提升了文件系统性能、系统调用兼容性和 Docker Desktop 的体验。  核心思想：在 Windows 内部无缝集成一个高性能、高度兼容的原生 Linux 环境，兼顾 Windows 的图形界面和 Linux 的命令行工具优势。   一、为什么需要 WSL 2？传统的 Linux 开发环境设置通常涉及以下几种方式：  双系统：需要重启电脑才能切换操作系统，且占用硬盘空间大。 虚拟机 (VirtualBox, VMWare)：性能开销大，与 Windows 系统的集成度不高，共享文件、剪贴板等操作相对繁琐。 WSL 1：提供了一个兼容层，将 Linux 系统调用转换为 Windows NT 内核调用。...</div></div></div></a><a class="pagination-related" href="/869da367eda0/" title="Bash (Bourne-Again SHell) 详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-18.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-07-05</div><div class="info-item-2">Bash (Bourne-Again SHell) 详解</div></div><div class="info-2"><div class="info-item-1"> Bash (Bourne-Again SHell) 是 Linux 和 macOS 等 Unix-like 操作系统中最流行、功能最强大的命令行解释器 (Command Line Interpreter, CLI) 和脚本语言。作为 GNU 项目的一部分，Bash 是 Bourne Shell (sh) 的增强版本，提供命令补全、历史记录、作业控制、更丰富的脚本编程特性等功能，极大地提高了用户在命令行环境下的工作效率。理解 Bash 是掌握 Unix-like 系统操作和自动化任务的关键。  核心思想：Bash 是连接用户与操作系统内核的桥梁，既是交互式命令行工具，也是强大的自动化脚本执行环境。   一、Bash 概览与核心概念1.1 什么是 Shell？Shell 是一个计算机程序，它提供一个用户界面，用于访问操作系统服务。它是用户与操作系统内核之间的接口。用户通过 Shell 输入命令，Shell 解释这些命令并将其传递给内核执行，然后将结果返回给用户。  命令行 Shell (CLI Shell)：通过文本界面接收命令，如 Bash、Zsh、Fish 等。 图形 Shel...</div></div></div></a><a class="pagination-related" href="/e410b6ed358c/" title="oh-my-zsh 与 Powerlevel10k：终端环境深度定制指南"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-15.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-07-08</div><div class="info-item-2">oh-my-zsh 与 Powerlevel10k：终端环境深度定制指南</div></div><div class="info-2"><div class="info-item-1"> 命令行界面 (CLI) 是开发者日常工作中不可或缺的工具。一个高效、美观且功能强大的终端环境，能够显著提升开发效率与体验。本文将详细介绍如何安装和配置 oh-my-zsh 这一流行的 Zsh 框架，并进一步集成 Powerlevel10k 主题，以构建一个极致优化的终端工作区。  核心思想：通过 Zsh 及其生态系统，将传统命令行终端从单一的命令执行器，提升为具备智能辅助、高度定制化和卓越视觉体验的开发利器。 oh-my-zsh 简化了 Zsh 的管理，而 Powerlevel10k 则在美观性和性能上将 Zsh 推向新的高度。    一、Zsh 简介与 oh-my-zsh 核心概念在深入安装之前，理解 Zsh 和 oh-my-zsh 的基本概念至关重要。 1.1 Zsh (Z Shell) 简介 定义：Zsh (Z Shell) 是一种功能强大的 Unix shell，它不仅兼容 Bash (Bourne-Again Shell) 的大部分功能，还在其基础上进行了诸多增强和扩展。 特性： 高级自动补全：提供更智能、更灵活的命令、参数、文件路径补全功能。 历史命令管理：支持跨会...</div></div></div></a><a class="pagination-related" href="/0d75739ade66/" title="OrbStack 详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-05.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-09-20</div><div class="info-item-2">OrbStack 详解</div></div><div class="info-2"><div class="info-item-1"> OrbStack 是一款专为 macOS 和 Linux 用户设计的高性能、轻量级工具，旨在成为 Docker Desktop 和 Colima&#x2F;Rancher Desktop 的替代品。它提供了一个闪电般快速的开发环境，用于运行 Docker 容器、Kubernetes 集群以及完整的 Linux 虚拟机，旨在提供原生级别的性能、更低的资源占用和更卓越的用户体验。  核心思想： OrbStack 专注于优化在 macOS 和 Linux 上运行容器和 Linux 环境的性能和资源效率，通过巧妙的虚拟化技术和精简设计，提供比传统解决方案更快启动、更少耗电、更流畅的体验。   一、为什么需要 OrbStack？传统的 Docker Desktop 或 Colima&#x2F;Rancher Desktop 在 macOS 上存在一些痛点：  性能问题： Docker Desktop 基于笨重的 HyperKit 或 QEMU 虚拟机，启动慢，文件 I&#x2F;O 性能差，尤其是在处理大量文件操作时（如 Node.js 或 PHP 项目的 node_modules）。 ...</div></div></div></a><a class="pagination-related" href="/293e3d7e94ae/" title="PowerShell 详解与使用技巧"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-04.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-08-20</div><div class="info-item-2">PowerShell 详解与使用技巧</div></div><div class="info-2"><div class="info-item-1"> PowerShell 是微软开发的一种命令行 shell 和脚本语言，专为系统管理和自动化设计。它基于 .NET Framework (Windows PowerShell) 或 .NET Core (PowerShell Core &#x2F; PowerShell 7+)，提供了比传统命令行工具（如 CMD 或 Bash）更强大、更统一且面向对象的管理体验。PowerShell 不仅限于 Windows 平台，现在已跨平台支持 Linux 和 macOS。  核心思想：“一切皆对象”。PowerShell 不像传统 shell 那样处理文本流，而是处理 .NET 对象。这意味着命令的输出可以直接作为另一个命令的输入，且数据类型和结构得以保留，极大地提升了脚本编写的效率和健壮性。   一、PowerShell 的起源与演进传统的 Windows 命令行工具（CMD）在自动化和复杂任务处理方面存在显著局限性，其主要问题是基于文本处理，使得数据解析和传递变得复杂且易出错。为了解决这些问题，微软开发了 PowerShell（最初名为 Monad），并于 2006 年发布。 1.1 ...</div></div></div></a><a class="pagination-related" href="/bbac3d35a168/" title="Zsh (Z Shell) 详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-02.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-07-07</div><div class="info-item-2">Zsh (Z Shell) 详解</div></div><div class="info-2"><div class="info-item-1"> Zsh (Z Shell) 是一款功能强大的 Unix Shell，与 Bash、Ksh、TCSH 等 Shell 类似，但它在功能和可定制性方面提供了显著的增强。Zsh 提供了更强大的命令补全、历史记录、参数展开、拼写纠正、主题和插件支持等功能，极大地提升了命令行用户的体验和效率。许多 macOS 和 Linux 用户选择 Zsh 作为他们的默认 Shell，特别是结合 Oh My Zsh 等框架使用时。  核心思想：Zsh 是 Bash 的一个强大且高度可定制的超集，旨在提供更智能、更高效的命令行交互体验。   一、Zsh 概览与核心优势1.1 什么是 Zsh？Zsh 是一个兼容 POSIX 标准的命令行解释器。它在 Bash 的基础上进行了大量的改进和扩展，提供了许多 Bash 没有的功能。它最初由 Paul Falstad 在 1990 年开发。 1.2 Zsh 相较于 Bash 的优势虽然 Bash 已经非常强大和普及，但 Zsh 在以下方面提供了显著优势：  更强大的自动补全 (Autocompletion)： 智能感知上下文，能够补全命令、文件路径、选项、变量、甚...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/loading.gif" data-lazy-src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">TeaTang</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">447</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">225</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">80</div></a></div><a id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/teatang"><i class="fab fa-github"></i><span>GitHub主页</span></a><div class="card-info-social-icons"><a class="social-icon" href="mailto:tea.tang1211@gmail.com" rel="external nofollow noreferrer" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title="RSS"><i class="fas fa-rss"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">网站更多功能即将上线，敬请期待！</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E4%B8%BA%E4%BB%80%E4%B9%88%E9%80%89%E6%8B%A9-Oh-My-Posh%EF%BC%9F"><span class="toc-text">一、为什么选择 Oh My Posh？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5"><span class="toc-text">二、核心概念</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E4%B8%BB%E9%A2%98-Themes"><span class="toc-text">2.1 主题 (Themes)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E6%AE%B5-Segments"><span class="toc-text">2.2 段 (Segments)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-Nerd-Fonts"><span class="toc-text">2.3 Nerd Fonts</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE-Oh-My-Posh"><span class="toc-text">三、安装与配置 Oh My Posh</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%89%8D%E6%8F%90%E6%9D%A1%E4%BB%B6"><span class="toc-text">3.1 前提条件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%AE%89%E8%A3%85-Nerd-Font"><span class="toc-text">3.2 安装 Nerd Font</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%AE%89%E8%A3%85-Oh-My-Posh"><span class="toc-text">3.3 安装 Oh My Posh</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-1-%E4%BD%BF%E7%94%A8-Winget-%E6%8E%A8%E8%8D%90"><span class="toc-text">3.3.1 使用 Winget (推荐)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-2-%E4%BD%BF%E7%94%A8-PowerShellGet-%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88"><span class="toc-text">3.3.2 使用 PowerShellGet (替代方案)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E9%85%8D%E7%BD%AE-PowerShell-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-PROFILE"><span class="toc-text">3.4 配置 PowerShell 配置文件 ($PROFILE)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E5%85%B6%E4%BB%96-Shell-%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE-%E7%AE%80%E8%BF%B0"><span class="toc-text">3.5 其他 Shell 的安装与配置 (简述)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E9%85%8D%E7%BD%AE%E4%B8%8E%E5%AE%9A%E5%88%B6%E4%B8%BB%E9%A2%98"><span class="toc-text">四、配置与定制主题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%E6%9F%A5%E6%89%BE%E4%B8%8E%E5%88%87%E6%8D%A2%E4%B8%BB%E9%A2%98"><span class="toc-text">4.1 查找与切换主题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-%E8%87%AA%E5%AE%9A%E4%B9%89%E4%B8%BB%E9%A2%98"><span class="toc-text">4.2 自定义主题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%E7%A4%BA%E6%84%8F%E5%9B%BE"><span class="toc-text">4.3 工作原理示意图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E4%BC%98%E7%BC%BA%E7%82%B9%E4%B8%8E%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-text">五、优缺点与注意事项</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E4%BC%98%E7%82%B9"><span class="toc-text">5.1 优点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-%E7%BC%BA%E7%82%B9"><span class="toc-text">5.2 缺点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-text">5.3 注意事项</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E6%80%BB%E7%BB%93"><span class="toc-text">六、总结</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/0c48c5fa5942/" title="CFFI (C Foreign Function Interface for Python) 详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-19.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CFFI (C Foreign Function Interface for Python) 详解"/></a><div class="content"><a class="title" href="/0c48c5fa5942/" title="CFFI (C Foreign Function Interface for Python) 详解">CFFI (C Foreign Function Interface for Python) 详解</a><time datetime="2025-12-23T22:24:00.000Z" title="发表于 2025-12-24 06:24:00">2025-12-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/03cebd3cc28a/" title="行为驱动开发 (BDD) 详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-28.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="行为驱动开发 (BDD) 详解"/></a><div class="content"><a class="title" href="/03cebd3cc28a/" title="行为驱动开发 (BDD) 详解">行为驱动开发 (BDD) 详解</a><time datetime="2025-12-21T22:24:00.000Z" title="发表于 2025-12-22 06:24:00">2025-12-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/7bb082434be0/" title="测试驱动开发 (TDD) 详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-11.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="测试驱动开发 (TDD) 详解"/></a><div class="content"><a class="title" href="/7bb082434be0/" title="测试驱动开发 (TDD) 详解">测试驱动开发 (TDD) 详解</a><time datetime="2025-12-19T22:24:00.000Z" title="发表于 2025-12-20 06:24:00">2025-12-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/24ffc0bedb41/" title="IPFS (InterPlanetary File System) 详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-32.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="IPFS (InterPlanetary File System) 详解"/></a><div class="content"><a class="title" href="/24ffc0bedb41/" title="IPFS (InterPlanetary File System) 详解">IPFS (InterPlanetary File System) 详解</a><time datetime="2025-12-16T22:24:00.000Z" title="发表于 2025-12-17 06:24:00">2025-12-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/974825c9c64f/" title="L7 负载均衡详解 (Layer 7 Load Balancing Explained)"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-13.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="L7 负载均衡详解 (Layer 7 Load Balancing Explained)"/></a><div class="content"><a class="title" href="/974825c9c64f/" title="L7 负载均衡详解 (Layer 7 Load Balancing Explained)">L7 负载均衡详解 (Layer 7 Load Balancing Explained)</a><time datetime="2025-12-14T22:24:00.000Z" title="发表于 2025-12-15 06:24:00">2025-12-15</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/img/cover/default_cover-10.jpg);"><div class="footer-flex"><div class="footer-flex-items"><div class="footer-flex-item"><div class="footer-flex-title">我的轨迹</div><div class="footer-flex-content"><a href="/archives/2023/" target="_blank" title="📌 2023">📌 2023</a><a href="/archives/2024/" target="_blank" title="❓ 2024">❓ 2024</a><a href="/archives/2025/" target="_blank" title="🚀 2025">🚀 2025</a></div></div></div><div class="footer-flex-items"><div class="footer-flex-item"><div class="footer-flex-title">维度</div><div class="footer-flex-content"><a href="/categories/" target="_blank" title="分类">分类</a><a href="/tags/" target="_blank" title="标签">标签</a><a href="/categories/" target="_blank" title="时间线">时间线</a></div></div></div><div class="footer-flex-items"><div class="footer-flex-item"><div class="footer-flex-title">其他</div><div class="footer-flex-content"><a href="/shuoshuo" target="_blank" title="说说">说说</a></div></div></div></div><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2023 - 2025 By TeaTang</span><span class="framework-info"><span class="footer-separator">|</span><span>框架 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.3"></script><script src="/js/main.js?v=5.5.3"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.1.7/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@19.1.3/dist/lazyload.iife.min.js"></script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const config = mermaidSrc.dataset.config ? JSON.parse(mermaidSrc.dataset.config) : {}
      if (!config.theme) {
        config.theme = theme
      }
      const mermaidThemeConfig = `%%{init: ${JSON.stringify(config)}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid@11.12.2/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>(() => {
  const applyThemeDefaultsConfig = theme => {
    if (theme === 'dark-mode') {
      Chart.defaults.color = "rgba(255, 255, 255, 0.8)"
      Chart.defaults.borderColor = "rgba(255, 255, 255, 0.2)"
      Chart.defaults.scale.ticks.backdropColor = "transparent"
    } else {
      Chart.defaults.color = "rgba(0, 0, 0, 0.8)"
      Chart.defaults.borderColor = "rgba(0, 0, 0, 0.1)"
      Chart.defaults.scale.ticks.backdropColor = "transparent"
    }
  }

  // Recursively traverse the config object and automatically apply theme-specific color schemes
  const applyThemeConfig = (obj, theme) => {
    if (typeof obj !== 'object' || obj === null) return

    Object.keys(obj).forEach(key => {
      const value = obj[key]
      // If the property is an object and has theme-specific options, apply them
      if (typeof value === 'object' && value !== null) {
        if (value[theme]) {
          obj[key] = value[theme] // Apply the value for the current theme
        } else {
          // Recursively process child objects
          applyThemeConfig(value, theme)
        }
      }
    })
  }

  const runChartJS = ele => {
    window.loadChartJS = true

    Array.from(ele).forEach((item, index) => {
      const chartSrc = item.firstElementChild
      const chartID = item.getAttribute('data-chartjs-id') || ('chartjs-' + index) // Use custom ID or default ID
      const width = item.getAttribute('data-width')
      const existingCanvas = document.getElementById(chartID)

      // If a canvas already exists, remove it to avoid rendering duplicates
      if (existingCanvas) {
          existingCanvas.parentNode.remove()
      }

      const chartDefinition = chartSrc.textContent
      const canvas = document.createElement('canvas')
      canvas.id = chartID

      const div = document.createElement('div')
      div.className = 'chartjs-wrap'

      if (width) {
        div.style.width = width
      }

      div.appendChild(canvas)
      chartSrc.insertAdjacentElement('afterend', div)

      const ctx = document.getElementById(chartID).getContext('2d')

      const config = JSON.parse(chartDefinition)

      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark-mode' : 'light-mode'

      // Set default styles (initial setup)
      applyThemeDefaultsConfig(theme)

      // Automatically traverse the config and apply dual-mode color schemes
      applyThemeConfig(config, theme)

      new Chart(ctx, config)
    })
  }

  const loadChartJS = () => {
    const chartJSEle = document.querySelectorAll('#article-container .chartjs-container')
    if (chartJSEle.length === 0) return

    window.loadChartJS ? runChartJS(chartJSEle) : btf.getScript('https://cdn.jsdelivr.net/npm/chart.js@4.5.1/dist/chart.umd.min.js').then(() => runChartJS(chartJSEle))
  }

  // Listen for theme change events
  btf.addGlobalFn('themeChange', loadChartJS, 'chartjs')
  btf.addGlobalFn('encrypt', loadChartJS, 'chartjs')

  window.pjax ? loadChartJS() : document.addEventListener('DOMContentLoaded', loadChartJS)
})()</script></div><script data-pjax src="/self/btf.js"></script><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/fireworks.min.js"></script><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="ture"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-fluttering-ribbon.min.js"></script><script id="canvas_nest" defer="defer" color="0,200,200" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js" defer="defer"></script><script>document.addEventListener('DOMContentLoaded', () => {
  const pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => {
      try {
        fn()
      } catch (err) {
        console.debug('Pjax callback failed:', err)
      }
    })
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      true
        ? pjax.loadUrl('/404.html')
        : window.location.href = e.request.responseURL
    }
  })
})</script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden="hidden"></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="local-search-input"><input placeholder="搜索文章" type="text"/></div><hr/><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none;"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=5.5.3"></script></div></div></body></html>