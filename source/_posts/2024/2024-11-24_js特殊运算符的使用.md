---
title: js特殊运算符的使用
date: 2024-11-24 06:24:00
tags: 
    - 2024
    - 技术相关
    - JavaScript
categories: JavaScript
---

{% note info %}
JavaScript中存在一些特殊的运算符，如 `||=`、`&&=`、`??=`、`?.`、`??`，它们在特定的场景下能够帮助开发者简化代码逻辑或增强代码的健壮性。
{% endnote %}

## |= 逻辑或赋值运算符 (Logical OR assignment)
--------------------
> 定义：||= 运算符用于指定变量在其值为假（Falsy）时才进行赋值操作。
> 语法：a ||= b，意为若 a 为假，则将 b 赋值给 a。
> 使用场景：当需要为一个变量赋值，但仅在其当前值为假时执行赋值操作。
```javascript
let x = 10;
let y = 0;
x ||= 5; // x 仍为 10，因为 10 被视为真值
y ||= 5; // y 现在为 5，因为 0 被视为假值
```

## &&= 逻辑与赋值运算符 (Logical AND assignment)
--------------------
> 定义： &&= 运算符用于指定变量在其值为真（Truthy）时才进行赋值操作。
> 语法： a &&= b，意为若 a 为真，则将 b 赋值给 a。
> 使用场景： 在需要确保变量已经被定义且为真时进行赋值操作。
```javascript
let x = 10;
let y;
x &&= 5; // x 仍为 10，因为 10 被视为真值
y &&= 5; // y 仍为 undefined，因为 y 未被定义
```

## ??= 逻辑空赋值运算符 (Nullish coalescing assignment)
-----------------------
> 定义：??= 运算符用于指定变量在其值为 null 或 undefined 时才进行赋值操作。
> 语法：a ??= b，意为若 a 为 null 或 undefined，则将 b 赋值给 a。
> 使用场景：在确保一个变量不存在或其值为 null 时进行赋值操作。
```javascript   
let x = null;
let y = 10;
x ??= 5; // x 现在为 5，因为 x 为 null
y ??= 5; // y 仍为 10，因为 y 不为 null
```

## ?. 可选链运算符 (Optional chaining)
--------------------
> 定义：?. 运算符用于在对象链深处避免出现异常，当对象链中的某个属性为 null 或 undefined 时，避免出现错误。
> 语法：obj?.prop，若 obj 存在且有 prop 属性，则返回 prop 属性值，否则返回 undefined。
> 使用场景：在访问深层嵌套的对象属性时，避免因为中间某个属性为 null 或 undefined 导
```javascript
let user = {
  name: "John",
  address: {
    city: "New York",
  },
};

console.log(user.address?.city); // 输出 "New York"
console.log(user.address?.zipcode); // 输出 undefined
console.log(user.phone?.number); // 输出 undefined
```

## ?? 空值合并运算符 (Nullish coalescing operator)
-----------------------
> 定义：?? 运算符用于在变量为 null 或 undefined 时提供默认值。
> 语法：a ?? b，若 a 为 null 或 undefined，则返回 b，否则返回 a。
> 使用场景：在需要提供默认值的场景下，确保变量不为 null 或 undefined。
```javascript
let x = null;
let y = 10;
console.log(x ?? y); // 输出 10
console.log(y ?? x); // 输出 10
console.log(x ?? 5); // 输出 5
console.log(y ?? 5); // 输出 10
```

## 总结
---------------------
{% note success %}
在实际的开发中，合理使用这些特殊运算符能够提高代码的可读性和健壮性，同时简化复杂的逻辑判断。但是，过度使用这些运算符也会导致代码的可读性降低，因此在使用时需要权衡利弊。
{% endnote %}
