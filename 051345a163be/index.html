<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>主流平台常用包管理器详解 | 1024 维度</title><meta name="author" content="TeaTang"><meta name="copyright" content="TeaTang"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="包管理器 (Package Manager) 是一种自动化工具，用于简化软件的安装、升级、配置和卸载过程。它维护一个软件包数据库，跟踪已安装的软件包及其依赖关系，确保系统上的所有软件都处于一致和可用的状态。无论是操作系统层面还是编程语言层面，包管理器都是现代软件开发和系统管理不可或缺的工具。  核心思想： 包管理器旨在自动化依赖管理，提供中心化的软件包仓库，确保软件的完整性和可重复性，从而提高开">
<meta property="og:type" content="article">
<meta property="og:title" content="主流平台常用包管理器详解">
<meta property="og:url" content="https://blog.tbf1211.xx.kg/051345a163be/index.html">
<meta property="og:site_name" content="1024 维度">
<meta property="og:description" content="包管理器 (Package Manager) 是一种自动化工具，用于简化软件的安装、升级、配置和卸载过程。它维护一个软件包数据库，跟踪已安装的软件包及其依赖关系，确保系统上的所有软件都处于一致和可用的状态。无论是操作系统层面还是编程语言层面，包管理器都是现代软件开发和系统管理不可或缺的工具。  核心思想： 包管理器旨在自动化依赖管理，提供中心化的软件包仓库，确保软件的完整性和可重复性，从而提高开">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blog.tbf1211.xx.kg/img/cover/default_cover-16.jpg">
<meta property="article:published_time" content="2023-09-12T22:24:00.000Z">
<meta property="article:modified_time" content="2026-01-31T15:14:58.469Z">
<meta property="article:author" content="TeaTang">
<meta property="article:tag" content="2023">
<meta property="article:tag" content="包管理">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog.tbf1211.xx.kg/img/cover/default_cover-16.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "主流平台常用包管理器详解",
  "url": "https://blog.tbf1211.xx.kg/051345a163be/",
  "image": "https://blog.tbf1211.xx.kg/img/cover/default_cover-16.jpg",
  "datePublished": "2023-09-12T22:24:00.000Z",
  "dateModified": "2026-01-31T15:14:58.469Z",
  "author": [
    {
      "@type": "Person",
      "name": "TeaTang",
      "url": "https://blog.tbf1211.xx.kg"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon-1.ico"><link rel="canonical" href="https://blog.tbf1211.xx.kg/051345a163be/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><meta name="google-site-verification" content="NdIUXAOVyGnnBhcrip0ksCawbdAzT0hlBZDE9u4jx6k"/><meta name="msvalidate.01" content="567E47D75E8DCF1282B9623AD914701E"/><meta name="baidu-site-verification" content="code-pE5rnuxcfD"/><link rel="stylesheet" href="/css/index.css?v=5.5.4"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.1.9/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          const mediaQueryDark = window.matchMedia('(prefers-color-scheme: dark)')
          const mediaQueryLight = window.matchMedia('(prefers-color-scheme: light)')

          if (theme === undefined) {
            if (mediaQueryLight.matches) activateLightMode()
            else if (mediaQueryDark.matches) activateDarkMode()
            else {
              const hour = new Date().getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            mediaQueryDark.addEventListener('change', () => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else {
            theme === 'light' ? activateLightMode() : activateDarkMode()
          }
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":false,"top_n_per_article":1,"unescape":false,"pagination":{"enable":true,"hitsPerPage":8},"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":400,"highlightFullpage":true,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":150,"languages":{"author":"作者: TeaTang","link":"链接: ","source":"来源: 1024 维度","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.13.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '主流平台常用包管理器详解',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="preconnect" href="https://jsd.012700.xyz"><link href="/self/btf.css" rel="stylesheet"><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="1024 维度" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/loading.gif" data-lazy-src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">536</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">229</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">84</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 我的轨迹</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/2023/"><i class="fa-fw fa-solid fa-bug"></i><span> 2023</span></a></li><li><a class="site-page child" href="/archives/2024/"><i class="fa-fw fa-solid fa-code"></i><span> 2024</span></a></li><li><a class="site-page child" href="/archives/2025/"><i class="fa-fw fa-solid fa-network-wired"></i><span> 2025</span></a></li><li><a class="site-page child" href="/archives/2026/"><i class="fa-fw fa-solid fa-code-branch"></i><span> 2026</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa-solid fa-calendar-days"></i><span> 时间线</span></a></div><div class="menus_item"><a class="site-page" href="/shuoshuo"><i class="fa-fw fas fa-comment"></i><span> 说说</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image: url(/img/cover/default_cover-16.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">1024 维度</span></a><a class="nav-page-title" href="/"><span class="site-name">主流平台常用包管理器详解</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 我的轨迹</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/2023/"><i class="fa-fw fa-solid fa-bug"></i><span> 2023</span></a></li><li><a class="site-page child" href="/archives/2024/"><i class="fa-fw fa-solid fa-code"></i><span> 2024</span></a></li><li><a class="site-page child" href="/archives/2025/"><i class="fa-fw fa-solid fa-network-wired"></i><span> 2025</span></a></li><li><a class="site-page child" href="/archives/2026/"><i class="fa-fw fa-solid fa-code-branch"></i><span> 2026</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa-solid fa-calendar-days"></i><span> 时间线</span></a></div><div class="menus_item"><a class="site-page" href="/shuoshuo"><i class="fa-fw fas fa-comment"></i><span> 说说</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">主流平台常用包管理器详解</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon far fa-calendar-alt"></i><span class="post-meta-label">发表于</span><time datetime="2023-09-12T22:24:00.000Z" title="发表于 2023-09-13 06:24:00">2023-09-13</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%BC%96%E7%A8%8B%E6%8A%80%E5%B7%A7/">编程技巧</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">2.5k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>9分钟</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><blockquote>
<p><strong>包管理器 (Package Manager)</strong> 是一种自动化工具，用于简化软件的安装、升级、配置和卸载过程。它维护一个软件包数据库，跟踪已安装的软件包及其依赖关系，确保系统上的所有软件都处于一致和可用的状态。无论是操作系统层面还是编程语言层面，包管理器都是现代软件开发和系统管理不可或缺的工具。</p>
</blockquote>
<div class="note info flat"><p><strong>核心思想：</strong> 包管理器旨在<strong>自动化依赖管理</strong>，提供<strong>中心化的软件包仓库</strong>，确保<strong>软件的完整性和可重复性</strong>，从而提高开发效率和系统稳定性。</p>
</div>
<hr>
<h2 id="一、操作系统级包管理器"><a href="#一、操作系统级包管理器" class="headerlink" title="一、操作系统级包管理器"></a>一、操作系统级包管理器</h2><p>操作系统级包管理器负责管理操作系统及其核心组件以及用户应用程序。它们通常与操作系统的发行版紧密集成。</p>
<h3 id="1-1-Linux：APT-Debian-Ubuntu"><a href="#1-1-Linux：APT-Debian-Ubuntu" class="headerlink" title="1.1 Linux：APT (Debian&#x2F;Ubuntu)"></a>1.1 Linux：APT (Debian&#x2F;Ubuntu)</h3><ul>
<li><strong>全称</strong>：Advanced Package Tool</li>
<li><strong>适用系统</strong>：Debian、Ubuntu 及其衍生版。</li>
<li><strong>特点</strong>：<ul>
<li><strong><code>.deb</code> 格式</strong>：使用 <code>.deb</code> 软件包文件。</li>
<li><strong>依赖解决</strong>：强大的依赖管理能力，会自动下载并安装所有必需的依赖项。</li>
<li><strong>仓库</strong>：通过 <code>sources.list</code> 文件配置软件源。</li>
<li><strong>命令行工具</strong>：<code>apt</code> (新一代命令，推荐使用)、<code>apt-get</code> (老一代，但功能依然强大)、<code>apt-cache</code>。</li>
</ul>
</li>
<li><strong>常用命令</strong>：<ul>
<li><code>sudo apt update</code>：更新可用软件包列表。</li>
<li><code>sudo apt upgrade</code>：升级所有已安装的软件包。</li>
<li><code>sudo apt install &lt;package_name&gt;</code>：安装软件包。</li>
<li><code>sudo apt remove &lt;package_name&gt;</code>：卸载软件包（保留配置文件）。</li>
<li><code>sudo apt purge &lt;package_name&gt;</code>：完全卸载软件包（包括配置文件）。</li>
<li><code>apt search &lt;keyword&gt;</code>：搜索软件包。</li>
<li><code>apt show &lt;package_name&gt;</code>：显示软件包详细信息。</li>
</ul>
</li>
</ul>
<h3 id="1-2-Linux：Yum-DNF-RHEL-CentOS-Fedora"><a href="#1-2-Linux：Yum-DNF-RHEL-CentOS-Fedora" class="headerlink" title="1.2 Linux：Yum &#x2F; DNF (RHEL&#x2F;CentOS&#x2F;Fedora)"></a>1.2 Linux：Yum &#x2F; DNF (RHEL&#x2F;CentOS&#x2F;Fedora)</h3><ul>
<li><strong>全称</strong>：<ul>
<li>Yum (Yellowdog Updater, Modified)</li>
<li>DNF (Dandified Yum)</li>
</ul>
</li>
<li><strong>适用系统</strong>：Red Hat Enterprise Linux (RHEL)、CentOS、Fedora、openSUSE (部分)、Oracle Linux。</li>
<li><strong>特点</strong>：<ul>
<li><strong><code>.rpm</code> 格式</strong>：使用 <code>.rpm</code> 软件包文件。</li>
<li><strong>Yum</strong>：RHEL&#x2F;CentOS 6&#x2F;7 的标准包管理器。</li>
<li><strong>DNF</strong>：Fedora 22+ 和 RHEL&#x2F;CentOS 8+ 的默认包管理器，旨在改进 Yum 的性能、内存使用和依赖解析算法。</li>
<li><strong>仓库</strong>：通过 <code>.repo</code> 文件配置软件源。</li>
</ul>
</li>
<li><strong>常用命令 (Yum)</strong>：<ul>
<li><code>sudo yum update</code>：更新所有已安装的软件包。</li>
<li><code>sudo yum install &lt;package_name&gt;</code>：安装软件包。</li>
<li><code>sudo yum remove &lt;package_name&gt;</code>：卸载软件包。</li>
<li><code>sudo yum search &lt;keyword&gt;</code>：搜索软件包。</li>
</ul>
</li>
<li><strong>常用命令 (DNF)</strong>：DNF 的命令与 Yum 非常相似，但通常更推荐使用 DNF。<ul>
<li><code>sudo dnf update</code>：更新所有已安装的软件包。</li>
<li><code>sudo dnf install &lt;package_name&gt;</code>：安装软件包。</li>
<li><code>sudo dnf remove &lt;package_name&gt;</code>：卸载软件包。</li>
<li><code>sudo dnf search &lt;keyword&gt;</code>：搜索软件包。</li>
</ul>
</li>
</ul>
<h3 id="1-3-macOS：Homebrew"><a href="#1-3-macOS：Homebrew" class="headerlink" title="1.3 macOS：Homebrew"></a>1.3 macOS：Homebrew</h3><ul>
<li><strong>全称</strong>：通常直接称为 Homebrew。</li>
<li><strong>适用系统</strong>：macOS (也支持 Linux，称为 Linuxbrew 或 Homebrew on Linux)。</li>
<li><strong>特点</strong>：<ul>
<li><strong>“缺失的 macOS 包管理器”</strong>：非 Apple 官方，但被广泛接受和使用。</li>
<li><strong>Cask</strong>：除了命令行工具 (formulae)，还支持安装 GUI 应用程序 (casks)，如 Chrome、VS Code。</li>
<li><strong>Git 管理</strong>：所有软件包定义 (formulae) 都存储在 Git 仓库中，易于贡献和更新。</li>
<li><strong>安装目录</strong>：默认安装在 <code>/usr/local</code> (Intel) 或 <code>/opt/homebrew</code> (Apple Silicon)。</li>
</ul>
</li>
<li><strong>常用命令</strong>：<ul>
<li><code>brew update</code>：更新 Homebrew 及其软件包定义。</li>
<li><code>brew upgrade</code>：升级所有已安装的软件包。</li>
<li><code>brew install &lt;package_name&gt;</code>：安装软件包。</li>
<li><code>brew uninstall &lt;package_name&gt;</code>：卸载软件包。</li>
<li><code>brew search &lt;keyword&gt;</code>：搜索软件包。</li>
<li><code>brew doctor</code>：检查 Homebrew 环境是否存在问题。</li>
<li><code>brew install --cask &lt;app_name&gt;</code>：安装 GUI 应用程序。</li>
</ul>
</li>
</ul>
<h3 id="1-4-Windows：Chocolatey"><a href="#1-4-Windows：Chocolatey" class="headerlink" title="1.4 Windows：Chocolatey"></a>1.4 Windows：Chocolatey</h3><ul>
<li><strong>全称</strong>：通常直接称为 Chocolatey。</li>
<li><strong>适用系统</strong>：Windows。</li>
<li><strong>特点</strong>：<ul>
<li><strong>命令行安装</strong>：将 Linux 风格的命令行包管理带到 Windows。</li>
<li><strong><code>NuGet</code> 基础</strong>：基于 <code>.NET</code> 和 <code>NuGet</code> 包管理。</li>
<li><strong>安装目录</strong>：通常安装到 <code>C:\ProgramData\chocolatey</code>。</li>
<li><strong>高度集成</strong>：可以安装 <code>.exe</code>、<code>.msi</code>、zip 包等多种形式的软件。</li>
</ul>
</li>
<li><strong>常用命令</strong>：<ul>
<li><code>choco install &lt;package_name&gt;</code>：安装软件包。</li>
<li><code>choco upgrade &lt;package_name&gt;</code>：升级软件包。</li>
<li><code>choco uninstall &lt;package_name&gt;</code>：卸载软件包。</li>
<li><code>choco search &lt;keyword&gt;</code>：搜索软件包。</li>
<li><code>choco outdated</code>：列出需要升级的软件包。</li>
</ul>
</li>
</ul>
<h3 id="1-5-Windows：Winget-Windows-Package-Manager"><a href="#1-5-Windows：Winget-Windows-Package-Manager" class="headerlink" title="1.5 Windows：Winget (Windows Package Manager)"></a>1.5 Windows：Winget (Windows Package Manager)</h3><ul>
<li><strong>全称</strong>：Windows Package Manager</li>
<li><strong>适用系统</strong>：Windows 10 (1709+) 和 Windows 11。</li>
<li><strong>特点</strong>：<ul>
<li><strong>微软官方</strong>：由微软开发和维护。</li>
<li><strong>CLI 工具</strong>：提供 <code>winget</code> 命令行接口。</li>
<li><strong>Manifest 文件</strong>：软件包信息通过 YAML 格式的 manifest 文件定义。</li>
<li><strong>集成 Store</strong>：未来可能与 Microsoft Store 深度集成。</li>
</ul>
</li>
<li><strong>常用命令</strong>：<ul>
<li><code>winget install &lt;package_name&gt;</code>：安装软件包。</li>
<li><code>winget upgrade &lt;package_name&gt;</code>：升级软件包。</li>
<li><code>winget uninstall &lt;package_name&gt;</code>：卸载软件包。</li>
<li><code>winget search &lt;keyword&gt;</code>：搜索软件包。</li>
<li><code>winget list</code>：列出已安装的软件包。</li>
</ul>
</li>
</ul>
<h2 id="二、编程语言级包管理器"><a href="#二、编程语言级包管理器" class="headerlink" title="二、编程语言级包管理器"></a>二、编程语言级包管理器</h2><p>编程语言级包管理器专注于管理特定编程语言的库、框架和模块。它们解决了在项目中共享和重用代码的挑战。</p>
<h3 id="2-1-JavaScript-Node-js：npm-Yarn-pnpm"><a href="#2-1-JavaScript-Node-js：npm-Yarn-pnpm" class="headerlink" title="2.1 JavaScript &#x2F; Node.js：npm &#x2F; Yarn &#x2F; pnpm"></a>2.1 JavaScript &#x2F; Node.js：npm &#x2F; Yarn &#x2F; pnpm</h3><ul>
<li><strong>全称</strong>：<ul>
<li>npm (Node Package Manager)</li>
<li>Yarn (Yet Another Resource Negotiator)</li>
<li>pnpm (Performant npm)</li>
</ul>
</li>
<li><strong>适用语言</strong>：JavaScript &#x2F; TypeScript (Node.js 生态系统)。</li>
<li><strong>特点</strong>：<ul>
<li><strong><code>package.json</code></strong>：项目配置文件，定义了项目的元数据和依赖。</li>
<li><strong><code>node_modules</code></strong>：默认安装目录，存放所有依赖。</li>
<li><strong>npm</strong>：Node.js 的默认包管理器，拥有最大的生态系统。</li>
<li><strong>Yarn</strong>：Facebook 开发，旨在解决 npm v3 之前的一些性能和安全问题，引入了 <code>yarn.lock</code> 保证依赖一致性。</li>
<li><strong>pnpm</strong>：通过<strong>内容可寻址存储</strong> (Content-Addressable Store) 和<strong>符号链接</strong> (symlinks) 优化了磁盘空间占用和安装速度，解决了 <code>node_modules</code> 深度嵌套的问题。</li>
</ul>
</li>
<li><strong>常用命令 (通用)</strong>：<ul>
<li><code>npm install</code> &#x2F; <code>yarn install</code> &#x2F; <code>pnpm install</code>：安装项目所有依赖。</li>
<li><code>npm install &lt;package&gt;</code> &#x2F; <code>yarn add &lt;package&gt;</code> &#x2F; <code>pnpm add &lt;package&gt;</code>：安装新包。</li>
<li><code>npm uninstall &lt;package&gt;</code> &#x2F; <code>yarn remove &lt;package&gt;</code> &#x2F; <code>pnpm remove &lt;package&gt;</code>：卸载包。</li>
<li><code>npm update</code> &#x2F; <code>yarn upgrade</code> &#x2F; <code>pnpm update</code>：更新包。</li>
<li><code>npm run &lt;script&gt;</code> &#x2F; <code>yarn &lt;script&gt;</code> &#x2F; <code>pnpm &lt;script&gt;</code>：运行 <code>package.json</code> 中定义的脚本。</li>
</ul>
</li>
</ul>
<h3 id="2-2-Python：pip-Poetry-pipenv"><a href="#2-2-Python：pip-Poetry-pipenv" class="headerlink" title="2.2 Python：pip &#x2F; Poetry &#x2F; pipenv"></a>2.2 Python：pip &#x2F; Poetry &#x2F; pipenv</h3><ul>
<li><strong>全称</strong>：<ul>
<li>pip (Pip Installs Packages)</li>
<li>Poetry</li>
<li>pipenv</li>
</ul>
</li>
<li><strong>适用语言</strong>：Python。</li>
<li><strong>特点</strong>：<ul>
<li><strong><code>PyPI</code> (Python Package Index)</strong>：官方的 Python 包仓库。</li>
<li><strong><code>requirements.txt</code></strong>：通过 <code>pip freeze &gt; requirements.txt</code> 生成，用于记录项目依赖。</li>
<li><strong>虚拟环境 (Virtual Environments)</strong>：Python 最佳实践，通过 <code>venv</code> 或 <code>virtualenv</code> 创建隔离的开发环境，避免依赖冲突。</li>
<li><strong>pip</strong>：Python 的标准包安装工具，简单易用。</li>
<li><strong>pipenv</strong>：旨在结合 pip 和 virtualenv 的功能，提供更高级的依赖管理和虚拟环境集成。使用 <code>Pipfile</code> 和 <code>Pipfile.lock</code>。</li>
<li><strong>Poetry</strong>：提供完整的依赖管理和项目打包解决方案，使用 <code>pyproject.toml</code>。</li>
</ul>
</li>
<li><strong>常用命令 (pip)</strong>：<ul>
<li><code>pip install &lt;package_name&gt;</code>：安装包。</li>
<li><code>pip install -r requirements.txt</code>：安装 <code>requirements.txt</code> 中的所有包。</li>
<li><code>pip uninstall &lt;package_name&gt;</code>：卸载包。</li>
<li><code>pip list</code>：列出已安装的包。</li>
</ul>
</li>
<li><strong>常用命令 (Poetry)</strong>：<ul>
<li><code>poetry install</code>：安装项目所有依赖。</li>
<li><code>poetry add &lt;package&gt;</code>：安装新包。</li>
<li><code>poetry remove &lt;package&gt;</code>：卸载包。</li>
<li><code>poetry update</code>：更新包。</li>
<li><code>poetry run &lt;command&gt;</code>：在虚拟环境中运行命令。</li>
</ul>
</li>
</ul>
<h3 id="2-3-Go：Go-Modules"><a href="#2-3-Go：Go-Modules" class="headerlink" title="2.3 Go：Go Modules"></a>2.3 Go：Go Modules</h3><ul>
<li><strong>全称</strong>：Go Modules。</li>
<li><strong>适用语言</strong>：Go。</li>
<li><strong>特点</strong>：<ul>
<li><strong>官方依赖管理方案</strong>：Go 1.11+ 版本引入，解决了之前 <code>GOPATH</code> 模式的痛点。</li>
<li><strong><code>go.mod</code> 文件</strong>：记录模块路径、Go 版本和直接依赖。</li>
<li><strong><code>go.sum</code> 文件</strong>：记录所有依赖的校验和，保证依赖的完整性和安全性。</li>
<li><strong>版本语义化 (Semantic Versioning)</strong>：通过模块路径和版本号管理依赖。</li>
<li><strong>去中心化</strong>：不依赖单个中央仓库，可以直接从 Git 仓库拉取模块。</li>
</ul>
</li>
<li><strong>常用命令</strong>：<ul>
<li><code>go mod init &lt;module_path&gt;</code>：初始化新模块。</li>
<li><code>go mod tidy</code>：清理和同步 <code>go.mod</code> 和 <code>go.sum</code> 文件，添加缺失的依赖，移除不再使用的依赖。</li>
<li><code>go get &lt;package_path&gt;</code>：下载并安装包，并更新 <code>go.mod</code>。</li>
<li><code>go mod download</code>：下载模块依赖。</li>
<li><code>go mod graph</code>：打印模块依赖图。</li>
<li><code>go mod vendor</code>：将依赖复制到 <code>vendor</code> 目录（可选）。</li>
</ul>
</li>
</ul>
<h3 id="2-4-Java：Maven-Gradle"><a href="#2-4-Java：Maven-Gradle" class="headerlink" title="2.4 Java：Maven &#x2F; Gradle"></a>2.4 Java：Maven &#x2F; Gradle</h3><ul>
<li><strong>全称</strong>：<ul>
<li>Maven (Apache Maven)</li>
<li>Gradle</li>
</ul>
</li>
<li><strong>适用语言</strong>：Java (也支持 Groovy, Scala, Kotlin 等 JVM 语言)。</li>
<li><strong>特点</strong>：<ul>
<li><strong><code>Maven Central</code></strong>：最大的 Java 生态系统仓库。</li>
<li><strong>Maven</strong>：<ul>
<li><strong><code>pom.xml</code></strong>：基于 XML 的项目对象模型文件，定义了项目的结构、依赖、插件等。</li>
<li><strong>约定优于配置</strong>：提供了标准的项目结构和生命周期。</li>
<li><strong>强大的插件生态</strong>：支持各种构建任务。</li>
</ul>
</li>
<li><strong>Gradle</strong>：<ul>
<li><strong><code>build.gradle</code></strong>：基于 Groovy 或 Kotlin DSL (Domain Specific Language) 配置构建脚本。</li>
<li><strong>灵活性</strong>：比 Maven 更灵活，可以编写复杂的自定义构建逻辑。</li>
<li><strong>性能</strong>：利用增量构建和任务缓存提高构建速度。</li>
</ul>
</li>
</ul>
</li>
<li><strong>常用命令 (Maven)</strong>：<ul>
<li><code>mvn clean</code>：清理项目。</li>
<li><code>mvn compile</code>：编译源代码。</li>
<li><code>mvn package</code>：打包项目（如生成 <code>.jar</code> 或 <code>.war</code>）。</li>
<li><code>mvn install</code>：将包安装到本地 Maven 仓库。</li>
<li><code>mvn deploy</code>：将包部署到远程仓库。</li>
<li><code>mvn test</code>：运行测试。</li>
</ul>
</li>
<li><strong>常用命令 (Gradle)</strong>：<ul>
<li><code>gradle clean</code>：清理项目。</li>
<li><code>gradle build</code>：构建项目。</li>
<li><code>gradle run</code>：运行项目。</li>
<li><code>gradle test</code>：运行测试。</li>
</ul>
</li>
</ul>
<h3 id="2-5-Rust：Cargo"><a href="#2-5-Rust：Cargo" class="headerlink" title="2.5 Rust：Cargo"></a>2.5 Rust：Cargo</h3><ul>
<li><strong>全称</strong>：Cargo。</li>
<li><strong>适用语言</strong>：Rust。</li>
<li><strong>特点</strong>：<ul>
<li><strong>Rust 的官方包管理器和构建系统</strong>：集成了依赖管理、代码编译、测试和文档生成。</li>
<li><strong><code>crates.io</code></strong>：Rust 社区的中央包仓库。</li>
<li><strong><code>Cargo.toml</code></strong>：TOML 格式的项目配置文件，定义了项目的元数据和依赖。</li>
<li><strong><code>Cargo.lock</code></strong>：记录了所有依赖的具体版本，确保构建的可复现性。</li>
</ul>
</li>
<li><strong>常用命令</strong>：<ul>
<li><code>cargo new &lt;project_name&gt;</code>：创建新项目。</li>
<li><code>cargo build</code>：编译项目。</li>
<li><code>cargo run</code>：编译并运行项目。</li>
<li><code>cargo test</code>：运行测试。</li>
<li><code>cargo add &lt;crate_name&gt;</code>：添加依赖。</li>
<li><code>cargo update</code>：更新依赖。</li>
<li><code>cargo publish</code>：发布包到 <code>crates.io</code>。</li>
</ul>
</li>
</ul>
<h2 id="三、总结"><a href="#三、总结" class="headerlink" title="三、总结"></a>三、总结</h2><p>包管理器是现代软件开发不可或缺的基石。它们解决了复杂的依赖管理问题，提供了一个中心化的软件分发和更新机制，极大地提高了开发效率和系统的稳定性。无论是管理操作系统的底层组件，还是处理编程语言的第三方库，理解并熟练使用这些包管理器都是每个开发者和系统管理员的基本功。选择合适的包管理器，并遵循其最佳实践，能够让我们的开发工作更加顺畅和高效。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://blog.tbf1211.xx.kg">TeaTang</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://blog.tbf1211.xx.kg/051345a163be/">https://blog.tbf1211.xx.kg/051345a163be/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://blog.tbf1211.xx.kg" target="_blank">1024 维度</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/2023/">2023</a><a class="post-meta__tags" href="/tags/%E5%8C%85%E7%AE%A1%E7%90%86/">包管理</a></div><div class="post-share"><div class="social-share" data-image="/img/cover/default_cover-16.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/7279f860dea8/" title="Redis RDB与AOF深度解析"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-30.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">Redis RDB与AOF深度解析</div></div><div class="info-2"><div class="info-item-1"> Redis 持久化 (Persistence) 是指将内存中的数据保存到磁盘，以防止在 Redis 服务器宕机时数据丢失。Redis 提供了两种主要的持久化方式：RDB (Redis Database) 快照和 AOF (Append Only File) 日志。理解这两种持久化机制的工作原理、优缺点以及如何选择和结合使用，对于确保 Redis 数据的可靠性和可用性至关重要。  核心思想：Redis 持久化的目标是保障数据在意外停机后的恢复能力。RDB 侧重于某一时刻数据状态的完整性，而 AOF 侧重于每一操作的完整记录。    一、Redis 持久化的必要性Redis 作为一个高性能的内存数据库，其所有数据都存储在内存中。如果 Redis 服务器发生意外停机（如进程崩溃、服务器断电等），而没有进行持久化，那么内存中的所有数据都将丢失。这将导致严重的业务数据损失和可用性问题。 持久化的作用：  数据恢复：当 Redis 服务器重启时，可以通过加载磁盘上的持久化文件来恢复到最近一次保存的数据状态。 避免数据丢失：最大程度地减少因非预期故障导致的数据损失。 数据安全保障：为 Red...</div></div></div></a><a class="pagination-related" href="/2b166435d59a/" title="函数式编程详解：从概念到实践"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-29.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">函数式编程详解：从概念到实践</div></div><div class="info-2"><div class="info-item-1"> 函数式编程 (Functional Programming, FP) 是一种编程范式，它将计算视为函数评估，避免了状态改变和可变数据。它强调使用纯函数、不可变数据和表达式而不是语句来构建程序。近年来，随着多核处理器和分布式系统的普及，函数式编程因其固有的并发优势和代码的易于测试、推理的特点，在许多领域（如大数据、并行计算、前端）重新获得了广泛关注。  核心思想：程序即数学函数，数据不可变，无副作用，关注“做什么”而非“怎么做”。   一、编程范式回顾在深入函数式编程之前，我们先简单回顾一下几种常见的编程范式：  命令式编程 (Imperative Programming)：关注于“如何做”，通过改变程序状态的指令序列来表达计算。 过程式编程 (Procedural Programming)：将程序组织成一系列过程（函数），强调步骤和顺序。 面向对象编程 (Object-Oriented Programming, OOP)：将数据和操作封装成对象，通过对象之间的交互来完成任务，强调状态和行为。   声明式编程 (Declarative Programming)：关注于“做什么”，...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/fc3deef3ef61/" title="构建工具 Gradle 详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-24.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-06-11</div><div class="info-item-2">构建工具 Gradle 详解</div></div><div class="info-2"><div class="info-item-1"> Gradle 是一个基于 Apache Ant 和 Apache Maven 概念的项目自动化构建工具。它使用 Groovy 语言（或 Kotlin DSL）来编写构建脚本，提供了一种声明式和命令式兼备的强大构建方式。Gradle 融合了 Ant 的灵活性和 Maven 的约定式管理及依赖管理能力，旨在为多项目构建提供更强大的支持、更高的性能和更灵活的配置。  核心思想：Gradle 采用 基于 Groovy&#x2F;Kotlin DSL 的脚本 来定义构建逻辑，结合了 增量编译 和 构建缓存 技术，以实现高性能。它通过 自定义任务和插件 提供了极高的灵活性，同时通过 约定优于配置 的原则降低了复杂性。   一、为什么需要 Gradle？尽管 Maven 在 Java 项目构建中取得了巨大成功，但它也存在一些局限性，促使了 Gradle 的出现和流行：  Maven 的 XML 配置冗长复杂： pom.xml 文件随着项目规模的增长会变得非常庞大和难以阅读。 XML 配置相比于编程语言，表达能力有限，实现复杂逻辑时会很繁琐。   Maven 的灵活性不足： Maven 严格遵...</div></div></div></a><a class="pagination-related" href="/5febe994b52e/" title="Java 构建工具 Maven 详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-02.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-06-07</div><div class="info-item-2">Java 构建工具 Maven 详解</div></div><div class="info-2"><div class="info-item-1"> Apache Maven (Maven) 是一个强大的项目管理和构建自动化工具，主要服务于基于 Java 的项目。它遵循约定优于配置 (Convention over Configuration) 的原则，提供了一个标准化的项目结构和生命周期，用于编译、测试、打包、部署等任务。Maven 的核心目标是让项目构建过程标准化、可预测且易于维护，同时提供强大的依赖管理功能。  核心思想：Maven 将项目视为一系列相互依赖的模块，通过一个声明式的 XML 文件 (pom.xml) 来管理项目的构建、报告和文档。它推崇一套标准的项目布局和生命周期，从而减少开发者在配置上的工作量。   一、为什么需要 Maven？在 Maven 出现之前，Java 项目的构建和管理通常面临诸多挑战：  依赖管理混乱： 项目所需的所有第三方 JAR 包都需要手动下载并添加到项目的 classpath 中。 如果多个项目使用相同库的不同版本，容易引发冲突 (JAR Hell)。 依赖的依赖（传递性依赖）管理起来更加复杂。   构建过程非标准化： 不同的项目可能有不同的构建脚本 (如 Ant)，导致构建步骤不...</div></div></div></a><a class="pagination-related" href="/f6307a80c973/" title="Python 防止循环依赖 (Circular Dependencies) 详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-17.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-08-07</div><div class="info-item-2">Python 防止循环依赖 (Circular Dependencies) 详解</div></div><div class="info-2"><div class="info-item-1"> 循环依赖 (Circular Dependency) 指的是两个或多个模块（在 Python 中通常是文件或包）之间相互直接或间接地导入对方。例如，moduleA.py 导入了 moduleB.py，而 moduleB.py 也导入了 moduleA.py。与 Golang 等语言在编译时直接报错不同，Python 在运行时才处理导入，因此循环依赖通常不会立即导致语法错误，但会在运行时触发 ImportError 或导致不可预测的行为，使代码难以理解、测试和维护。  核心思想：Python 允许在运行时灵活处理导入，但循环依赖是一个设计缺陷的信号，会导致运行时错误或维护噩梦。解决它的关键在于重构代码以建立单向依赖。   一、为什么循环依赖是一个问题？尽管 Python 不像 Go 那样在编译时严格禁止循环依赖，但它依然是需要极力避免的设计缺陷：  运行时 ImportError:这是最常见的直接问题。当 Python 解释器遇到循环导入时，某个模块在被完全初始化之前可能就被另一个模块尝试导入，导致模块中的对象、函数或类尚未定义而引发 ImportError。 示例：module...</div></div></div></a><a class="pagination-related" href="/97dc2f650f49/" title="Jinja2 深度解析"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-20.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-08-12</div><div class="info-item-2">Jinja2 深度解析</div></div><div class="info-2"><div class="info-item-1"> Jinja2 是一个功能强大、灵活且广泛使用的 Python 模板引擎。它由 Armin Ronacher 创建，是 Flask Web 框架默认的模板引擎，但也常用于其他 Python 项目，如静态网站生成、自动化配置管理（例如 Ansible）等。Jinja2 的设计灵感来源于 Django 模板语言，但提供了更多高级功能和更易用的 API。 本文将深入探讨 Jinja2 的核心特性，并着重介绍一系列高效使用技巧，帮助开发者更优雅、更高效地构建动态内容。  核心思想：Jinja2 旨在将应用的逻辑（Python 代码）与展示逻辑（HTML&#x2F;文本）清晰地分离。它提供了一种简洁的语法，允许开发者在模板中嵌入变量、控制结构（如循环、条件判断）和自定义过滤器，从而动态生成文本内容。高效利用 Jinja2 的高级功能和最佳实践，可以显著提升开发效率和模板的可维护性。   一、为什么需要模板引擎？在 Web 开发或其他需要生成动态文本内容的场景中，我们经常需要将程序数据（如从数据库获取的数据、用户输入等）与预定义的结构化文本（如 HTML 页面、配置文件、邮件内容）结合起来。...</div></div></div></a><a class="pagination-related" href="/eb77bb139028/" title="网络编程中“流”的详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-04.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-06-17</div><div class="info-item-2">网络编程中“流”的详解</div></div><div class="info-2"><div class="info-item-1"> 在计算机网络编程中，“流 (Stream)”是一个非常核心且抽象的概念，它通常用来描述数据在两个实体之间进行传输时，数据流动的抽象表示。尤其在基于 TCP 协议的网络通信中，“流”的概念至关重要，它模拟了数据的顺序传输和持续性连接。理解“流”有助于开发者更好地掌握网络数据传输的本质，并编写出健壮、高效的网络应用程序。  核心思想：网络编程中的“流”是一种抽象，表示数据像水流一样顺序、持续地从一个端点流向另一个端点，封装了底层网络传输的复杂性。   一、什么是“流”？在网络编程中，“流”可以被理解为：  数据的有序序列 (Ordered Sequence of Data)：数据被发送时按照发送的顺序到达接收方，不会乱序。 持续的数据传输通道 (Continuous Data Flow Channel)：它代表了客户端与服务器之间建立的一种逻辑连接，数据可以在这个连接上持续不断地传输，就像水流一样。 抽象的读写接口 (Abstract Read&#x2F;Write Interface)：开发者通过操作流接口（例如 read()、write()），而不必关心底层数据的分段、组装、路...</div></div></div></a><a class="pagination-related" href="/8fad93ea4f62/" title="ALPN (Application-Layer Protocol Negotiation) 详解"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-22.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-04-11</div><div class="info-item-2">ALPN (Application-Layer Protocol Negotiation) 详解</div></div><div class="info-2"><div class="info-item-1"> ALPN (Application-Layer Protocol Negotiation)，即应用层协议协商，是 TLS (传输层安全) 协议的一个扩展，允许客户端和服务器在进行 TLS 握手时，协商决定在加密连接上使用哪个应用层协议。它在 RFC 7301 中被定义。ALPN 的出现，极大地简化了现代网络协议的部署和使用，尤其是对于 HTTP&#x2F;2 和未来的 QUIC 等协议。  核心思想：ALPN 将应用层协议的选择过程集成到 TLS 握手阶段，使得在建立加密连接的同时，也完成了应用层协议的确定，避免了额外的往返延迟，并允许在同一端口上运行多种应用层协议。   一、为什么需要 ALPN？在 ALPN 出现之前，协商应用层协议通常面临以下挑战：  端口绑定：传统的做法是为不同的应用层协议使用不同的端口。例如，HTTP 使用 80 端口，HTTPS 使用 443 端口，FTP 使用 21 端口。当引入新的协议（如 HTTP&#x2F;2 或 SPDY）时，如果想与现有协议共存，就必须使用新的端口，这会增加防火墙配置、负载均衡设置的复杂性，并且用户可能需要记住非标准的端口...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/loading.gif" data-lazy-src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">TeaTang</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">536</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">229</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">84</div></a></div><a id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/teatang"><i class="fab fa-github"></i><span>GitHub主页</span></a><div class="card-info-social-icons"><a class="social-icon" href="mailto:tea.tang1211@gmail.com" rel="external nofollow noreferrer" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title="RSS"><i class="fas fa-rss"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">网站更多功能即将上线，敬请期待！</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%BA%A7%E5%8C%85%E7%AE%A1%E7%90%86%E5%99%A8"><span class="toc-text">一、操作系统级包管理器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-Linux%EF%BC%9AAPT-Debian-Ubuntu"><span class="toc-text">1.1 Linux：APT (Debian&#x2F;Ubuntu)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-Linux%EF%BC%9AYum-DNF-RHEL-CentOS-Fedora"><span class="toc-text">1.2 Linux：Yum &#x2F; DNF (RHEL&#x2F;CentOS&#x2F;Fedora)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-macOS%EF%BC%9AHomebrew"><span class="toc-text">1.3 macOS：Homebrew</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-Windows%EF%BC%9AChocolatey"><span class="toc-text">1.4 Windows：Chocolatey</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-5-Windows%EF%BC%9AWinget-Windows-Package-Manager"><span class="toc-text">1.5 Windows：Winget (Windows Package Manager)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E7%BA%A7%E5%8C%85%E7%AE%A1%E7%90%86%E5%99%A8"><span class="toc-text">二、编程语言级包管理器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-JavaScript-Node-js%EF%BC%9Anpm-Yarn-pnpm"><span class="toc-text">2.1 JavaScript &#x2F; Node.js：npm &#x2F; Yarn &#x2F; pnpm</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-Python%EF%BC%9Apip-Poetry-pipenv"><span class="toc-text">2.2 Python：pip &#x2F; Poetry &#x2F; pipenv</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-Go%EF%BC%9AGo-Modules"><span class="toc-text">2.3 Go：Go Modules</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-Java%EF%BC%9AMaven-Gradle"><span class="toc-text">2.4 Java：Maven &#x2F; Gradle</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-Rust%EF%BC%9ACargo"><span class="toc-text">2.5 Rust：Cargo</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E6%80%BB%E7%BB%93"><span class="toc-text">三、总结</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/8fc7e3e72510/" title="前端渲染模式：CSR, SSR, SSG, ISR, DPR 详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-30.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="前端渲染模式：CSR, SSR, SSG, ISR, DPR 详解"/></a><div class="content"><a class="title" href="/8fc7e3e72510/" title="前端渲染模式：CSR, SSR, SSG, ISR, DPR 详解">前端渲染模式：CSR, SSR, SSG, ISR, DPR 详解</a><time datetime="2026-01-27T22:24:00.000Z" title="发表于 2026-01-28 06:24:00">2026-01-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/5341a0037256/" title="CSS-in-JS 详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-02.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CSS-in-JS 详解"/></a><div class="content"><a class="title" href="/5341a0037256/" title="CSS-in-JS 详解">CSS-in-JS 详解</a><time datetime="2026-01-25T22:24:00.000Z" title="发表于 2026-01-26 06:24:00">2026-01-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/0b52cb819619/" title="Git 核心对象：Commit, Tree, Blob 详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-22.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Git 核心对象：Commit, Tree, Blob 详解"/></a><div class="content"><a class="title" href="/0b52cb819619/" title="Git 核心对象：Commit, Tree, Blob 详解">Git 核心对象：Commit, Tree, Blob 详解</a><time datetime="2026-01-21T22:24:00.000Z" title="发表于 2026-01-22 06:24:00">2026-01-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/1d2a942bda1e/" title="Terraform 详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-14.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Terraform 详解"/></a><div class="content"><a class="title" href="/1d2a942bda1e/" title="Terraform 详解">Terraform 详解</a><time datetime="2026-01-19T22:24:00.000Z" title="发表于 2026-01-20 06:24:00">2026-01-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/26cdb2447b3d/" title="WebView 详解"><img src="/img/loading.gif" data-lazy-src="/img/cover/default_cover-12.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="WebView 详解"/></a><div class="content"><a class="title" href="/26cdb2447b3d/" title="WebView 详解">WebView 详解</a><time datetime="2026-01-17T22:24:00.000Z" title="发表于 2026-01-18 06:24:00">2026-01-18</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/img/cover/default_cover-16.jpg);"><div class="footer-flex"><div class="footer-flex-items"><div class="footer-flex-item"><div class="footer-flex-title">我的轨迹</div><div class="footer-flex-content"><a href="/archives/2023/" target="_blank" title="🆕 2023">🆕 2023</a><a href="/archives/2024/" target="_blank" title="🆒 2024">🆒 2024</a><a href="/archives/2025/" target="_blank" title="👨‍👩‍👦 2025">👨‍👩‍👦 2025</a><a href="/archives/2026/" target="_blank" title="🆙 2026">🆙 2026</a></div></div></div><div class="footer-flex-items"><div class="footer-flex-item"><div class="footer-flex-title">维度</div><div class="footer-flex-content"><a href="/categories/" target="_blank" title="📁 分类">📁 分类</a><a href="/tags/" target="_blank" title="🔖 标签">🔖 标签</a><a href="/categories/" target="_blank" title="📽️ 时间线">📽️ 时间线</a></div></div></div><div class="footer-flex-items"><div class="footer-flex-item"><div class="footer-flex-title">其他</div><div class="footer-flex-content"><a href="/shuoshuo" target="_blank" title="💬 说说">💬 说说</a></div></div></div></div><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2023 - 2026 By TeaTang</span><span class="framework-info"><span class="footer-separator">|</span><span>框架 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.4"></script><script src="/js/main.js?v=5.5.4"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.1.9/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@19.1.3/dist/lazyload.iife.min.js"></script><div class="js-pjax"><script>(() => {
  const parseViewBox = viewBox => {
    if (!viewBox) return null
    const parts = viewBox.trim().split(/[\s,]+/).map(n => Number(n))
    if (parts.length !== 4 || parts.some(n => Number.isNaN(n))) return null
    return parts
  }

  const getSvgViewBox = svg => {
    const attr = parseViewBox(svg.getAttribute('viewBox'))
    if (attr) return attr

    // Fallback: use bbox to build a viewBox
    try {
      const bbox = svg.getBBox()
      if (bbox && bbox.width && bbox.height) return [bbox.x, bbox.y, bbox.width, bbox.height]
    } catch (e) {
      // getBBox may fail on some edge cases; ignore
    }

    const w = Number(svg.getAttribute('width')) || 0
    const h = Number(svg.getAttribute('height')) || 0
    if (w > 0 && h > 0) return [0, 0, w, h]
    return [0, 0, 100, 100]
  }

  const setSvgViewBox = (svg, vb) => {
    svg.setAttribute('viewBox', `${vb[0]} ${vb[1]} ${vb[2]} ${vb[3]}`)
  }

  const clamp = (v, min, max) => Math.max(min, Math.min(max, v))

  const openSvgInNewTab = ({ source, initViewBox }) => {
    const getClonedSvg = () => {
      if (typeof source === 'string') {
        const template = document.createElement('template')
        template.innerHTML = source.trim()
        const svg = template.content.querySelector('svg')
        return svg ? svg.cloneNode(true) : null
      }
      if (source && typeof source.cloneNode === 'function') {
        return source.cloneNode(true)
      }
      return null
    }

    const clone = getClonedSvg()
    if (!clone) return
    if (initViewBox && initViewBox.length === 4) {
      clone.setAttribute('viewBox', initViewBox.join(' '))
    }
    if (!clone.getAttribute('xmlns')) clone.setAttribute('xmlns', 'http://www.w3.org/2000/svg')
    if (!clone.getAttribute('xmlns:xlink') && clone.outerHTML.includes('xlink:')) {
      clone.setAttribute('xmlns:xlink', 'http://www.w3.org/1999/xlink')
    }
    // inject background to match current theme
    const isDark = document.documentElement.getAttribute('data-theme') === 'dark'
    const bg = getComputedStyle(document.body).backgroundColor || (isDark ? '#1e1e1e' : '#ffffff')
    if (!clone.style.background) clone.style.background = bg

    const serializer = new XMLSerializer()
    const svgSource = serializer.serializeToString(clone)
    const htmlSource = `<!doctype html><html><head><meta charset="utf-8" />
      <style>
        html, body { width: 100%; height: 100%; margin: 0; display: flex; align-items: center; justify-content: center; background: ${bg}; }
        svg { max-width: 100%; max-height: 100%; height: auto; width: auto; }
      </style>
      </head><body>${svgSource}</body></html>`
    const blob = new Blob([htmlSource], { type: 'text/html;charset=utf-8' })
    const url = URL.createObjectURL(blob)
    window.open(url, '_blank', 'noopener')
    setTimeout(() => URL.revokeObjectURL(url), 30000)
  }

  const attachMermaidViewerButton = wrap => {
    let btn = wrap.querySelector('.mermaid-open-btn')
    if (!btn) {
      btn = document.createElement('button')
      btn.type = 'button'
      btn.className = 'mermaid-open-btn'
      wrap.appendChild(btn)
    }

    btn.innerHTML = '<i class="fa fa-search fa-fw" aria-hidden="true"></i>'

    if (!btn.__mermaidViewerBound) {
      btn.addEventListener('click', e => {
        e.preventDefault()
        e.stopPropagation()
        const svg = wrap.__mermaidOriginalSvg || wrap.querySelector('svg')
        if (!svg) return
        const initViewBox = wrap.__mermaidInitViewBox
        if (typeof svg === 'string') {
          openSvgInNewTab({ source: svg, initViewBox })
          return
        }
        openSvgInNewTab({ source: svg, initViewBox })
      })
      btn.__mermaidViewerBound = true
    }
  }

  // Zoom around a point (px, py) in the SVG viewport (in viewBox coordinates)
  const zoomAtPoint = (vb, factor, px, py) => {
    const w = vb[2] * factor
    const h = vb[3] * factor
    const nx = px - (px - vb[0]) * factor
    const ny = py - (py - vb[1]) * factor
    return [nx, ny, w, h]
  }

  const initMermaidGestures = wrap => {
    const svg = wrap.querySelector('svg')
    if (!svg) return

    // Ensure viewBox exists so gestures always work
    const initVb = getSvgViewBox(svg)
    wrap.__mermaidInitViewBox = initVb
    wrap.__mermaidCurViewBox = initVb.slice()
    setSvgViewBox(svg, initVb)

    // Avoid binding multiple times on themeChange/pjax
    if (wrap.__mermaidGestureBound) return
    wrap.__mermaidGestureBound = true

    // Helper: map client (viewport) coordinate -> viewBox coordinate
    const clientToViewBox = (clientX, clientY) => {
      const rect = svg.getBoundingClientRect()
      const vb = wrap.__mermaidCurViewBox || getSvgViewBox(svg)
      const x = vb[0] + (clientX - rect.left) * (vb[2] / rect.width)
      const y = vb[1] + (clientY - rect.top) * (vb[3] / rect.height)
      return { x, y, rect, vb }
    }

    const state = {
      pointers: new Map(),
      startVb: null,
      startDist: 0,
      startCenter: null
    }

    const clampVb = vb => {
      const init = wrap.__mermaidInitViewBox || vb
      const minW = init[2] * 0.1
      const maxW = init[2] * 10
      const minH = init[3] * 0.1
      const maxH = init[3] * 10
      vb[2] = clamp(vb[2], minW, maxW)
      vb[3] = clamp(vb[3], minH, maxH)
      return vb
    }

    const setCurVb = vb => {
      vb = clampVb(vb)
      wrap.__mermaidCurViewBox = vb
      setSvgViewBox(svg, vb)
    }

    const onPointerDown = e => {
      // Allow only primary button for mouse
      if (e.pointerType === 'mouse' && e.button !== 0) return
      svg.setPointerCapture(e.pointerId)
      state.pointers.set(e.pointerId, { x: e.clientX, y: e.clientY })

      if (state.pointers.size === 1) {
        state.startVb = (wrap.__mermaidCurViewBox || getSvgViewBox(svg)).slice()
      } else if (state.pointers.size === 2) {
        const pts = [...state.pointers.values()]
        const dx = pts[0].x - pts[1].x
        const dy = pts[0].y - pts[1].y
        state.startDist = Math.hypot(dx, dy)
        state.startVb = (wrap.__mermaidCurViewBox || getSvgViewBox(svg)).slice()
        state.startCenter = { x: (pts[0].x + pts[1].x) / 2, y: (pts[0].y + pts[1].y) / 2 }
      }
    }

    const onPointerMove = e => {
      if (!state.pointers.has(e.pointerId)) return
      state.pointers.set(e.pointerId, { x: e.clientX, y: e.clientY })

      // Pan with 1 pointer
      if (state.pointers.size === 1 && state.startVb) {
        const p = [...state.pointers.values()][0]
        const prev = { x: e.clientX - e.movementX, y: e.clientY - e.movementY }
        // movementX/Y unreliable on touch, compute from stored last position
        const last = wrap.__mermaidLastSinglePointer || p
        const dxClient = p.x - last.x
        const dyClient = p.y - last.y
        wrap.__mermaidLastSinglePointer = p

        const { rect } = clientToViewBox(p.x, p.y)
        const vb = (wrap.__mermaidCurViewBox || getSvgViewBox(svg)).slice()
        const dx = dxClient * (vb[2] / rect.width)
        const dy = dyClient * (vb[3] / rect.height)
        setCurVb([vb[0] - dx, vb[1] - dy, vb[2], vb[3]])
        return
      }

      // Pinch zoom with 2 pointers
      if (state.pointers.size === 2 && state.startVb && state.startDist > 0) {
        const pts = [...state.pointers.values()]
        const dx = pts[0].x - pts[1].x
        const dy = pts[0].y - pts[1].y
        const dist = Math.hypot(dx, dy)
        if (!dist) return
        const factor = state.startDist / dist // dist bigger => zoom in (viewBox smaller)

        const cx = (pts[0].x + pts[1].x) / 2
        const cy = (pts[0].y + pts[1].y) / 2
        const centerClient = { x: cx, y: cy }

        const pxy = clientToViewBox(centerClient.x, centerClient.y)
        const cpx = pxy.x
        const cpy = pxy.y

        const vb = zoomAtPoint(state.startVb, factor, cpx, cpy)
        setCurVb(vb)
      }
    }

    const onPointerUpOrCancel = e => {
      state.pointers.delete(e.pointerId)
      if (state.pointers.size === 0) {
        state.startVb = null
        state.startDist = 0
        state.startCenter = null
        wrap.__mermaidLastSinglePointer = null
      } else if (state.pointers.size === 1) {
        // reset single pointer baseline to avoid jump
        wrap.__mermaidLastSinglePointer = [...state.pointers.values()][0]
      }
    }

    // Wheel zoom (mouse/trackpad)
    const onWheel = e => {
      // ctrlKey on mac trackpad pinch; we treat both as zoom
      e.preventDefault()
      const delta = e.deltaY
      const zoomFactor = delta > 0 ? 1.1 : 0.9
      const { x, y } = clientToViewBox(e.clientX, e.clientY)
      const vb = (wrap.__mermaidCurViewBox || getSvgViewBox(svg)).slice()
      setCurVb(zoomAtPoint(vb, zoomFactor, x, y))
    }

    const onDblClick = () => {
      const init = wrap.__mermaidInitViewBox
      if (!init) return
      wrap.__mermaidCurViewBox = init.slice()
      setSvgViewBox(svg, init)
    }

    svg.addEventListener('pointerdown', onPointerDown)
    svg.addEventListener('pointermove', onPointerMove)
    svg.addEventListener('pointerup', onPointerUpOrCancel)
    svg.addEventListener('pointercancel', onPointerUpOrCancel)
    svg.addEventListener('wheel', onWheel, { passive: false })
    svg.addEventListener('dblclick', onDblClick)
  }

  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild

      // Clear old render (themeChange/pjax will rerun)
      const oldSvg = item.querySelector('svg')
      if (oldSvg) oldSvg.remove()
      item.__mermaidGestureBound = false

      const config = mermaidSrc.dataset.config ? JSON.parse(mermaidSrc.dataset.config) : {}
      if (!config.theme) {
        config.theme = theme
      }
      const mermaidThemeConfig = `%%{init: ${JSON.stringify(config)}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
        if (true) initMermaidGestures(item)
        item.__mermaidOriginalSvg = svg
        if (true) attachMermaidViewerButton(item)
      }


      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid@11.12.2/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>(() => {
  const applyThemeDefaultsConfig = theme => {
    if (theme === 'dark-mode') {
      Chart.defaults.color = "rgba(255, 255, 255, 0.8)"
      Chart.defaults.borderColor = "rgba(255, 255, 255, 0.2)"
      Chart.defaults.scale.ticks.backdropColor = "transparent"
    } else {
      Chart.defaults.color = "rgba(0, 0, 0, 0.8)"
      Chart.defaults.borderColor = "rgba(0, 0, 0, 0.1)"
      Chart.defaults.scale.ticks.backdropColor = "transparent"
    }
  }

  // Recursively traverse the config object and automatically apply theme-specific color schemes
  const applyThemeConfig = (obj, theme) => {
    if (typeof obj !== 'object' || obj === null) return

    Object.keys(obj).forEach(key => {
      const value = obj[key]
      // If the property is an object and has theme-specific options, apply them
      if (typeof value === 'object' && value !== null) {
        if (value[theme]) {
          obj[key] = value[theme] // Apply the value for the current theme
        } else {
          // Recursively process child objects
          applyThemeConfig(value, theme)
        }
      }
    })
  }

  const runChartJS = ele => {
    window.loadChartJS = true

    Array.from(ele).forEach((item, index) => {
      const chartSrc = item.firstElementChild
      const chartID = item.getAttribute('data-chartjs-id') || ('chartjs-' + index) // Use custom ID or default ID
      const width = item.getAttribute('data-width')
      const existingCanvas = document.getElementById(chartID)

      // If a canvas already exists, remove it to avoid rendering duplicates
      if (existingCanvas) {
          existingCanvas.parentNode.remove()
      }

      const chartDefinition = chartSrc.textContent
      const canvas = document.createElement('canvas')
      canvas.id = chartID

      const div = document.createElement('div')
      div.className = 'chartjs-wrap'

      if (width) {
        div.style.width = width
      }

      div.appendChild(canvas)
      chartSrc.insertAdjacentElement('afterend', div)

      const ctx = document.getElementById(chartID).getContext('2d')

      const config = JSON.parse(chartDefinition)

      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark-mode' : 'light-mode'

      // Set default styles (initial setup)
      applyThemeDefaultsConfig(theme)

      // Automatically traverse the config and apply dual-mode color schemes
      applyThemeConfig(config, theme)

      new Chart(ctx, config)
    })
  }

  const loadChartJS = () => {
    const chartJSEle = document.querySelectorAll('#article-container .chartjs-container')
    if (chartJSEle.length === 0) return

    window.loadChartJS ? runChartJS(chartJSEle) : btf.getScript('https://cdn.jsdelivr.net/npm/chart.js@4.5.1/dist/chart.umd.min.js').then(() => runChartJS(chartJSEle))
  }

  // Listen for theme change events
  btf.addGlobalFn('themeChange', loadChartJS, 'chartjs')
  btf.addGlobalFn('encrypt', loadChartJS, 'chartjs')

  window.pjax ? loadChartJS() : document.addEventListener('DOMContentLoaded', loadChartJS)
})()</script></div><script data-pjax src="/self/btf.js"></script><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/fireworks.min.js"></script><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="ture"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-fluttering-ribbon.min.js"></script><script id="canvas_nest" defer="defer" color="0,200,200" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js" defer="defer"></script><script>document.addEventListener('DOMContentLoaded', () => {
  const pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => {
      try {
        fn()
      } catch (err) {
        console.debug('Pjax callback failed:', err)
      }
    })
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      true
        ? pjax.loadUrl('/404.html')
        : window.location.href = e.request.responseURL
    }
  })
})</script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden="hidden"></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="local-search-input"><input placeholder="搜索文章" type="text"/></div><hr/><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none;"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=5.5.4"></script></div></div></body></html>